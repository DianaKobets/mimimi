(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))o(c);new MutationObserver(c=>{for(const f of c)if(f.type==="childList")for(const d of f.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&o(d)}).observe(document,{childList:!0,subtree:!0});function s(c){const f={};return c.integrity&&(f.integrity=c.integrity),c.referrerPolicy&&(f.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?f.credentials="include":c.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function o(c){if(c.ep)return;c.ep=!0;const f=s(c);fetch(c.href,f)}})();var vp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function L2(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var xg={exports:{}},af={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yp;function w4(){if(yp)return af;yp=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function s(o,c,f){var d=null;if(f!==void 0&&(d=""+f),c.key!==void 0&&(d=""+c.key),"key"in c){f={};for(var p in c)p!=="key"&&(f[p]=c[p])}else f=c;return c=f.ref,{$$typeof:a,type:o,key:d,ref:c!==void 0?c:null,props:f}}return af.Fragment=e,af.jsx=s,af.jsxs=s,af}var Sp;function U4(){return Sp||(Sp=1,xg.exports=w4()),xg.exports}var Te=U4(),wg={exports:{}},Wt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bp;function z4(){if(bp)return Wt;bp=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),T=Symbol.iterator;function C(q){return q===null||typeof q!="object"?null:(q=T&&q[T]||q["@@iterator"],typeof q=="function"?q:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,O={};function w(q,$,ft){this.props=q,this.context=$,this.refs=O,this.updater=ft||A}w.prototype.isReactComponent={},w.prototype.setState=function(q,$){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,$,"setState")},w.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function H(){}H.prototype=w.prototype;function N(q,$,ft){this.props=q,this.context=$,this.refs=O,this.updater=ft||A}var R=N.prototype=new H;R.constructor=N,E(R,w.prototype),R.isPureReactComponent=!0;var U=Array.isArray,B={H:null,A:null,T:null,S:null,V:null},k=Object.prototype.hasOwnProperty;function J(q,$,ft,nt,ut,yt){return ft=yt.ref,{$$typeof:a,type:q,key:$,ref:ft!==void 0?ft:null,props:yt}}function X(q,$){return J(q.type,$,void 0,void 0,void 0,q.props)}function F(q){return typeof q=="object"&&q!==null&&q.$$typeof===a}function Y(q){var $={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(ft){return $[ft]})}var P=/\/+/g;function tt(q,$){return typeof q=="object"&&q!==null&&q.key!=null?Y(""+q.key):$.toString(36)}function x(){}function V(q){switch(q.status){case"fulfilled":return q.value;case"rejected":throw q.reason;default:switch(typeof q.status=="string"?q.then(x,x):(q.status="pending",q.then(function($){q.status==="pending"&&(q.status="fulfilled",q.value=$)},function($){q.status==="pending"&&(q.status="rejected",q.reason=$)})),q.status){case"fulfilled":return q.value;case"rejected":throw q.reason}}throw q}function G(q,$,ft,nt,ut){var yt=typeof q;(yt==="undefined"||yt==="boolean")&&(q=null);var Et=!1;if(q===null)Et=!0;else switch(yt){case"bigint":case"string":case"number":Et=!0;break;case"object":switch(q.$$typeof){case a:case e:Et=!0;break;case b:return Et=q._init,G(Et(q._payload),$,ft,nt,ut)}}if(Et)return ut=ut(q),Et=nt===""?"."+tt(q,0):nt,U(ut)?(ft="",Et!=null&&(ft=Et.replace(P,"$&/")+"/"),G(ut,$,ft,"",function(Ct){return Ct})):ut!=null&&(F(ut)&&(ut=X(ut,ft+(ut.key==null||q&&q.key===ut.key?"":(""+ut.key).replace(P,"$&/")+"/")+Et)),$.push(ut)),1;Et=0;var W=nt===""?".":nt+":";if(U(q))for(var rt=0;rt<q.length;rt++)nt=q[rt],yt=W+tt(nt,rt),Et+=G(nt,$,ft,yt,ut);else if(rt=C(q),typeof rt=="function")for(q=rt.call(q),rt=0;!(nt=q.next()).done;)nt=nt.value,yt=W+tt(nt,rt++),Et+=G(nt,$,ft,yt,ut);else if(yt==="object"){if(typeof q.then=="function")return G(V(q),$,ft,nt,ut);throw $=String(q),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return Et}function D(q,$,ft){if(q==null)return q;var nt=[],ut=0;return G(q,nt,"","",function(yt){return $.call(ft,yt,ut++)}),nt}function L(q){if(q._status===-1){var $=q._result;$=$(),$.then(function(ft){(q._status===0||q._status===-1)&&(q._status=1,q._result=ft)},function(ft){(q._status===0||q._status===-1)&&(q._status=2,q._result=ft)}),q._status===-1&&(q._status=0,q._result=$)}if(q._status===1)return q._result.default;throw q._result}var Q=typeof reportError=="function"?reportError:function(q){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof q=="object"&&q!==null&&typeof q.message=="string"?String(q.message):String(q),error:q});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",q);return}console.error(q)};function et(){}return Wt.Children={map:D,forEach:function(q,$,ft){D(q,function(){$.apply(this,arguments)},ft)},count:function(q){var $=0;return D(q,function(){$++}),$},toArray:function(q){return D(q,function($){return $})||[]},only:function(q){if(!F(q))throw Error("React.Children.only expected to receive a single React element child.");return q}},Wt.Component=w,Wt.Fragment=s,Wt.Profiler=c,Wt.PureComponent=N,Wt.StrictMode=o,Wt.Suspense=v,Wt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=B,Wt.__COMPILER_RUNTIME={__proto__:null,c:function(q){return B.H.useMemoCache(q)}},Wt.cache=function(q){return function(){return q.apply(null,arguments)}},Wt.cloneElement=function(q,$,ft){if(q==null)throw Error("The argument must be a React element, but you passed "+q+".");var nt=E({},q.props),ut=q.key,yt=void 0;if($!=null)for(Et in $.ref!==void 0&&(yt=void 0),$.key!==void 0&&(ut=""+$.key),$)!k.call($,Et)||Et==="key"||Et==="__self"||Et==="__source"||Et==="ref"&&$.ref===void 0||(nt[Et]=$[Et]);var Et=arguments.length-2;if(Et===1)nt.children=ft;else if(1<Et){for(var W=Array(Et),rt=0;rt<Et;rt++)W[rt]=arguments[rt+2];nt.children=W}return J(q.type,ut,void 0,void 0,yt,nt)},Wt.createContext=function(q){return q={$$typeof:d,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null},q.Provider=q,q.Consumer={$$typeof:f,_context:q},q},Wt.createElement=function(q,$,ft){var nt,ut={},yt=null;if($!=null)for(nt in $.key!==void 0&&(yt=""+$.key),$)k.call($,nt)&&nt!=="key"&&nt!=="__self"&&nt!=="__source"&&(ut[nt]=$[nt]);var Et=arguments.length-2;if(Et===1)ut.children=ft;else if(1<Et){for(var W=Array(Et),rt=0;rt<Et;rt++)W[rt]=arguments[rt+2];ut.children=W}if(q&&q.defaultProps)for(nt in Et=q.defaultProps,Et)ut[nt]===void 0&&(ut[nt]=Et[nt]);return J(q,yt,void 0,void 0,null,ut)},Wt.createRef=function(){return{current:null}},Wt.forwardRef=function(q){return{$$typeof:p,render:q}},Wt.isValidElement=F,Wt.lazy=function(q){return{$$typeof:b,_payload:{_status:-1,_result:q},_init:L}},Wt.memo=function(q,$){return{$$typeof:_,type:q,compare:$===void 0?null:$}},Wt.startTransition=function(q){var $=B.T,ft={};B.T=ft;try{var nt=q(),ut=B.S;ut!==null&&ut(ft,nt),typeof nt=="object"&&nt!==null&&typeof nt.then=="function"&&nt.then(et,Q)}catch(yt){Q(yt)}finally{B.T=$}},Wt.unstable_useCacheRefresh=function(){return B.H.useCacheRefresh()},Wt.use=function(q){return B.H.use(q)},Wt.useActionState=function(q,$,ft){return B.H.useActionState(q,$,ft)},Wt.useCallback=function(q,$){return B.H.useCallback(q,$)},Wt.useContext=function(q){return B.H.useContext(q)},Wt.useDebugValue=function(){},Wt.useDeferredValue=function(q,$){return B.H.useDeferredValue(q,$)},Wt.useEffect=function(q,$,ft){var nt=B.H;if(typeof ft=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return nt.useEffect(q,$)},Wt.useId=function(){return B.H.useId()},Wt.useImperativeHandle=function(q,$,ft){return B.H.useImperativeHandle(q,$,ft)},Wt.useInsertionEffect=function(q,$){return B.H.useInsertionEffect(q,$)},Wt.useLayoutEffect=function(q,$){return B.H.useLayoutEffect(q,$)},Wt.useMemo=function(q,$){return B.H.useMemo(q,$)},Wt.useOptimistic=function(q,$){return B.H.useOptimistic(q,$)},Wt.useReducer=function(q,$,ft){return B.H.useReducer(q,$,ft)},Wt.useRef=function(q){return B.H.useRef(q)},Wt.useState=function(q){return B.H.useState(q)},Wt.useSyncExternalStore=function(q,$,ft){return B.H.useSyncExternalStore(q,$,ft)},Wt.useTransition=function(){return B.H.useTransition()},Wt.version="19.1.0",Wt}var Ep;function x1(){return Ep||(Ep=1,wg.exports=z4()),wg.exports}var pt=x1();const yi=L2(pt);var Ug={exports:{}},lf={},zg={exports:{}},Gg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cp;function G4(){return Cp||(Cp=1,function(a){function e(D,L){var Q=D.length;D.push(L);t:for(;0<Q;){var et=Q-1>>>1,q=D[et];if(0<c(q,L))D[et]=L,D[Q]=q,Q=et;else break t}}function s(D){return D.length===0?null:D[0]}function o(D){if(D.length===0)return null;var L=D[0],Q=D.pop();if(Q!==L){D[0]=Q;t:for(var et=0,q=D.length,$=q>>>1;et<$;){var ft=2*(et+1)-1,nt=D[ft],ut=ft+1,yt=D[ut];if(0>c(nt,Q))ut<q&&0>c(yt,nt)?(D[et]=yt,D[ut]=Q,et=ut):(D[et]=nt,D[ft]=Q,et=ft);else if(ut<q&&0>c(yt,Q))D[et]=yt,D[ut]=Q,et=ut;else break t}}return L}function c(D,L){var Q=D.sortIndex-L.sortIndex;return Q!==0?Q:D.id-L.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;a.unstable_now=function(){return f.now()}}else{var d=Date,p=d.now();a.unstable_now=function(){return d.now()-p}}var v=[],_=[],b=1,T=null,C=3,A=!1,E=!1,O=!1,w=!1,H=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;function U(D){for(var L=s(_);L!==null;){if(L.callback===null)o(_);else if(L.startTime<=D)o(_),L.sortIndex=L.expirationTime,e(v,L);else break;L=s(_)}}function B(D){if(O=!1,U(D),!E)if(s(v)!==null)E=!0,k||(k=!0,tt());else{var L=s(_);L!==null&&G(B,L.startTime-D)}}var k=!1,J=-1,X=5,F=-1;function Y(){return w?!0:!(a.unstable_now()-F<X)}function P(){if(w=!1,k){var D=a.unstable_now();F=D;var L=!0;try{t:{E=!1,O&&(O=!1,N(J),J=-1),A=!0;var Q=C;try{e:{for(U(D),T=s(v);T!==null&&!(T.expirationTime>D&&Y());){var et=T.callback;if(typeof et=="function"){T.callback=null,C=T.priorityLevel;var q=et(T.expirationTime<=D);if(D=a.unstable_now(),typeof q=="function"){T.callback=q,U(D),L=!0;break e}T===s(v)&&o(v),U(D)}else o(v);T=s(v)}if(T!==null)L=!0;else{var $=s(_);$!==null&&G(B,$.startTime-D),L=!1}}break t}finally{T=null,C=Q,A=!1}L=void 0}}finally{L?tt():k=!1}}}var tt;if(typeof R=="function")tt=function(){R(P)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,V=x.port2;x.port1.onmessage=P,tt=function(){V.postMessage(null)}}else tt=function(){H(P,0)};function G(D,L){J=H(function(){D(a.unstable_now())},L)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(D){D.callback=null},a.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):X=0<D?Math.floor(1e3/D):5},a.unstable_getCurrentPriorityLevel=function(){return C},a.unstable_next=function(D){switch(C){case 1:case 2:case 3:var L=3;break;default:L=C}var Q=C;C=L;try{return D()}finally{C=Q}},a.unstable_requestPaint=function(){w=!0},a.unstable_runWithPriority=function(D,L){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var Q=C;C=D;try{return L()}finally{C=Q}},a.unstable_scheduleCallback=function(D,L,Q){var et=a.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?et+Q:et):Q=et,D){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=Q+q,D={id:b++,callback:L,priorityLevel:D,startTime:Q,expirationTime:q,sortIndex:-1},Q>et?(D.sortIndex=Q,e(_,D),s(v)===null&&D===s(_)&&(O?(N(J),J=-1):O=!0,G(B,Q-et))):(D.sortIndex=q,e(v,D),E||A||(E=!0,k||(k=!0,tt()))),D},a.unstable_shouldYield=Y,a.unstable_wrapCallback=function(D){var L=C;return function(){var Q=C;C=L;try{return D.apply(this,arguments)}finally{C=Q}}}}(Gg)),Gg}var Tp;function H4(){return Tp||(Tp=1,zg.exports=G4()),zg.exports}var Hg={exports:{}},vi={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ap;function B4(){if(Ap)return vi;Ap=1;var a=x1();function e(v){var _="https://react.dev/errors/"+v;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)_+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+v+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var o={d:{f:s,r:function(){throw Error(e(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},c=Symbol.for("react.portal");function f(v,_,b){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:T==null?null:""+T,children:v,containerInfo:_,implementation:b}}var d=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(v,_){if(v==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return vi.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,vi.createPortal=function(v,_){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return f(v,_,null,b)},vi.flushSync=function(v){var _=d.T,b=o.p;try{if(d.T=null,o.p=2,v)return v()}finally{d.T=_,o.p=b,o.d.f()}},vi.preconnect=function(v,_){typeof v=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,o.d.C(v,_))},vi.prefetchDNS=function(v){typeof v=="string"&&o.d.D(v)},vi.preinit=function(v,_){if(typeof v=="string"&&_&&typeof _.as=="string"){var b=_.as,T=p(b,_.crossOrigin),C=typeof _.integrity=="string"?_.integrity:void 0,A=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;b==="style"?o.d.S(v,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:T,integrity:C,fetchPriority:A}):b==="script"&&o.d.X(v,{crossOrigin:T,integrity:C,fetchPriority:A,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},vi.preinitModule=function(v,_){if(typeof v=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var b=p(_.as,_.crossOrigin);o.d.M(v,{crossOrigin:b,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&o.d.M(v)},vi.preload=function(v,_){if(typeof v=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var b=_.as,T=p(b,_.crossOrigin);o.d.L(v,b,{crossOrigin:T,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},vi.preloadModule=function(v,_){if(typeof v=="string")if(_){var b=p(_.as,_.crossOrigin);o.d.m(v,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:b,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else o.d.m(v)},vi.requestFormReset=function(v){o.d.r(v)},vi.unstable_batchedUpdates=function(v,_){return v(_)},vi.useFormState=function(v,_,b){return d.H.useFormState(v,_,b)},vi.useFormStatus=function(){return d.H.useHostTransitionStatus()},vi.version="19.1.0",vi}var Rp;function L4(){if(Rp)return Hg.exports;Rp=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),Hg.exports=B4(),Hg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Np;function q4(){if(Np)return lf;Np=1;var a=H4(),e=x1(),s=L4();function o(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function f(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function p(t){if(f(t)!==t)throw Error(o(188))}function v(t){var n=t.alternate;if(!n){if(n=f(t),n===null)throw Error(o(188));return n!==t?null:t}for(var r=t,u=n;;){var g=r.return;if(g===null)break;var y=g.alternate;if(y===null){if(u=g.return,u!==null){r=u;continue}break}if(g.child===y.child){for(y=g.child;y;){if(y===r)return p(g),t;if(y===u)return p(g),n;y=y.sibling}throw Error(o(188))}if(r.return!==u.return)r=g,u=y;else{for(var z=!1,j=g.child;j;){if(j===r){z=!0,r=g,u=y;break}if(j===u){z=!0,u=g,r=y;break}j=j.sibling}if(!z){for(j=y.child;j;){if(j===r){z=!0,r=y,u=g;break}if(j===u){z=!0,u=y,r=g;break}j=j.sibling}if(!z)throw Error(o(189))}}if(r.alternate!==u)throw Error(o(190))}if(r.tag!==3)throw Error(o(188));return r.stateNode.current===r?t:n}function _(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=_(t),n!==null)return n;t=t.sibling}return null}var b=Object.assign,T=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),A=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),O=Symbol.for("react.strict_mode"),w=Symbol.for("react.profiler"),H=Symbol.for("react.provider"),N=Symbol.for("react.consumer"),R=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),B=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),J=Symbol.for("react.memo"),X=Symbol.for("react.lazy"),F=Symbol.for("react.activity"),Y=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function tt(t){return t===null||typeof t!="object"?null:(t=P&&t[P]||t["@@iterator"],typeof t=="function"?t:null)}var x=Symbol.for("react.client.reference");function V(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===x?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case E:return"Fragment";case w:return"Profiler";case O:return"StrictMode";case B:return"Suspense";case k:return"SuspenseList";case F:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case A:return"Portal";case R:return(t.displayName||"Context")+".Provider";case N:return(t._context.displayName||"Context")+".Consumer";case U:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case J:return n=t.displayName||null,n!==null?n:V(t.type)||"Memo";case X:n=t._payload,t=t._init;try{return V(t(n))}catch{}}return null}var G=Array.isArray,D=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q={pending:!1,data:null,method:null,action:null},et=[],q=-1;function $(t){return{current:t}}function ft(t){0>q||(t.current=et[q],et[q]=null,q--)}function nt(t,n){q++,et[q]=t.current,t.current=n}var ut=$(null),yt=$(null),Et=$(null),W=$(null);function rt(t,n){switch(nt(Et,n),nt(yt,t),nt(ut,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Km(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Km(n),t=Pm(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}ft(ut),nt(ut,t)}function Ct(){ft(ut),ft(yt),ft(Et)}function Rt(t){t.memoizedState!==null&&nt(W,t);var n=ut.current,r=Pm(n,t.type);n!==r&&(nt(yt,t),nt(ut,r))}function Mt(t){yt.current===t&&(ft(ut),ft(yt)),W.current===t&&(ft(W),Wh._currentValue=Q)}var xt=Object.prototype.hasOwnProperty,te=a.unstable_scheduleCallback,re=a.unstable_cancelCallback,Xt=a.unstable_shouldYield,on=a.unstable_requestPaint,kt=a.unstable_now,Be=a.unstable_getCurrentPriorityLevel,Li=a.unstable_ImmediatePriority,Le=a.unstable_UserBlockingPriority,Zn=a.unstable_NormalPriority,qe=a.unstable_LowPriority,qn=a.unstable_IdlePriority,bi=a.log,qi=a.unstable_setDisableYieldValue,un=null,Ve=null;function En(t){if(typeof bi=="function"&&qi(t),Ve&&typeof Ve.setStrictMode=="function")try{Ve.setStrictMode(un,t)}catch{}}var Ze=Math.clz32?Math.clz32:Jn,Sa=Math.log,Vi=Math.LN2;function Jn(t){return t>>>=0,t===0?32:31-(Sa(t)/Vi|0)|0}var ke=256,Xe=4194304;function Wn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Sl(t,n,r){var u=t.pendingLanes;if(u===0)return 0;var g=0,y=t.suspendedLanes,z=t.pingedLanes;t=t.warmLanes;var j=u&134217727;return j!==0?(u=j&~y,u!==0?g=Wn(u):(z&=j,z!==0?g=Wn(z):r||(r=j&~t,r!==0&&(g=Wn(r))))):(j=u&~y,j!==0?g=Wn(j):z!==0?g=Wn(z):r||(r=u&~t,r!==0&&(g=Wn(r)))),g===0?0:n!==0&&n!==g&&(n&y)===0&&(y=g&-g,r=n&-n,y>=r||y===32&&(r&4194048)!==0)?n:g}function ja(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Jr(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(){var t=ke;return ke<<=1,(ke&4194048)===0&&(ke=256),t}function Uc(){var t=Xe;return Xe<<=1,(Xe&62914560)===0&&(Xe=4194304),t}function Ks(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function Ps(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function su(t,n,r,u,g,y){var z=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var j=t.entanglements,I=t.expirationTimes,ct=t.hiddenUpdates;for(r=z&~r;0<r;){var vt=31-Ze(r),bt=1<<vt;j[vt]=0,I[vt]=-1;var dt=ct[vt];if(dt!==null)for(ct[vt]=null,vt=0;vt<dt.length;vt++){var gt=dt[vt];gt!==null&&(gt.lane&=-536870913)}r&=~bt}u!==0&&zc(t,u,0),y!==0&&g===0&&t.tag!==0&&(t.suspendedLanes|=y&~(z&~n))}function zc(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var u=31-Ze(n);t.entangledLanes|=n,t.entanglements[u]=t.entanglements[u]|1073741824|r&4194090}function Gc(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var u=31-Ze(r),g=1<<u;g&n|t[u]&n&&(t[u]|=n),r&=~g}}function Qs(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function rs(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Wr(){var t=L.p;return t!==0?t:(t=window.event,t===void 0?32:fp(t.type))}function Td(t,n){var r=L.p;try{return L.p=t,n()}finally{L.p=r}}var Fa=Math.random().toString(36).slice(2),Dn="__reactFiber$"+Fa,Vn="__reactProps$"+Fa,bl="__reactContainer$"+Fa,ba="__reactEvents$"+Fa,Ad="__reactListeners$"+Fa,El="__reactHandles$"+Fa,Ea="__reactResources$"+Fa,Cl="__reactMarker$"+Fa;function Ke(t){delete t[Dn],delete t[Vn],delete t[ba],delete t[Ad],delete t[El]}function Tl(t){var n=t[Dn];if(n)return n;for(var r=t.parentNode;r;){if(n=r[bl]||r[Dn]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=Jm(t);t!==null;){if(r=t[Dn])return r;t=Jm(t)}return n}t=r,r=t.parentNode}return null}function Al(t){if(t=t[Dn]||t[bl]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function Is(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(o(33))}function os(t){var n=t[Ea];return n||(n=t[Ea]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Cn(t){t[Cl]=!0}var ru=new Set,ou={};function ka(t,n){pn(t,n),pn(t+"Capture",n)}function pn(t,n){for(ou[t]=n,t=0;t<n.length;t++)ru.add(n[t])}var cn=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Zs={},$r={};function Hc(t){return xt.call($r,t)?!0:xt.call(Zs,t)?!1:cn.test(t)?$r[t]=!0:(Zs[t]=!0,!1)}function Yi(t,n,r){if(Hc(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var u=n.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function us(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function sa(t,n,r,u){if(u===null)t.removeAttribute(r);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+u)}}var to,Bc;function cs(t){if(to===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);to=n&&n[1]||"",Bc=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+to+t+Bc}var uu=!1;function cu(t,n){if(!t||uu)return"";uu=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(n){var bt=function(){throw Error()};if(Object.defineProperty(bt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(bt,[])}catch(gt){var dt=gt}Reflect.construct(t,[],bt)}else{try{bt.call()}catch(gt){dt=gt}t.call(bt.prototype)}}else{try{throw Error()}catch(gt){dt=gt}(bt=t())&&typeof bt.catch=="function"&&bt.catch(function(){})}}catch(gt){if(gt&&dt&&typeof gt.stack=="string")return[gt.stack,dt.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=u.DetermineComponentFrameRoot(),z=y[0],j=y[1];if(z&&j){var I=z.split(`
`),ct=j.split(`
`);for(g=u=0;u<I.length&&!I[u].includes("DetermineComponentFrameRoot");)u++;for(;g<ct.length&&!ct[g].includes("DetermineComponentFrameRoot");)g++;if(u===I.length||g===ct.length)for(u=I.length-1,g=ct.length-1;1<=u&&0<=g&&I[u]!==ct[g];)g--;for(;1<=u&&0<=g;u--,g--)if(I[u]!==ct[g]){if(u!==1||g!==1)do if(u--,g--,0>g||I[u]!==ct[g]){var vt=`
`+I[u].replace(" at new "," at ");return t.displayName&&vt.includes("<anonymous>")&&(vt=vt.replace("<anonymous>",t.displayName)),vt}while(1<=u&&0<=g);break}}}finally{uu=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?cs(r):""}function Rd(t){switch(t.tag){case 26:case 27:case 5:return cs(t.type);case 16:return cs("Lazy");case 13:return cs("Suspense");case 19:return cs("SuspenseList");case 0:case 15:return cu(t.type,!1);case 11:return cu(t.type.render,!1);case 1:return cu(t.type,!0);case 31:return cs("Activity");default:return""}}function Lc(t){try{var n="";do n+=Rd(t),t=t.return;while(t);return n}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function ui(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function qc(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Q1(t){var n=qc(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),u=""+t[n];if(!t.hasOwnProperty(n)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var g=r.get,y=r.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return g.call(this)},set:function(z){u=""+z,y.call(this,z)}}),Object.defineProperty(t,n,{enumerable:r.enumerable}),{getValue:function(){return u},setValue:function(z){u=""+z},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function eo(t){t._valueTracker||(t._valueTracker=Q1(t))}function Vc(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),u="";return t&&(u=qc(t)?t.checked?"true":"false":t.value),t=u,t!==r?(n.setValue(t),!0):!1}function no(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Yc=/[\n"\\]/g;function Ei(t){return t.replace(Yc,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function hu(t,n,r,u,g,y,z,j){t.name="",z!=null&&typeof z!="function"&&typeof z!="symbol"&&typeof z!="boolean"?t.type=z:t.removeAttribute("type"),n!=null?z==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+ui(n)):t.value!==""+ui(n)&&(t.value=""+ui(n)):z!=="submit"&&z!=="reset"||t.removeAttribute("value"),n!=null?fu(t,z,ui(n)):r!=null?fu(t,z,ui(r)):u!=null&&t.removeAttribute("value"),g==null&&y!=null&&(t.defaultChecked=!!y),g!=null&&(t.checked=g&&typeof g!="function"&&typeof g!="symbol"),j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"?t.name=""+ui(j):t.removeAttribute("name")}function jc(t,n,r,u,g,y,z,j){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.type=y),n!=null||r!=null){if(!(y!=="submit"&&y!=="reset"||n!=null))return;r=r!=null?""+ui(r):"",n=n!=null?""+ui(n):r,j||n===t.value||(t.value=n),t.defaultValue=n}u=u??g,u=typeof u!="function"&&typeof u!="symbol"&&!!u,t.checked=j?t.checked:!!u,t.defaultChecked=!!u,z!=null&&typeof z!="function"&&typeof z!="symbol"&&typeof z!="boolean"&&(t.name=z)}function fu(t,n,r){n==="number"&&no(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function hs(t,n,r,u){if(t=t.options,n){n={};for(var g=0;g<r.length;g++)n["$"+r[g]]=!0;for(r=0;r<t.length;r++)g=n.hasOwnProperty("$"+t[r].value),t[r].selected!==g&&(t[r].selected=g),g&&u&&(t[r].defaultSelected=!0)}else{for(r=""+ui(r),n=null,g=0;g<t.length;g++){if(t[g].value===r){t[g].selected=!0,u&&(t[g].defaultSelected=!0);return}n!==null||t[g].disabled||(n=t[g])}n!==null&&(n.selected=!0)}}function Nd(t,n,r){if(n!=null&&(n=""+ui(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+ui(r):""}function Fc(t,n,r,u){if(n==null){if(u!=null){if(r!=null)throw Error(o(92));if(G(u)){if(1<u.length)throw Error(o(93));u=u[0]}r=u}r==null&&(r=""),n=r}r=ui(n),t.defaultValue=r,u=t.textContent,u===r&&u!==""&&u!==null&&(t.value=u)}function ra(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var Md=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function io(t,n,r){var u=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?u?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":u?t.setProperty(n,r):typeof r!="number"||r===0||Md.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function ao(t,n,r){if(n!=null&&typeof n!="object")throw Error(o(62));if(t=t.style,r!=null){for(var u in r)!r.hasOwnProperty(u)||n!=null&&n.hasOwnProperty(u)||(u.indexOf("--")===0?t.setProperty(u,""):u==="float"?t.cssFloat="":t[u]="");for(var g in n)u=n[g],n.hasOwnProperty(g)&&r[g]!==u&&io(t,g,u)}else for(var y in n)n.hasOwnProperty(y)&&io(t,y,n[y])}function du(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var kc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Dd=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function lo(t){return Dd.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var gu=null;function mu(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Rl=null,fs=null;function Xc(t){var n=Al(t);if(n&&(t=n.stateNode)){var r=t[Vn]||null;t:switch(t=n.stateNode,n.type){case"input":if(hu(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+Ei(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var u=r[n];if(u!==t&&u.form===t.form){var g=u[Vn]||null;if(!g)throw Error(o(90));hu(u,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(n=0;n<r.length;n++)u=r[n],u.form===t.form&&Vc(u)}break t;case"textarea":Nd(t,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&hs(t,!!r.multiple,n,!1)}}}var so=!1;function Kc(t,n,r){if(so)return t(n,r);so=!0;try{var u=t(n);return u}finally{if(so=!1,(Rl!==null||fs!==null)&&(La(),Rl&&(n=Rl,t=fs,fs=Rl=null,Xc(n),t)))for(n=0;n<t.length;n++)Xc(t[n])}}function Js(t,n){var r=t.stateNode;if(r===null)return null;var u=r[Vn]||null;if(u===null)return null;r=u[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(t=t.type,u=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!u;break t;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(o(231,n,typeof r));return r}var Ca=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ro=!1;if(Ca)try{var Ws={};Object.defineProperty(Ws,"passive",{get:function(){ro=!0}}),window.addEventListener("test",Ws,Ws),window.removeEventListener("test",Ws,Ws)}catch{ro=!1}var Xa=null,Pc=null,pu=null;function Qc(){if(pu)return pu;var t,n=Pc,r=n.length,u,g="value"in Xa?Xa.value:Xa.textContent,y=g.length;for(t=0;t<r&&n[t]===g[t];t++);var z=r-t;for(u=1;u<=z&&n[r-u]===g[y-u];u++);return pu=g.slice(t,1<u?1-u:void 0)}function Nl(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function $s(){return!0}function oo(){return!1}function $n(t){function n(r,u,g,y,z){this._reactName=r,this._targetInst=g,this.type=u,this.nativeEvent=y,this.target=z,this.currentTarget=null;for(var j in t)t.hasOwnProperty(j)&&(r=t[j],this[j]=r?r(y):y[j]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?$s:oo,this.isPropagationStopped=oo,this}return b(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=$s)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=$s)},persist:function(){},isPersistent:$s}),n}var Ml={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},tr=$n(Ml),er=b({},Ml,{view:0,detail:0}),Od=$n(er),Ka,nr,ir,ar=b({},er,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:co,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ir&&(ir&&t.type==="mousemove"?(Ka=t.screenX-ir.screenX,nr=t.screenY-ir.screenY):nr=Ka=0,ir=t),Ka)},movementY:function(t){return"movementY"in t?t.movementY:nr}}),Ic=$n(ar),xd=b({},ar,{dataTransfer:0}),I1=$n(xd),On=b({},er,{relatedTarget:0}),_u=$n(On),wd=b({},Ml,{animationName:0,elapsedTime:0,pseudoElement:0}),Ud=$n(wd),zd=b({},Ml,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Gd=$n(zd),uo=b({},Ml,{data:0}),vu=$n(uo),Hd={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Bd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ld={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Zc(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Ld[t])?!!n[t]:!1}function co(){return Zc}var qd=b({},er,{key:function(t){if(t.key){var n=Hd[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Nl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Bd[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:co,charCode:function(t){return t.type==="keypress"?Nl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Nl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Jc=$n(qd),Wc=b({},ar,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yu=$n(Wc),Vd=b({},er,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:co}),$c=$n(Vd),Yd=b({},Ml,{propertyName:0,elapsedTime:0,pseudoElement:0}),Pa=$n(Yd),th=b({},ar,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Z1=$n(th),jd=b({},Ml,{newState:0,oldState:0}),Dl=$n(jd),Qa=[9,13,27,32],ho=Ca&&"CompositionEvent"in window,ds=null;Ca&&"documentMode"in document&&(ds=document.documentMode);var fo=Ca&&"TextEvent"in window&&!ds,go=Ca&&(!ho||ds&&8<ds&&11>=ds),Ol=" ",xn=!1;function mo(t,n){switch(t){case"keyup":return Qa.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function eh(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var xl=!1;function po(t,n){switch(t){case"compositionend":return eh(n);case"keypress":return n.which!==32?null:(xn=!0,Ol);case"textInput":return t=n.data,t===Ol&&xn?null:t;default:return null}}function nh(t,n){if(xl)return t==="compositionend"||!ho&&mo(t,n)?(t=Qc(),pu=Pc=Xa=null,xl=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return go&&n.locale!=="ko"?null:n.data;default:return null}}var Su={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ih(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Su[t.type]:n==="textarea"}function ci(t,n,r,u){Rl?fs?fs.push(u):fs=[u]:Rl=u,n=Y0(n,"onChange"),0<n.length&&(r=new tr("onChange","change",null,r,u),t.push({event:r,listeners:n}))}var lr=null,gs=null;function Fd(t){Ym(t,0)}function _o(t){var n=Is(t);if(Vc(n))return t}function bu(t,n){if(t==="change")return n}var Eu=!1;if(Ca){var Cu;if(Ca){var sr="oninput"in document;if(!sr){var rr=document.createElement("div");rr.setAttribute("oninput","return;"),sr=typeof rr.oninput=="function"}Cu=sr}else Cu=!1;Eu=Cu&&(!document.documentMode||9<document.documentMode)}function Ye(){lr&&(lr.detachEvent("onpropertychange",kd),gs=lr=null)}function kd(t){if(t.propertyName==="value"&&_o(gs)){var n=[];ci(n,gs,t,mu(t)),Kc(Fd,n)}}function J1(t,n,r){t==="focusin"?(Ye(),lr=n,gs=r,lr.attachEvent("onpropertychange",kd)):t==="focusout"&&Ye()}function Xd(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return _o(gs)}function vo(t,n){if(t==="click")return _o(n)}function wl(t,n){if(t==="input"||t==="change")return _o(n)}function Kd(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var hi=typeof Object.is=="function"?Object.is:Kd;function oa(t,n){if(hi(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),u=Object.keys(n);if(r.length!==u.length)return!1;for(u=0;u<r.length;u++){var g=r[u];if(!xt.call(n,g)||!hi(t[g],n[g]))return!1}return!0}function fi(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ah(t,n){var r=fi(t);t=0;for(var u;r;){if(r.nodeType===3){if(u=t+r.textContent.length,t<=n&&u>=n)return{node:r,offset:n-t};t=u}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=fi(r)}}function lh(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?lh(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function sh(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=no(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=no(t.document)}return n}function yo(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var rh=Ca&&"documentMode"in document&&11>=document.documentMode,Ia=null,Tu=null,So=null,Au=!1;function oh(t,n,r){var u=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Au||Ia==null||Ia!==no(u)||(u=Ia,"selectionStart"in u&&yo(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),So&&oa(So,u)||(So=u,u=Y0(Tu,"onSelect"),0<u.length&&(n=new tr("onSelect","select",null,n,r),t.push({event:n,listeners:u}),n.target=Ia)))}function wn(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var Ul={animationend:wn("Animation","AnimationEnd"),animationiteration:wn("Animation","AnimationIteration"),animationstart:wn("Animation","AnimationStart"),transitionrun:wn("Transition","TransitionRun"),transitionstart:wn("Transition","TransitionStart"),transitioncancel:wn("Transition","TransitionCancel"),transitionend:wn("Transition","TransitionEnd")},Ru={},Pd={};Ca&&(Pd=document.createElement("div").style,"AnimationEvent"in window||(delete Ul.animationend.animation,delete Ul.animationiteration.animation,delete Ul.animationstart.animation),"TransitionEvent"in window||delete Ul.transitionend.transition);function Za(t){if(Ru[t])return Ru[t];if(!Ul[t])return t;var n=Ul[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in Pd)return Ru[t]=n[r];return t}var ti=Za("animationend"),uh=Za("animationiteration"),di=Za("animationstart"),Qd=Za("transitionrun"),Ja=Za("transitionstart"),or=Za("transitioncancel"),Wa=Za("transitionend"),Nu=new Map,bo="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");bo.push("scrollEnd");function Tn(t,n){Nu.set(t,n),ka(n,[t])}var ch=new WeakMap;function Un(t,n){if(typeof t=="object"&&t!==null){var r=ch.get(t);return r!==void 0?r:(n={value:t,source:n,stack:Lc(n)},ch.set(t,n),n)}return{value:t,source:n,stack:Lc(n)}}var Yn=[],ji=0,Mu=0;function Eo(){for(var t=ji,n=Mu=ji=0;n<t;){var r=Yn[n];Yn[n++]=null;var u=Yn[n];Yn[n++]=null;var g=Yn[n];Yn[n++]=null;var y=Yn[n];if(Yn[n++]=null,u!==null&&g!==null){var z=u.pending;z===null?g.next=g:(g.next=z.next,z.next=g),u.pending=g}y!==0&&hh(r,g,y)}}function zl(t,n,r,u){Yn[ji++]=t,Yn[ji++]=n,Yn[ji++]=r,Yn[ji++]=u,Mu|=u,t.lanes|=u,t=t.alternate,t!==null&&(t.lanes|=u)}function Du(t,n,r,u){return zl(t,n,r,u),ur(t)}function $a(t,n){return zl(t,null,null,n),ur(t)}function hh(t,n,r){t.lanes|=r;var u=t.alternate;u!==null&&(u.lanes|=r);for(var g=!1,y=t.return;y!==null;)y.childLanes|=r,u=y.alternate,u!==null&&(u.childLanes|=r),y.tag===22&&(t=y.stateNode,t===null||t._visibility&1||(g=!0)),t=y,y=y.return;return t.tag===3?(y=t.stateNode,g&&n!==null&&(g=31-Ze(r),t=y.hiddenUpdates,u=t[g],u===null?t[g]=[n]:u.push(n),n.lane=r|536870912),y):null}function ur(t){if(50<Ba)throw Ba=0,ws=null,Error(o(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Gl={};function fh(t,n,r,u){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gi(t,n,r,u){return new fh(t,n,r,u)}function Co(t){return t=t.prototype,!(!t||!t.isReactComponent)}function nn(t,n){var r=t.alternate;return r===null?(r=gi(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function dh(t,n){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function An(t,n,r,u,g,y){var z=0;if(u=t,typeof t=="function")Co(t)&&(z=1);else if(typeof t=="string")z=y4(t,r,ut.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case F:return t=gi(31,r,n,g),t.elementType=F,t.lanes=y,t;case E:return Hl(r.children,g,y,n);case O:z=8,g|=24;break;case w:return t=gi(12,r,n,g|2),t.elementType=w,t.lanes=y,t;case B:return t=gi(13,r,n,g),t.elementType=B,t.lanes=y,t;case k:return t=gi(19,r,n,g),t.elementType=k,t.lanes=y,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case H:case R:z=10;break t;case N:z=9;break t;case U:z=11;break t;case J:z=14;break t;case X:z=16,u=null;break t}z=29,r=Error(o(130,t===null?"null":typeof t,"")),u=null}return n=gi(z,r,n,g),n.elementType=t,n.type=u,n.lanes=y,n}function Hl(t,n,r,u){return t=gi(7,t,u,n),t.lanes=r,t}function To(t,n,r){return t=gi(6,t,null,n),t.lanes=r,t}function Ou(t,n,r){return n=gi(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var cr=[],mi=0,Ao=null,hr=0,zn=[],Ci=0,Bl=null,Ta=1,Aa="";function tl(t,n){cr[mi++]=hr,cr[mi++]=Ao,Ao=t,hr=n}function xu(t,n,r){zn[Ci++]=Ta,zn[Ci++]=Aa,zn[Ci++]=Bl,Bl=t;var u=Ta;t=Aa;var g=32-Ze(u)-1;u&=~(1<<g),r+=1;var y=32-Ze(n)+g;if(30<y){var z=g-g%5;y=(u&(1<<z)-1).toString(32),u>>=z,g-=z,Ta=1<<32-Ze(n)+g|r<<g|u,Aa=y+t}else Ta=1<<y|r<<g|u,Aa=t}function gh(t){t.return!==null&&(tl(t,1),xu(t,1,0))}function mh(t){for(;t===Ao;)Ao=cr[--mi],cr[mi]=null,hr=cr[--mi],cr[mi]=null;for(;t===Bl;)Bl=zn[--Ci],zn[Ci]=null,Aa=zn[--Ci],zn[Ci]=null,Ta=zn[--Ci],zn[Ci]=null}var ei=null,Pe=null,me=!1,Fi=null,Ti=!1,wu=Error(o(519));function Ll(t){var n=Error(o(418,""));throw ms(Un(n,t)),wu}function Id(t){var n=t.stateNode,r=t.type,u=t.memoizedProps;switch(n[Dn]=t,n[Vn]=u,r){case"dialog":oe("cancel",n),oe("close",n);break;case"iframe":case"object":case"embed":oe("load",n);break;case"video":case"audio":for(r=0;r<Kh.length;r++)oe(Kh[r],n);break;case"source":oe("error",n);break;case"img":case"image":case"link":oe("error",n),oe("load",n);break;case"details":oe("toggle",n);break;case"input":oe("invalid",n),jc(n,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),eo(n);break;case"select":oe("invalid",n);break;case"textarea":oe("invalid",n),Fc(n,u.value,u.defaultValue,u.children),eo(n)}r=u.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||u.suppressHydrationWarning===!0||Xm(n.textContent,r)?(u.popover!=null&&(oe("beforetoggle",n),oe("toggle",n)),u.onScroll!=null&&oe("scroll",n),u.onScrollEnd!=null&&oe("scrollend",n),u.onClick!=null&&(n.onclick=j0),n=!0):n=!1,n||Ll(t)}function ph(t){for(ei=t.return;ei;)switch(ei.tag){case 5:case 13:Ti=!1;return;case 27:case 3:Ti=!0;return;default:ei=ei.return}}function ua(t){if(t!==ei)return!1;if(!me)return ph(t),me=!0,!1;var n=t.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||_g(t.type,t.memoizedProps)),r=!r),r&&Pe&&Ll(t),ph(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(o(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(r=t.data,r==="/$"){if(n===0){Pe=gl(t.nextSibling);break t}n--}else r!=="$"&&r!=="$!"&&r!=="$?"||n++;t=t.nextSibling}Pe=null}}else n===27?(n=Pe,Hr(t.type)?(t=bg,bg=null,Pe=t):Pe=n):Pe=ei?gl(t.stateNode.nextSibling):null;return!0}function fr(){Pe=ei=null,me=!1}function _e(){var t=Fi;return t!==null&&(Bt===null?Bt=t:Bt.push.apply(Bt,t),Fi=null),t}function ms(t){Fi===null?Fi=[t]:Fi.push(t)}var _h=$(null),ql=null,el=null;function Vl(t,n,r){nt(_h,n._currentValue),n._currentValue=r}function nl(t){t._currentValue=_h.current,ft(_h)}function vh(t,n,r){for(;t!==null;){var u=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,u!==null&&(u.childLanes|=n)):u!==null&&(u.childLanes&n)!==n&&(u.childLanes|=n),t===r)break;t=t.return}}function Ro(t,n,r,u){var g=t.child;for(g!==null&&(g.return=t);g!==null;){var y=g.dependencies;if(y!==null){var z=g.child;y=y.firstContext;t:for(;y!==null;){var j=y;y=g;for(var I=0;I<n.length;I++)if(j.context===n[I]){y.lanes|=r,j=y.alternate,j!==null&&(j.lanes|=r),vh(y.return,r,t),u||(z=null);break t}y=j.next}}else if(g.tag===18){if(z=g.return,z===null)throw Error(o(341));z.lanes|=r,y=z.alternate,y!==null&&(y.lanes|=r),vh(z,r,t),z=null}else z=g.child;if(z!==null)z.return=g;else for(z=g;z!==null;){if(z===t){z=null;break}if(g=z.sibling,g!==null){g.return=z.return,z=g;break}z=z.return}g=z}}function ki(t,n,r,u){t=null;for(var g=n,y=!1;g!==null;){if(!y){if((g.flags&524288)!==0)y=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var z=g.alternate;if(z===null)throw Error(o(387));if(z=z.memoizedProps,z!==null){var j=g.type;hi(g.pendingProps.value,z.value)||(t!==null?t.push(j):t=[j])}}else if(g===W.current){if(z=g.alternate,z===null)throw Error(o(387));z.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(t!==null?t.push(Wh):t=[Wh])}g=g.return}t!==null&&Ro(n,t,r,u),n.flags|=262144}function No(t){for(t=t.firstContext;t!==null;){if(!hi(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ra(t){ql=t,el=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Je(t){return Uu(ql,t)}function Mo(t,n){return ql===null&&Ra(t),Uu(t,n)}function Uu(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},el===null){if(t===null)throw Error(o(308));el=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else el=el.next=n;return r}var yh=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,u){t.push(u)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},W1=a.unstable_scheduleCallback,Zd=a.unstable_NormalPriority,hn={$$typeof:R,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function zu(){return{controller:new yh,data:new Map,refCount:0}}function dr(t){t.refCount--,t.refCount===0&&W1(Zd,function(){t.controller.abort()})}var gr=null,Do=0,Qt=0,mr=null;function Ai(t,n){if(gr===null){var r=gr=[];Do=0,Qt=og(),mr={status:"pending",value:void 0,then:function(u){r.push(u)}}}return Do++,n.then(Gu,Gu),n}function Gu(){if(--Do===0&&gr!==null){mr!==null&&(mr.status="fulfilled");var t=gr;gr=null,Qt=0,mr=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function $1(t,n){var r=[],u={status:"pending",value:null,reason:null,then:function(g){r.push(g)}};return t.then(function(){u.status="fulfilled",u.value=n;for(var g=0;g<r.length;g++)(0,r[g])(n)},function(g){for(u.status="rejected",u.reason=g,g=0;g<r.length;g++)(0,r[g])(void 0)}),u}var Oo=D.S;D.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&Ai(t,n),Oo!==null&&Oo(t,n)};var Xi=$(null);function Yl(){var t=Xi.current;return t!==null?t:Kt.pooledCache}function xo(t,n){n===null?nt(Xi,Xi.current):nt(Xi,n.pool)}function Hu(){var t=Yl();return t===null?null:{parent:hn._currentValue,pool:t}}var wo=Error(o(460)),Sh=Error(o(474)),ca=Error(o(542)),Uo={then:function(){}};function Bu(t){return t=t.status,t==="fulfilled"||t==="rejected"}function pr(){}function Lu(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(pr,pr),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Jd(t),t;default:if(typeof n.status=="string")n.then(pr,pr);else{if(t=Kt,t!==null&&100<t.shellSuspendCounter)throw Error(o(482));t=n,t.status="pending",t.then(function(u){if(n.status==="pending"){var g=n;g.status="fulfilled",g.value=u}},function(u){if(n.status==="pending"){var g=n;g.status="rejected",g.reason=u}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Jd(t),t}throw Ki=n,wo}}var Ki=null;function bh(){if(Ki===null)throw Error(o(459));var t=Ki;return Ki=null,t}function Jd(t){if(t===wo||t===ca)throw Error(o(483))}var il=!1;function Eh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Vt(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Na(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function al(t,n,r){var u=t.updateQueue;if(u===null)return null;if(u=u.shared,(ve&2)!==0){var g=u.pending;return g===null?n.next=n:(n.next=g.next,g.next=n),u.pending=n,n=ur(t),hh(t,null,r),n}return zl(t,u,n,r),ur(t)}function ps(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var u=n.lanes;u&=t.pendingLanes,r|=u,n.lanes=r,Gc(t,r)}}function _r(t,n){var r=t.updateQueue,u=t.alternate;if(u!==null&&(u=u.updateQueue,r===u)){var g=null,y=null;if(r=r.firstBaseUpdate,r!==null){do{var z={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};y===null?g=y=z:y=y.next=z,r=r.next}while(r!==null);y===null?g=y=n:y=y.next=n}else g=y=n;r={baseState:u.baseState,firstBaseUpdate:g,lastBaseUpdate:y,shared:u.shared,callbacks:u.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var Ch=!1;function zo(){if(Ch){var t=mr;if(t!==null)throw t}}function vr(t,n,r,u){Ch=!1;var g=t.updateQueue;il=!1;var y=g.firstBaseUpdate,z=g.lastBaseUpdate,j=g.shared.pending;if(j!==null){g.shared.pending=null;var I=j,ct=I.next;I.next=null,z===null?y=ct:z.next=ct,z=I;var vt=t.alternate;vt!==null&&(vt=vt.updateQueue,j=vt.lastBaseUpdate,j!==z&&(j===null?vt.firstBaseUpdate=ct:j.next=ct,vt.lastBaseUpdate=I))}if(y!==null){var bt=g.baseState;z=0,vt=ct=I=null,j=y;do{var dt=j.lane&-536870913,gt=dt!==j.lane;if(gt?(Gt&dt)===dt:(u&dt)===dt){dt!==0&&dt===Qt&&(Ch=!0),vt!==null&&(vt=vt.next={lane:0,tag:j.tag,payload:j.payload,callback:null,next:null});t:{var jt=t,Lt=j;dt=n;var Ue=r;switch(Lt.tag){case 1:if(jt=Lt.payload,typeof jt=="function"){bt=jt.call(Ue,bt,dt);break t}bt=jt;break t;case 3:jt.flags=jt.flags&-65537|128;case 0:if(jt=Lt.payload,dt=typeof jt=="function"?jt.call(Ue,bt,dt):jt,dt==null)break t;bt=b({},bt,dt);break t;case 2:il=!0}}dt=j.callback,dt!==null&&(t.flags|=64,gt&&(t.flags|=8192),gt=g.callbacks,gt===null?g.callbacks=[dt]:gt.push(dt))}else gt={lane:dt,tag:j.tag,payload:j.payload,callback:j.callback,next:null},vt===null?(ct=vt=gt,I=bt):vt=vt.next=gt,z|=dt;if(j=j.next,j===null){if(j=g.shared.pending,j===null)break;gt=j,j=gt.next,gt.next=null,g.lastBaseUpdate=gt,g.shared.pending=null}}while(!0);vt===null&&(I=bt),g.baseState=I,g.firstBaseUpdate=ct,g.lastBaseUpdate=vt,y===null&&(g.shared.lanes=0),va|=z,t.lanes=z,t.memoizedState=bt}}function yr(t,n){if(typeof t!="function")throw Error(o(191,t));t.call(n)}function Wd(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)yr(r[t],n)}var Sr=$(null),qu=$(0);function $d(t,n){t=Wi,nt(qu,t),nt(Sr,n),Wi=t|n.baseLanes}function Th(){nt(qu,Wi),nt(Sr,Sr.current)}function Go(){Wi=qu.current,ft(Sr),ft(qu)}var ll=0,It=null,be=null,fn=null,Vu=!1,jl=!1,ni=!1,_n=0,Pi=0,Gn=null,t0=0;function an(){throw Error(o(321))}function jn(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!hi(t[r],n[r]))return!1;return!0}function sl(t,n,r,u,g,y){return ll=y,It=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,D.H=t===null||t.memoizedState===null?Iu:Vh,ni=!1,y=r(u,g),ni=!1,jl&&(y=n0(n,r,u,g)),e0(t),y}function e0(t){D.H=Lo;var n=be!==null&&be.next!==null;if(ll=0,fn=be=It=null,Vu=!1,Pi=0,Gn=null,n)throw Error(o(300));t===null||Rn||(t=t.dependencies,t!==null&&No(t)&&(Rn=!0))}function n0(t,n,r,u){It=t;var g=0;do{if(jl&&(Gn=null),Pi=0,jl=!1,25<=g)throw Error(o(301));if(g+=1,fn=be=null,t.updateQueue!=null){var y=t.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}D.H=M0,y=n(r,u)}while(jl);return y}function tg(){var t=D.H,n=t.useState()[0];return n=typeof n.then=="function"?ha(n):n,t=t.useState()[0],(be!==null?be.memoizedState:null)!==t&&(It.flags|=1024),n}function Ah(){var t=_n!==0;return _n=0,t}function Yu(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function Rh(t){if(Vu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Vu=!1}ll=0,fn=be=It=null,jl=!1,Pi=_n=0,Gn=null}function ii(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fn===null?It.memoizedState=fn=t:fn=fn.next=t,fn}function dn(){if(be===null){var t=It.alternate;t=t!==null?t.memoizedState:null}else t=be.next;var n=fn===null?It.memoizedState:fn.next;if(n!==null)fn=n,be=t;else{if(t===null)throw It.alternate===null?Error(o(467)):Error(o(310));be=t,t={memoizedState:be.memoizedState,baseState:be.baseState,baseQueue:be.baseQueue,queue:be.queue,next:null},fn===null?It.memoizedState=fn=t:fn=fn.next=t}return fn}function Fl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ha(t){var n=Pi;return Pi+=1,Gn===null&&(Gn=[]),t=Lu(Gn,t,n),n=It,(fn===null?n.memoizedState:fn.next)===null&&(n=n.alternate,D.H=n===null||n.memoizedState===null?Iu:Vh),t}function ju(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ha(t);if(t.$$typeof===R)return Je(t)}throw Error(o(438,String(t)))}function Nh(t){var n=null,r=It.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var u=It.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(n={data:u.data.map(function(g){return g.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Fl(),It.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),u=0;u<t;u++)r[u]=Y;return n.index++,r}function rl(t,n){return typeof n=="function"?n(t):n}function kl(t){var n=dn();return Mh(n,be,t)}function Mh(t,n,r){var u=t.queue;if(u===null)throw Error(o(311));u.lastRenderedReducer=r;var g=t.baseQueue,y=u.pending;if(y!==null){if(g!==null){var z=g.next;g.next=y.next,y.next=z}n.baseQueue=g=y,u.pending=null}if(y=t.baseState,g===null)t.memoizedState=y;else{n=g.next;var j=z=null,I=null,ct=n,vt=!1;do{var bt=ct.lane&-536870913;if(bt!==ct.lane?(Gt&bt)===bt:(ll&bt)===bt){var dt=ct.revertLane;if(dt===0)I!==null&&(I=I.next={lane:0,revertLane:0,action:ct.action,hasEagerState:ct.hasEagerState,eagerState:ct.eagerState,next:null}),bt===Qt&&(vt=!0);else if((ll&dt)===dt){ct=ct.next,dt===Qt&&(vt=!0);continue}else bt={lane:0,revertLane:ct.revertLane,action:ct.action,hasEagerState:ct.hasEagerState,eagerState:ct.eagerState,next:null},I===null?(j=I=bt,z=y):I=I.next=bt,It.lanes|=dt,va|=dt;bt=ct.action,ni&&r(y,bt),y=ct.hasEagerState?ct.eagerState:r(y,bt)}else dt={lane:bt,revertLane:ct.revertLane,action:ct.action,hasEagerState:ct.hasEagerState,eagerState:ct.eagerState,next:null},I===null?(j=I=dt,z=y):I=I.next=dt,It.lanes|=bt,va|=bt;ct=ct.next}while(ct!==null&&ct!==n);if(I===null?z=y:I.next=j,!hi(y,t.memoizedState)&&(Rn=!0,vt&&(r=mr,r!==null)))throw r;t.memoizedState=y,t.baseState=z,t.baseQueue=I,u.lastRenderedState=y}return g===null&&(u.lanes=0),[t.memoizedState,u.dispatch]}function Dh(t){var n=dn(),r=n.queue;if(r===null)throw Error(o(311));r.lastRenderedReducer=t;var u=r.dispatch,g=r.pending,y=n.memoizedState;if(g!==null){r.pending=null;var z=g=g.next;do y=t(y,z.action),z=z.next;while(z!==g);hi(y,n.memoizedState)||(Rn=!0),n.memoizedState=y,n.baseQueue===null&&(n.baseState=y),r.lastRenderedState=y}return[y,u]}function i0(t,n,r){var u=It,g=dn(),y=me;if(y){if(r===void 0)throw Error(o(407));r=r()}else r=n();var z=!hi((be||g).memoizedState,r);z&&(g.memoizedState=r,Rn=!0),g=g.queue;var j=l0.bind(null,u,g,t);if(Cr(2048,8,j,[t]),g.getSnapshot!==n||z||fn!==null&&fn.memoizedState.tag&1){if(u.flags|=2048,Er(9,Ho(),a0.bind(null,u,g,r,n),null),Kt===null)throw Error(o(349));y||(ll&124)!==0||br(u,n,r)}return r}function br(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=It.updateQueue,n===null?(n=Fl(),It.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function a0(t,n,r,u){n.value=r,n.getSnapshot=u,s0(n)&&r0(t)}function l0(t,n,r){return r(function(){s0(n)&&r0(t)})}function s0(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!hi(t,r)}catch{return!0}}function r0(t){var n=$a(t,2);n!==null&&si(n,t,2)}function Oh(t){var n=ii();if(typeof t=="function"){var r=t;if(t=r(),ni){En(!0);try{r()}finally{En(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:rl,lastRenderedState:t},n}function o0(t,n,r,u){return t.baseState=r,Mh(t,be,typeof u=="function"?u:rl)}function eg(t,n,r,u,g){if(Qu(t))throw Error(o(485));if(t=n.action,t!==null){var y={payload:g,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(z){y.listeners.push(z)}};D.T!==null?r(!0):y.isTransition=!1,u(y),r=n.pending,r===null?(y.next=n.pending=y,u0(n,y)):(y.next=r.next,n.pending=r.next=y)}}function u0(t,n){var r=n.action,u=n.payload,g=t.state;if(n.isTransition){var y=D.T,z={};D.T=z;try{var j=r(g,u),I=D.S;I!==null&&I(z,j),c0(t,n,j)}catch(ct){xh(t,n,ct)}finally{D.T=y}}else try{y=r(g,u),c0(t,n,y)}catch(ct){xh(t,n,ct)}}function c0(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(u){h0(t,n,u)},function(u){return xh(t,n,u)}):h0(t,n,r)}function h0(t,n,r){n.status="fulfilled",n.value=r,f0(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,u0(t,r)))}function xh(t,n,r){var u=t.pending;if(t.pending=null,u!==null){u=u.next;do n.status="rejected",n.reason=r,f0(n),n=n.next;while(n!==u)}t.action=null}function f0(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function wh(t,n){return n}function d0(t,n){if(me){var r=Kt.formState;if(r!==null){t:{var u=It;if(me){if(Pe){e:{for(var g=Pe,y=Ti;g.nodeType!==8;){if(!y){g=null;break e}if(g=gl(g.nextSibling),g===null){g=null;break e}}y=g.data,g=y==="F!"||y==="F"?g:null}if(g){Pe=gl(g.nextSibling),u=g.data==="F!";break t}}Ll(u)}u=!1}u&&(n=r[0])}}return r=ii(),r.memoizedState=r.baseState=n,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:wh,lastRenderedState:n},r.queue=u,r=R0.bind(null,It,u),u.dispatch=r,u=Oh(!1),y=Pu.bind(null,It,!1,u.queue),u=ii(),g={state:n,dispatch:null,action:t,pending:null},u.queue=g,r=eg.bind(null,It,g,y,r),g.dispatch=r,u.memoizedState=t,[n,r,!1]}function g0(t){var n=dn();return m0(n,be,t)}function m0(t,n,r){if(n=Mh(t,n,wh)[0],t=kl(rl)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var u=ha(n)}catch(z){throw z===wo?ca:z}else u=n;n=dn();var g=n.queue,y=g.dispatch;return r!==n.memoizedState&&(It.flags|=2048,Er(9,Ho(),ng.bind(null,g,r),null)),[u,y,t]}function ng(t,n){t.action=n}function p0(t){var n=dn(),r=be;if(r!==null)return m0(n,r,t);dn(),n=n.memoizedState,r=dn();var u=r.queue.dispatch;return r.memoizedState=t,[n,u,!1]}function Er(t,n,r,u){return t={tag:t,create:r,deps:u,inst:n,next:null},n=It.updateQueue,n===null&&(n=Fl(),It.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(u=r.next,r.next=t,t.next=u,n.lastEffect=t),t}function Ho(){return{destroy:void 0,resource:void 0}}function Uh(){return dn().memoizedState}function Fu(t,n,r,u){var g=ii();u=u===void 0?null:u,It.flags|=t,g.memoizedState=Er(1|n,Ho(),r,u)}function Cr(t,n,r,u){var g=dn();u=u===void 0?null:u;var y=g.memoizedState.inst;be!==null&&u!==null&&jn(u,be.memoizedState.deps)?g.memoizedState=Er(n,y,r,u):(It.flags|=t,g.memoizedState=Er(1|n,y,r,u))}function zh(t,n){Fu(8390656,8,t,n)}function Gh(t,n){Cr(2048,8,t,n)}function ku(t,n){return Cr(4,2,t,n)}function Xu(t,n){return Cr(4,4,t,n)}function _0(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function v0(t,n,r){r=r!=null?r.concat([t]):null,Cr(4,4,_0.bind(null,n,t),r)}function Hh(){}function y0(t,n){var r=dn();n=n===void 0?null:n;var u=r.memoizedState;return n!==null&&jn(n,u[1])?u[0]:(r.memoizedState=[t,n],t)}function Bh(t,n){var r=dn();n=n===void 0?null:n;var u=r.memoizedState;if(n!==null&&jn(n,u[1]))return u[0];if(u=t(),ni){En(!0);try{t()}finally{En(!1)}}return r.memoizedState=[u,n],u}function Ku(t,n,r){return r===void 0||(ll&1073741824)!==0?t.memoizedState=n:(t.memoizedState=r,t=sc(),It.lanes|=t,va|=t,r)}function S0(t,n,r,u){return hi(r,n)?r:Sr.current!==null?(t=Ku(t,r,u),hi(t,n)||(Rn=!0),t):(ll&42)===0?(Rn=!0,t.memoizedState=r):(t=sc(),It.lanes|=t,va|=t,n)}function b0(t,n,r,u,g){var y=L.p;L.p=y!==0&&8>y?y:8;var z=D.T,j={};D.T=j,Pu(t,!1,n,r);try{var I=g(),ct=D.S;if(ct!==null&&ct(j,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var vt=$1(I,u);Bo(t,n,vt,tn(t))}else Bo(t,n,u,tn(t))}catch(bt){Bo(t,n,{then:function(){},status:"rejected",reason:bt},tn())}finally{L.p=y,D.T=z}}function ig(){}function Lh(t,n,r,u){if(t.tag!==5)throw Error(o(476));var g=E0(t).queue;b0(t,g,n,Q,r===null?ig:function(){return C0(t),r(u)})}function E0(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:Q,baseState:Q,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:rl,lastRenderedState:Q},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:rl,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function C0(t){var n=E0(t).next.queue;Bo(t,n,{},tn())}function qh(){return Je(Wh)}function T0(){return dn().memoizedState}function A0(){return dn().memoizedState}function ag(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=tn();t=Na(r);var u=al(n,t,r);u!==null&&(si(u,n,r),ps(u,n,r)),n={cache:zu()},t.payload=n;return}n=n.return}}function lg(t,n,r){var u=tn();r={lane:u,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},Qu(t)?N0(n,r):(r=Du(t,n,r,u),r!==null&&(si(r,t,u),Ri(r,n,u)))}function R0(t,n,r){var u=tn();Bo(t,n,r,u)}function Bo(t,n,r,u){var g={lane:u,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(Qu(t))N0(n,g);else{var y=t.alternate;if(t.lanes===0&&(y===null||y.lanes===0)&&(y=n.lastRenderedReducer,y!==null))try{var z=n.lastRenderedState,j=y(z,r);if(g.hasEagerState=!0,g.eagerState=j,hi(j,z))return zl(t,n,g,0),Kt===null&&Eo(),!1}catch{}finally{}if(r=Du(t,n,g,u),r!==null)return si(r,t,u),Ri(r,n,u),!0}return!1}function Pu(t,n,r,u){if(u={lane:2,revertLane:og(),action:u,hasEagerState:!1,eagerState:null,next:null},Qu(t)){if(n)throw Error(o(479))}else n=Du(t,r,u,2),n!==null&&si(n,t,2)}function Qu(t){var n=t.alternate;return t===It||n!==null&&n===It}function N0(t,n){jl=Vu=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function Ri(t,n,r){if((r&4194048)!==0){var u=n.lanes;u&=t.pendingLanes,r|=u,n.lanes=r,Gc(t,r)}}var Lo={readContext:Je,use:ju,useCallback:an,useContext:an,useEffect:an,useImperativeHandle:an,useLayoutEffect:an,useInsertionEffect:an,useMemo:an,useReducer:an,useRef:an,useState:an,useDebugValue:an,useDeferredValue:an,useTransition:an,useSyncExternalStore:an,useId:an,useHostTransitionStatus:an,useFormState:an,useActionState:an,useOptimistic:an,useMemoCache:an,useCacheRefresh:an},Iu={readContext:Je,use:ju,useCallback:function(t,n){return ii().memoizedState=[t,n===void 0?null:n],t},useContext:Je,useEffect:zh,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,Fu(4194308,4,_0.bind(null,n,t),r)},useLayoutEffect:function(t,n){return Fu(4194308,4,t,n)},useInsertionEffect:function(t,n){Fu(4,2,t,n)},useMemo:function(t,n){var r=ii();n=n===void 0?null:n;var u=t();if(ni){En(!0);try{t()}finally{En(!1)}}return r.memoizedState=[u,n],u},useReducer:function(t,n,r){var u=ii();if(r!==void 0){var g=r(n);if(ni){En(!0);try{r(n)}finally{En(!1)}}}else g=n;return u.memoizedState=u.baseState=g,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:g},u.queue=t,t=t.dispatch=lg.bind(null,It,t),[u.memoizedState,t]},useRef:function(t){var n=ii();return t={current:t},n.memoizedState=t},useState:function(t){t=Oh(t);var n=t.queue,r=R0.bind(null,It,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:Hh,useDeferredValue:function(t,n){var r=ii();return Ku(r,t,n)},useTransition:function(){var t=Oh(!1);return t=b0.bind(null,It,t.queue,!0,!1),ii().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var u=It,g=ii();if(me){if(r===void 0)throw Error(o(407));r=r()}else{if(r=n(),Kt===null)throw Error(o(349));(Gt&124)!==0||br(u,n,r)}g.memoizedState=r;var y={value:r,getSnapshot:n};return g.queue=y,zh(l0.bind(null,u,y,t),[t]),u.flags|=2048,Er(9,Ho(),a0.bind(null,u,y,r,n),null),r},useId:function(){var t=ii(),n=Kt.identifierPrefix;if(me){var r=Aa,u=Ta;r=(u&~(1<<32-Ze(u)-1)).toString(32)+r,n="«"+n+"R"+r,r=_n++,0<r&&(n+="H"+r.toString(32)),n+="»"}else r=t0++,n="«"+n+"r"+r.toString(32)+"»";return t.memoizedState=n},useHostTransitionStatus:qh,useFormState:d0,useActionState:d0,useOptimistic:function(t){var n=ii();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=Pu.bind(null,It,!0,r),r.dispatch=n,[t,n]},useMemoCache:Nh,useCacheRefresh:function(){return ii().memoizedState=ag.bind(null,It)}},Vh={readContext:Je,use:ju,useCallback:y0,useContext:Je,useEffect:Gh,useImperativeHandle:v0,useInsertionEffect:ku,useLayoutEffect:Xu,useMemo:Bh,useReducer:kl,useRef:Uh,useState:function(){return kl(rl)},useDebugValue:Hh,useDeferredValue:function(t,n){var r=dn();return S0(r,be.memoizedState,t,n)},useTransition:function(){var t=kl(rl)[0],n=dn().memoizedState;return[typeof t=="boolean"?t:ha(t),n]},useSyncExternalStore:i0,useId:T0,useHostTransitionStatus:qh,useFormState:g0,useActionState:g0,useOptimistic:function(t,n){var r=dn();return o0(r,be,t,n)},useMemoCache:Nh,useCacheRefresh:A0},M0={readContext:Je,use:ju,useCallback:y0,useContext:Je,useEffect:Gh,useImperativeHandle:v0,useInsertionEffect:ku,useLayoutEffect:Xu,useMemo:Bh,useReducer:Dh,useRef:Uh,useState:function(){return Dh(rl)},useDebugValue:Hh,useDeferredValue:function(t,n){var r=dn();return be===null?Ku(r,t,n):S0(r,be.memoizedState,t,n)},useTransition:function(){var t=Dh(rl)[0],n=dn().memoizedState;return[typeof t=="boolean"?t:ha(t),n]},useSyncExternalStore:i0,useId:T0,useHostTransitionStatus:qh,useFormState:p0,useActionState:p0,useOptimistic:function(t,n){var r=dn();return be!==null?o0(r,be,t,n):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:Nh,useCacheRefresh:A0},_s=null,qo=0;function Vo(t){var n=qo;return qo+=1,_s===null&&(_s=[]),Lu(_s,t,n)}function Tr(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Zu(t,n){throw n.$$typeof===T?Error(o(525)):(t=Object.prototype.toString.call(n),Error(o(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function D0(t){var n=t._init;return n(t._payload)}function O0(t){function n(lt,at){if(t){var ot=lt.deletions;ot===null?(lt.deletions=[at],lt.flags|=16):ot.push(at)}}function r(lt,at){if(!t)return null;for(;at!==null;)n(lt,at),at=at.sibling;return null}function u(lt){for(var at=new Map;lt!==null;)lt.key!==null?at.set(lt.key,lt):at.set(lt.index,lt),lt=lt.sibling;return at}function g(lt,at){return lt=nn(lt,at),lt.index=0,lt.sibling=null,lt}function y(lt,at,ot){return lt.index=ot,t?(ot=lt.alternate,ot!==null?(ot=ot.index,ot<at?(lt.flags|=67108866,at):ot):(lt.flags|=67108866,at)):(lt.flags|=1048576,at)}function z(lt){return t&&lt.alternate===null&&(lt.flags|=67108866),lt}function j(lt,at,ot,St){return at===null||at.tag!==6?(at=To(ot,lt.mode,St),at.return=lt,at):(at=g(at,ot),at.return=lt,at)}function I(lt,at,ot,St){var wt=ot.type;return wt===E?vt(lt,at,ot.props.children,St,ot.key):at!==null&&(at.elementType===wt||typeof wt=="object"&&wt!==null&&wt.$$typeof===X&&D0(wt)===at.type)?(at=g(at,ot.props),Tr(at,ot),at.return=lt,at):(at=An(ot.type,ot.key,ot.props,null,lt.mode,St),Tr(at,ot),at.return=lt,at)}function ct(lt,at,ot,St){return at===null||at.tag!==4||at.stateNode.containerInfo!==ot.containerInfo||at.stateNode.implementation!==ot.implementation?(at=Ou(ot,lt.mode,St),at.return=lt,at):(at=g(at,ot.children||[]),at.return=lt,at)}function vt(lt,at,ot,St,wt){return at===null||at.tag!==7?(at=Hl(ot,lt.mode,St,wt),at.return=lt,at):(at=g(at,ot),at.return=lt,at)}function bt(lt,at,ot){if(typeof at=="string"&&at!==""||typeof at=="number"||typeof at=="bigint")return at=To(""+at,lt.mode,ot),at.return=lt,at;if(typeof at=="object"&&at!==null){switch(at.$$typeof){case C:return ot=An(at.type,at.key,at.props,null,lt.mode,ot),Tr(ot,at),ot.return=lt,ot;case A:return at=Ou(at,lt.mode,ot),at.return=lt,at;case X:var St=at._init;return at=St(at._payload),bt(lt,at,ot)}if(G(at)||tt(at))return at=Hl(at,lt.mode,ot,null),at.return=lt,at;if(typeof at.then=="function")return bt(lt,Vo(at),ot);if(at.$$typeof===R)return bt(lt,Mo(lt,at),ot);Zu(lt,at)}return null}function dt(lt,at,ot,St){var wt=at!==null?at.key:null;if(typeof ot=="string"&&ot!==""||typeof ot=="number"||typeof ot=="bigint")return wt!==null?null:j(lt,at,""+ot,St);if(typeof ot=="object"&&ot!==null){switch(ot.$$typeof){case C:return ot.key===wt?I(lt,at,ot,St):null;case A:return ot.key===wt?ct(lt,at,ot,St):null;case X:return wt=ot._init,ot=wt(ot._payload),dt(lt,at,ot,St)}if(G(ot)||tt(ot))return wt!==null?null:vt(lt,at,ot,St,null);if(typeof ot.then=="function")return dt(lt,at,Vo(ot),St);if(ot.$$typeof===R)return dt(lt,at,Mo(lt,ot),St);Zu(lt,ot)}return null}function gt(lt,at,ot,St,wt){if(typeof St=="string"&&St!==""||typeof St=="number"||typeof St=="bigint")return lt=lt.get(ot)||null,j(at,lt,""+St,wt);if(typeof St=="object"&&St!==null){switch(St.$$typeof){case C:return lt=lt.get(St.key===null?ot:St.key)||null,I(at,lt,St,wt);case A:return lt=lt.get(St.key===null?ot:St.key)||null,ct(at,lt,St,wt);case X:var ae=St._init;return St=ae(St._payload),gt(lt,at,ot,St,wt)}if(G(St)||tt(St))return lt=lt.get(ot)||null,vt(at,lt,St,wt,null);if(typeof St.then=="function")return gt(lt,at,ot,Vo(St),wt);if(St.$$typeof===R)return gt(lt,at,ot,Mo(at,St),wt);Zu(at,St)}return null}function jt(lt,at,ot,St){for(var wt=null,ae=null,zt=at,qt=at=0,Xn=null;zt!==null&&qt<ot.length;qt++){zt.index>qt?(Xn=zt,zt=null):Xn=zt.sibling;var Se=dt(lt,zt,ot[qt],St);if(Se===null){zt===null&&(zt=Xn);break}t&&zt&&Se.alternate===null&&n(lt,zt),at=y(Se,at,qt),ae===null?wt=Se:ae.sibling=Se,ae=Se,zt=Xn}if(qt===ot.length)return r(lt,zt),me&&tl(lt,qt),wt;if(zt===null){for(;qt<ot.length;qt++)zt=bt(lt,ot[qt],St),zt!==null&&(at=y(zt,at,qt),ae===null?wt=zt:ae.sibling=zt,ae=zt);return me&&tl(lt,qt),wt}for(zt=u(zt);qt<ot.length;qt++)Xn=gt(zt,lt,qt,ot[qt],St),Xn!==null&&(t&&Xn.alternate!==null&&zt.delete(Xn.key===null?qt:Xn.key),at=y(Xn,at,qt),ae===null?wt=Xn:ae.sibling=Xn,ae=Xn);return t&&zt.forEach(function(Yr){return n(lt,Yr)}),me&&tl(lt,qt),wt}function Lt(lt,at,ot,St){if(ot==null)throw Error(o(151));for(var wt=null,ae=null,zt=at,qt=at=0,Xn=null,Se=ot.next();zt!==null&&!Se.done;qt++,Se=ot.next()){zt.index>qt?(Xn=zt,zt=null):Xn=zt.sibling;var Yr=dt(lt,zt,Se.value,St);if(Yr===null){zt===null&&(zt=Xn);break}t&&zt&&Yr.alternate===null&&n(lt,zt),at=y(Yr,at,qt),ae===null?wt=Yr:ae.sibling=Yr,ae=Yr,zt=Xn}if(Se.done)return r(lt,zt),me&&tl(lt,qt),wt;if(zt===null){for(;!Se.done;qt++,Se=ot.next())Se=bt(lt,Se.value,St),Se!==null&&(at=y(Se,at,qt),ae===null?wt=Se:ae.sibling=Se,ae=Se);return me&&tl(lt,qt),wt}for(zt=u(zt);!Se.done;qt++,Se=ot.next())Se=gt(zt,lt,qt,Se.value,St),Se!==null&&(t&&Se.alternate!==null&&zt.delete(Se.key===null?qt:Se.key),at=y(Se,at,qt),ae===null?wt=Se:ae.sibling=Se,ae=Se);return t&&zt.forEach(function(x4){return n(lt,x4)}),me&&tl(lt,qt),wt}function Ue(lt,at,ot,St){if(typeof ot=="object"&&ot!==null&&ot.type===E&&ot.key===null&&(ot=ot.props.children),typeof ot=="object"&&ot!==null){switch(ot.$$typeof){case C:t:{for(var wt=ot.key;at!==null;){if(at.key===wt){if(wt=ot.type,wt===E){if(at.tag===7){r(lt,at.sibling),St=g(at,ot.props.children),St.return=lt,lt=St;break t}}else if(at.elementType===wt||typeof wt=="object"&&wt!==null&&wt.$$typeof===X&&D0(wt)===at.type){r(lt,at.sibling),St=g(at,ot.props),Tr(St,ot),St.return=lt,lt=St;break t}r(lt,at);break}else n(lt,at);at=at.sibling}ot.type===E?(St=Hl(ot.props.children,lt.mode,St,ot.key),St.return=lt,lt=St):(St=An(ot.type,ot.key,ot.props,null,lt.mode,St),Tr(St,ot),St.return=lt,lt=St)}return z(lt);case A:t:{for(wt=ot.key;at!==null;){if(at.key===wt)if(at.tag===4&&at.stateNode.containerInfo===ot.containerInfo&&at.stateNode.implementation===ot.implementation){r(lt,at.sibling),St=g(at,ot.children||[]),St.return=lt,lt=St;break t}else{r(lt,at);break}else n(lt,at);at=at.sibling}St=Ou(ot,lt.mode,St),St.return=lt,lt=St}return z(lt);case X:return wt=ot._init,ot=wt(ot._payload),Ue(lt,at,ot,St)}if(G(ot))return jt(lt,at,ot,St);if(tt(ot)){if(wt=tt(ot),typeof wt!="function")throw Error(o(150));return ot=wt.call(ot),Lt(lt,at,ot,St)}if(typeof ot.then=="function")return Ue(lt,at,Vo(ot),St);if(ot.$$typeof===R)return Ue(lt,at,Mo(lt,ot),St);Zu(lt,ot)}return typeof ot=="string"&&ot!==""||typeof ot=="number"||typeof ot=="bigint"?(ot=""+ot,at!==null&&at.tag===6?(r(lt,at.sibling),St=g(at,ot),St.return=lt,lt=St):(r(lt,at),St=To(ot,lt.mode,St),St.return=lt,lt=St),z(lt)):r(lt,at)}return function(lt,at,ot,St){try{qo=0;var wt=Ue(lt,at,ot,St);return _s=null,wt}catch(zt){if(zt===wo||zt===ca)throw zt;var ae=gi(29,zt,null,lt.mode);return ae.lanes=St,ae.return=lt,ae}finally{}}}var vs=O0(!0),x0=O0(!1),Ae=$(null),fa=null;function Xl(t){var n=t.alternate;nt(ln,ln.current&1),nt(Ae,t),fa===null&&(n===null||Sr.current!==null||n.memoizedState!==null)&&(fa=t)}function w0(t){if(t.tag===22){if(nt(ln,ln.current),nt(Ae,t),fa===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(fa=t)}}else Kl()}function Kl(){nt(ln,ln.current),nt(Ae,Ae.current)}function Ma(t){ft(Ae),fa===t&&(fa=null),ft(ln)}var ln=$(0);function ol(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||Sg(r)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function Pl(t,n,r,u){n=t.memoizedState,r=r(u,n),r=r==null?n:b({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var ai={enqueueSetState:function(t,n,r){t=t._reactInternals;var u=tn(),g=Na(u);g.payload=n,r!=null&&(g.callback=r),n=al(t,g,u),n!==null&&(si(n,t,u),ps(n,t,u))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var u=tn(),g=Na(u);g.tag=1,g.payload=n,r!=null&&(g.callback=r),n=al(t,g,u),n!==null&&(si(n,t,u),ps(n,t,u))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=tn(),u=Na(r);u.tag=2,n!=null&&(u.callback=n),n=al(t,u,r),n!==null&&(si(n,t,r),ps(n,t,r))}};function U0(t,n,r,u,g,y,z){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(u,y,z):n.prototype&&n.prototype.isPureReactComponent?!oa(r,u)||!oa(g,y):!0}function z0(t,n,r,u){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,u),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,u),n.state!==t&&ai.enqueueReplaceState(n,n.state,null)}function Da(t,n){var r=n;if("ref"in n){r={};for(var u in n)u!=="ref"&&(r[u]=n[u])}if(t=t.defaultProps){r===n&&(r=b({},r));for(var g in t)r[g]===void 0&&(r[g]=t[g])}return r}var ys=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Yo(t){ys(t)}function Ju(t){console.error(t)}function G0(t){ys(t)}function Wu(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(u){setTimeout(function(){throw u})}}function Qi(t,n,r){try{var u=t.onCaughtError;u(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function $u(t,n,r){return r=Na(r),r.tag=3,r.payload={element:null},r.callback=function(){Wu(t,n)},r}function H0(t){return t=Na(t),t.tag=3,t}function tc(t,n,r,u){var g=r.type.getDerivedStateFromError;if(typeof g=="function"){var y=u.value;t.payload=function(){return g(y)},t.callback=function(){Qi(n,r,u)}}var z=r.stateNode;z!==null&&typeof z.componentDidCatch=="function"&&(t.callback=function(){Qi(n,r,u),typeof g!="function"&&(zi===null?zi=new Set([this]):zi.add(this));var j=u.stack;this.componentDidCatch(u.value,{componentStack:j!==null?j:""})})}function sg(t,n,r,u,g){if(r.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(n=r.alternate,n!==null&&ki(n,r,g,!0),r=Ae.current,r!==null){switch(r.tag){case 13:return fa===null?i():r.alternate===null&&ze===0&&(ze=3),r.flags&=-257,r.flags|=65536,r.lanes=g,u===Uo?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([u]):n.add(u),mt(t,u,g)),!1;case 22:return r.flags|=65536,u===Uo?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([u])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([u]):r.add(u)),mt(t,u,g)),!1}throw Error(o(435,r.tag))}return mt(t,u,g),i(),!1}if(me)return n=Ae.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=g,u!==wu&&(t=Error(o(422),{cause:u}),ms(Un(t,r)))):(u!==wu&&(n=Error(o(423),{cause:u}),ms(Un(n,r))),t=t.current.alternate,t.flags|=65536,g&=-g,t.lanes|=g,u=Un(u,r),g=$u(t.stateNode,u,g),_r(t,g),ze!==4&&(ze=2)),!1;var y=Error(o(520),{cause:u});if(y=Un(y,r),ye===null?ye=[y]:ye.push(y),ze!==4&&(ze=2),n===null)return!0;u=Un(u,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=g&-g,r.lanes|=t,t=$u(r.stateNode,u,t),_r(r,t),!1;case 1:if(n=r.type,y=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(zi===null||!zi.has(y))))return r.flags|=65536,g&=-g,r.lanes|=g,g=H0(g),tc(g,t,r,u),_r(r,g),!1}r=r.return}while(r!==null);return!1}var B0=Error(o(461)),Rn=!1;function sn(t,n,r,u){n.child=t===null?x0(n,null,r,u):vs(n,t.child,r,u)}function pi(t,n,r,u,g){r=r.render;var y=n.ref;if("ref"in u){var z={};for(var j in u)j!=="ref"&&(z[j]=u[j])}else z=u;return Ra(n),u=sl(t,n,r,z,y,g),j=Ah(),t!==null&&!Rn?(Yu(t,n,g),Nn(t,n,g)):(me&&j&&gh(n),n.flags|=1,sn(t,n,u,g),n.child)}function _i(t,n,r,u,g){if(t===null){var y=r.type;return typeof y=="function"&&!Co(y)&&y.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=y,Yh(t,n,y,u,g)):(t=An(r.type,null,u,n,n.mode,g),t.ref=n.ref,t.return=n,n.child=t)}if(y=t.child,!jo(t,g)){var z=y.memoizedProps;if(r=r.compare,r=r!==null?r:oa,r(z,u)&&t.ref===n.ref)return Nn(t,n,g)}return n.flags|=1,t=nn(y,u),t.ref=n.ref,t.return=n,n.child=t}function Yh(t,n,r,u,g){if(t!==null){var y=t.memoizedProps;if(oa(y,u)&&t.ref===n.ref)if(Rn=!1,n.pendingProps=u=y,jo(t,g))(t.flags&131072)!==0&&(Rn=!0);else return n.lanes=t.lanes,Nn(t,n,g)}return Ar(t,n,r,u,g)}function Ss(t,n,r){var u=n.pendingProps,g=u.children,y=t!==null?t.memoizedState:null;if(u.mode==="hidden"){if((n.flags&128)!==0){if(u=y!==null?y.baseLanes|r:r,t!==null){for(g=n.child=t.child,y=0;g!==null;)y=y|g.lanes|g.childLanes,g=g.sibling;n.childLanes=y&~u}else n.childLanes=0,n.child=null;return bs(t,n,u,r)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&xo(n,y!==null?y.cachePool:null),y!==null?$d(n,y):Th(),w0(n);else return n.lanes=n.childLanes=536870912,bs(t,n,y!==null?y.baseLanes|r:r,r)}else y!==null?(xo(n,y.cachePool),$d(n,y),Kl(),n.memoizedState=null):(t!==null&&xo(n,null),Th(),Kl());return sn(t,n,g,r),n.child}function bs(t,n,r,u){var g=Yl();return g=g===null?null:{parent:hn._currentValue,pool:g},n.memoizedState={baseLanes:r,cachePool:g},t!==null&&xo(n,null),Th(),w0(n),t!==null&&ki(t,n,u,!0),null}function Es(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(o(284));(t===null||t.ref!==r)&&(n.flags|=4194816)}}function Ar(t,n,r,u,g){return Ra(n),r=sl(t,n,r,u,void 0,g),u=Ah(),t!==null&&!Rn?(Yu(t,n,g),Nn(t,n,g)):(me&&u&&gh(n),n.flags|=1,sn(t,n,r,g),n.child)}function Ni(t,n,r,u,g,y){return Ra(n),n.updateQueue=null,r=n0(n,u,r,g),e0(t),u=Ah(),t!==null&&!Rn?(Yu(t,n,y),Nn(t,n,y)):(me&&u&&gh(n),n.flags|=1,sn(t,n,r,y),n.child)}function Mi(t,n,r,u,g){if(Ra(n),n.stateNode===null){var y=Gl,z=r.contextType;typeof z=="object"&&z!==null&&(y=Je(z)),y=new r(u,y),n.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=ai,n.stateNode=y,y._reactInternals=n,y=n.stateNode,y.props=u,y.state=n.memoizedState,y.refs={},Eh(n),z=r.contextType,y.context=typeof z=="object"&&z!==null?Je(z):Gl,y.state=n.memoizedState,z=r.getDerivedStateFromProps,typeof z=="function"&&(Pl(n,r,z,u),y.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(z=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),z!==y.state&&ai.enqueueReplaceState(y,y.state,null),vr(n,u,y,g),zo(),y.state=n.memoizedState),typeof y.componentDidMount=="function"&&(n.flags|=4194308),u=!0}else if(t===null){y=n.stateNode;var j=n.memoizedProps,I=Da(r,j);y.props=I;var ct=y.context,vt=r.contextType;z=Gl,typeof vt=="object"&&vt!==null&&(z=Je(vt));var bt=r.getDerivedStateFromProps;vt=typeof bt=="function"||typeof y.getSnapshotBeforeUpdate=="function",j=n.pendingProps!==j,vt||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(j||ct!==z)&&z0(n,y,u,z),il=!1;var dt=n.memoizedState;y.state=dt,vr(n,u,y,g),zo(),ct=n.memoizedState,j||dt!==ct||il?(typeof bt=="function"&&(Pl(n,r,bt,u),ct=n.memoizedState),(I=il||U0(n,r,I,u,dt,ct,z))?(vt||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(n.flags|=4194308)):(typeof y.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=u,n.memoizedState=ct),y.props=u,y.state=ct,y.context=z,u=I):(typeof y.componentDidMount=="function"&&(n.flags|=4194308),u=!1)}else{y=n.stateNode,Vt(t,n),z=n.memoizedProps,vt=Da(r,z),y.props=vt,bt=n.pendingProps,dt=y.context,ct=r.contextType,I=Gl,typeof ct=="object"&&ct!==null&&(I=Je(ct)),j=r.getDerivedStateFromProps,(ct=typeof j=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(z!==bt||dt!==I)&&z0(n,y,u,I),il=!1,dt=n.memoizedState,y.state=dt,vr(n,u,y,g),zo();var gt=n.memoizedState;z!==bt||dt!==gt||il||t!==null&&t.dependencies!==null&&No(t.dependencies)?(typeof j=="function"&&(Pl(n,r,j,u),gt=n.memoizedState),(vt=il||U0(n,r,vt,u,dt,gt,I)||t!==null&&t.dependencies!==null&&No(t.dependencies))?(ct||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(u,gt,I),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(u,gt,I)),typeof y.componentDidUpdate=="function"&&(n.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof y.componentDidUpdate!="function"||z===t.memoizedProps&&dt===t.memoizedState||(n.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||z===t.memoizedProps&&dt===t.memoizedState||(n.flags|=1024),n.memoizedProps=u,n.memoizedState=gt),y.props=u,y.state=gt,y.context=I,u=vt):(typeof y.componentDidUpdate!="function"||z===t.memoizedProps&&dt===t.memoizedState||(n.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||z===t.memoizedProps&&dt===t.memoizedState||(n.flags|=1024),u=!1)}return y=u,Es(t,n),u=(n.flags&128)!==0,y||u?(y=n.stateNode,r=u&&typeof r.getDerivedStateFromError!="function"?null:y.render(),n.flags|=1,t!==null&&u?(n.child=vs(n,t.child,null,g),n.child=vs(n,null,r,g)):sn(t,n,r,g),n.memoizedState=y.state,t=n.child):t=Nn(t,n,g),t}function Ql(t,n,r,u){return fr(),n.flags|=256,sn(t,n,r,u),n.child}var da={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ga(t){return{baseLanes:t,cachePool:Hu()}}function vn(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=$i),t}function Rr(t,n,r){var u=n.pendingProps,g=!1,y=(n.flags&128)!==0,z;if((z=y)||(z=t!==null&&t.memoizedState===null?!1:(ln.current&2)!==0),z&&(g=!0,n.flags&=-129),z=(n.flags&32)!==0,n.flags&=-33,t===null){if(me){if(g?Xl(n):Kl(),me){var j=Pe,I;if(I=j){t:{for(I=j,j=Ti;I.nodeType!==8;){if(!j){j=null;break t}if(I=gl(I.nextSibling),I===null){j=null;break t}}j=I}j!==null?(n.memoizedState={dehydrated:j,treeContext:Bl!==null?{id:Ta,overflow:Aa}:null,retryLane:536870912,hydrationErrors:null},I=gi(18,null,null,0),I.stateNode=j,I.return=n,n.child=I,ei=n,Pe=null,I=!0):I=!1}I||Ll(n)}if(j=n.memoizedState,j!==null&&(j=j.dehydrated,j!==null))return Sg(j)?n.lanes=32:n.lanes=536870912,null;Ma(n)}return j=u.children,u=u.fallback,g?(Kl(),g=n.mode,j=Cs({mode:"hidden",children:j},g),u=Hl(u,g,r,null),j.return=n,u.return=n,j.sibling=u,n.child=j,g=n.child,g.memoizedState=ga(r),g.childLanes=vn(t,z,r),n.memoizedState=da,u):(Xl(n),Oa(n,j))}if(I=t.memoizedState,I!==null&&(j=I.dehydrated,j!==null)){if(y)n.flags&256?(Xl(n),n.flags&=-257,n=Hn(t,n,r)):n.memoizedState!==null?(Kl(),n.child=t.child,n.flags|=128,n=null):(Kl(),g=u.fallback,j=n.mode,u=Cs({mode:"visible",children:u.children},j),g=Hl(g,j,r,null),g.flags|=2,u.return=n,g.return=n,u.sibling=g,n.child=u,vs(n,t.child,null,r),u=n.child,u.memoizedState=ga(r),u.childLanes=vn(t,z,r),n.memoizedState=da,n=g);else if(Xl(n),Sg(j)){if(z=j.nextSibling&&j.nextSibling.dataset,z)var ct=z.dgst;z=ct,u=Error(o(419)),u.stack="",u.digest=z,ms({value:u,source:null,stack:null}),n=Hn(t,n,r)}else if(Rn||ki(t,n,r,!1),z=(r&t.childLanes)!==0,Rn||z){if(z=Kt,z!==null&&(u=r&-r,u=(u&42)!==0?1:Qs(u),u=(u&(z.suspendedLanes|r))!==0?0:u,u!==0&&u!==I.retryLane))throw I.retryLane=u,$a(t,u),si(z,t,u),B0;j.data==="$?"||i(),n=Hn(t,n,r)}else j.data==="$?"?(n.flags|=192,n.child=t.child,n=null):(t=I.treeContext,Pe=gl(j.nextSibling),ei=n,me=!0,Fi=null,Ti=!1,t!==null&&(zn[Ci++]=Ta,zn[Ci++]=Aa,zn[Ci++]=Bl,Ta=t.id,Aa=t.overflow,Bl=n),n=Oa(n,u.children),n.flags|=4096);return n}return g?(Kl(),g=u.fallback,j=n.mode,I=t.child,ct=I.sibling,u=nn(I,{mode:"hidden",children:u.children}),u.subtreeFlags=I.subtreeFlags&65011712,ct!==null?g=nn(ct,g):(g=Hl(g,j,r,null),g.flags|=2),g.return=n,u.return=n,u.sibling=g,n.child=u,u=g,g=n.child,j=t.child.memoizedState,j===null?j=ga(r):(I=j.cachePool,I!==null?(ct=hn._currentValue,I=I.parent!==ct?{parent:ct,pool:ct}:I):I=Hu(),j={baseLanes:j.baseLanes|r,cachePool:I}),g.memoizedState=j,g.childLanes=vn(t,z,r),n.memoizedState=da,u):(Xl(n),r=t.child,t=r.sibling,r=nn(r,{mode:"visible",children:u.children}),r.return=n,r.sibling=null,t!==null&&(z=n.deletions,z===null?(n.deletions=[t],n.flags|=16):z.push(t)),n.child=r,n.memoizedState=null,r)}function Oa(t,n){return n=Cs({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Cs(t,n){return t=gi(22,t,null,n),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Hn(t,n,r){return vs(n,t.child,null,r),t=Oa(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Bn(t,n,r){t.lanes|=n;var u=t.alternate;u!==null&&(u.lanes|=n),vh(t.return,n,r)}function he(t,n,r,u,g){var y=t.memoizedState;y===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:u,tail:r,tailMode:g}:(y.isBackwards=n,y.rendering=null,y.renderingStartTime=0,y.last=u,y.tail=r,y.tailMode=g)}function Ii(t,n,r){var u=n.pendingProps,g=u.revealOrder,y=u.tail;if(sn(t,n,u.children,r),u=ln.current,(u&2)!==0)u=u&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Bn(t,r,n);else if(t.tag===19)Bn(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}u&=1}switch(nt(ln,u),g){case"forwards":for(r=n.child,g=null;r!==null;)t=r.alternate,t!==null&&ol(t)===null&&(g=r),r=r.sibling;r=g,r===null?(g=n.child,n.child=null):(g=r.sibling,r.sibling=null),he(n,!1,g,r,y);break;case"backwards":for(r=null,g=n.child,n.child=null;g!==null;){if(t=g.alternate,t!==null&&ol(t)===null){n.child=g;break}t=g.sibling,g.sibling=r,r=g,g=t}he(n,!0,r,null,y);break;case"together":he(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Nn(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),va|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(ki(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(o(153));if(n.child!==null){for(t=n.child,r=nn(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=nn(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function jo(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&No(t)))}function Zi(t,n,r){switch(n.tag){case 3:rt(n,n.stateNode.containerInfo),Vl(n,hn,t.memoizedState.cache),fr();break;case 27:case 5:Rt(n);break;case 4:rt(n,n.stateNode.containerInfo);break;case 10:Vl(n,n.type,n.memoizedProps.value);break;case 13:var u=n.memoizedState;if(u!==null)return u.dehydrated!==null?(Xl(n),n.flags|=128,null):(r&n.child.childLanes)!==0?Rr(t,n,r):(Xl(n),t=Nn(t,n,r),t!==null?t.sibling:null);Xl(n);break;case 19:var g=(t.flags&128)!==0;if(u=(r&n.childLanes)!==0,u||(ki(t,n,r,!1),u=(r&n.childLanes)!==0),g){if(u)return Ii(t,n,r);n.flags|=128}if(g=n.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),nt(ln,ln.current),u)break;return null;case 22:case 23:return n.lanes=0,Ss(t,n,r);case 24:Vl(n,hn,t.memoizedState.cache)}return Nn(t,n,r)}function Ts(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)Rn=!0;else{if(!jo(t,r)&&(n.flags&128)===0)return Rn=!1,Zi(t,n,r);Rn=(t.flags&131072)!==0}else Rn=!1,me&&(n.flags&1048576)!==0&&xu(n,hr,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var u=n.elementType,g=u._init;if(u=g(u._payload),n.type=u,typeof u=="function")Co(u)?(t=Da(u,t),n.tag=1,n=Mi(null,n,u,t,r)):(n.tag=0,n=Ar(null,n,u,t,r));else{if(u!=null){if(g=u.$$typeof,g===U){n.tag=11,n=pi(null,n,u,t,r);break t}else if(g===J){n.tag=14,n=_i(null,n,u,t,r);break t}}throw n=V(u)||u,Error(o(306,n,""))}}return n;case 0:return Ar(t,n,n.type,n.pendingProps,r);case 1:return u=n.type,g=Da(u,n.pendingProps),Mi(t,n,u,g,r);case 3:t:{if(rt(n,n.stateNode.containerInfo),t===null)throw Error(o(387));u=n.pendingProps;var y=n.memoizedState;g=y.element,Vt(t,n),vr(n,u,null,r);var z=n.memoizedState;if(u=z.cache,Vl(n,hn,u),u!==y.cache&&Ro(n,[hn],r,!0),zo(),u=z.element,y.isDehydrated)if(y={element:u,isDehydrated:!1,cache:z.cache},n.updateQueue.baseState=y,n.memoizedState=y,n.flags&256){n=Ql(t,n,u,r);break t}else if(u!==g){g=Un(Error(o(424)),n),ms(g),n=Ql(t,n,u,r);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Pe=gl(t.firstChild),ei=n,me=!0,Fi=null,Ti=!0,r=x0(n,null,u,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(fr(),u===g){n=Nn(t,n,r);break t}sn(t,n,u,r)}n=n.child}return n;case 26:return Es(t,n),t===null?(r=ep(n.type,null,n.pendingProps,null))?n.memoizedState=r:me||(r=n.type,t=n.pendingProps,u=F0(Et.current).createElement(r),u[Dn]=n,u[Vn]=t,ri(u,r,t),Cn(u),n.stateNode=u):n.memoizedState=ep(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Rt(n),t===null&&me&&(u=n.stateNode=Wm(n.type,n.pendingProps,Et.current),ei=n,Ti=!0,g=Pe,Hr(n.type)?(bg=g,Pe=gl(u.firstChild)):Pe=g),sn(t,n,n.pendingProps.children,r),Es(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&me&&((g=u=Pe)&&(u=s4(u,n.type,n.pendingProps,Ti),u!==null?(n.stateNode=u,ei=n,Pe=gl(u.firstChild),Ti=!1,g=!0):g=!1),g||Ll(n)),Rt(n),g=n.type,y=n.pendingProps,z=t!==null?t.memoizedProps:null,u=y.children,_g(g,y)?u=null:z!==null&&_g(g,z)&&(n.flags|=32),n.memoizedState!==null&&(g=sl(t,n,tg,null,null,r),Wh._currentValue=g),Es(t,n),sn(t,n,u,r),n.child;case 6:return t===null&&me&&((t=r=Pe)&&(r=r4(r,n.pendingProps,Ti),r!==null?(n.stateNode=r,ei=n,Pe=null,t=!0):t=!1),t||Ll(n)),null;case 13:return Rr(t,n,r);case 4:return rt(n,n.stateNode.containerInfo),u=n.pendingProps,t===null?n.child=vs(n,null,u,r):sn(t,n,u,r),n.child;case 11:return pi(t,n,n.type,n.pendingProps,r);case 7:return sn(t,n,n.pendingProps,r),n.child;case 8:return sn(t,n,n.pendingProps.children,r),n.child;case 12:return sn(t,n,n.pendingProps.children,r),n.child;case 10:return u=n.pendingProps,Vl(n,n.type,u.value),sn(t,n,u.children,r),n.child;case 9:return g=n.type._context,u=n.pendingProps.children,Ra(n),g=Je(g),u=u(g),n.flags|=1,sn(t,n,u,r),n.child;case 14:return _i(t,n,n.type,n.pendingProps,r);case 15:return Yh(t,n,n.type,n.pendingProps,r);case 19:return Ii(t,n,r);case 31:return u=n.pendingProps,r=n.mode,u={mode:u.mode,children:u.children},t===null?(r=Cs(u,r),r.ref=n.ref,n.child=r,r.return=n,n=r):(r=nn(t.child,u),r.ref=n.ref,n.child=r,r.return=n,n=r),n;case 22:return Ss(t,n,r);case 24:return Ra(n),u=Je(hn),t===null?(g=Yl(),g===null&&(g=Kt,y=zu(),g.pooledCache=y,y.refCount++,y!==null&&(g.pooledCacheLanes|=r),g=y),n.memoizedState={parent:u,cache:g},Eh(n),Vl(n,hn,g)):((t.lanes&r)!==0&&(Vt(t,n),vr(n,null,null,r),zo()),g=t.memoizedState,y=n.memoizedState,g.parent!==u?(g={parent:u,cache:u},n.memoizedState=g,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=g),Vl(n,hn,u)):(u=y.cache,Vl(n,hn,u),u!==g.cache&&Ro(n,[hn],r,!0))),sn(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(o(156,n.tag))}function ma(t){t.flags|=4}function Fo(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!sp(n)){if(n=Ae.current,n!==null&&((Gt&4194048)===Gt?fa!==null:(Gt&62914560)!==Gt&&(Gt&536870912)===0||n!==fa))throw Ki=Uo,Sh;t.flags|=8192}}function ul(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Uc():536870912,t.lanes|=n,ge|=n)}function As(t,n){if(!me)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var u=null;r!==null;)r.alternate!==null&&(u=r),r=r.sibling;u===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:u.sibling=null}}function De(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,u=0;if(n)for(var g=t.child;g!==null;)r|=g.lanes|g.childLanes,u|=g.subtreeFlags&65011712,u|=g.flags&65011712,g.return=t,g=g.sibling;else for(g=t.child;g!==null;)r|=g.lanes|g.childLanes,u|=g.subtreeFlags,u|=g.flags,g.return=t,g=g.sibling;return t.subtreeFlags|=u,t.childLanes=r,n}function jh(t,n,r){var u=n.pendingProps;switch(mh(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return De(n),null;case 1:return De(n),null;case 3:return r=n.stateNode,u=null,t!==null&&(u=t.memoizedState.cache),n.memoizedState.cache!==u&&(n.flags|=2048),nl(hn),Ct(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ua(n)?ma(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,_e())),De(n),null;case 26:return r=n.memoizedState,t===null?(ma(n),r!==null?(De(n),Fo(n,r)):(De(n),n.flags&=-16777217)):r?r!==t.memoizedState?(ma(n),De(n),Fo(n,r)):(De(n),n.flags&=-16777217):(t.memoizedProps!==u&&ma(n),De(n),n.flags&=-16777217),null;case 27:Mt(n),r=Et.current;var g=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==u&&ma(n);else{if(!u){if(n.stateNode===null)throw Error(o(166));return De(n),null}t=ut.current,ua(n)?Id(n):(t=Wm(g,u,r),n.stateNode=t,ma(n))}return De(n),null;case 5:if(Mt(n),r=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==u&&ma(n);else{if(!u){if(n.stateNode===null)throw Error(o(166));return De(n),null}if(t=ut.current,ua(n))Id(n);else{switch(g=F0(Et.current),t){case 1:t=g.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:t=g.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":t=g.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":t=g.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":t=g.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof u.is=="string"?g.createElement("select",{is:u.is}):g.createElement("select"),u.multiple?t.multiple=!0:u.size&&(t.size=u.size);break;default:t=typeof u.is=="string"?g.createElement(r,{is:u.is}):g.createElement(r)}}t[Dn]=n,t[Vn]=u;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)t.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=t;t:switch(ri(t,r,u),r){case"button":case"input":case"select":case"textarea":t=!!u.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&ma(n)}}return De(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==u&&ma(n);else{if(typeof u!="string"&&n.stateNode===null)throw Error(o(166));if(t=Et.current,ua(n)){if(t=n.stateNode,r=n.memoizedProps,u=null,g=ei,g!==null)switch(g.tag){case 27:case 5:u=g.memoizedProps}t[Dn]=n,t=!!(t.nodeValue===r||u!==null&&u.suppressHydrationWarning===!0||Xm(t.nodeValue,r)),t||Ll(n)}else t=F0(t).createTextNode(u),t[Dn]=n,n.stateNode=t}return De(n),null;case 13:if(u=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(g=ua(n),u!==null&&u.dehydrated!==null){if(t===null){if(!g)throw Error(o(318));if(g=n.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(o(317));g[Dn]=n}else fr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;De(n),g=!1}else g=_e(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=g),g=!0;if(!g)return n.flags&256?(Ma(n),n):(Ma(n),null)}if(Ma(n),(n.flags&128)!==0)return n.lanes=r,n;if(r=u!==null,t=t!==null&&t.memoizedState!==null,r){u=n.child,g=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(g=u.alternate.memoizedState.cachePool.pool);var y=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(y=u.memoizedState.cachePool.pool),y!==g&&(u.flags|=2048)}return r!==t&&r&&(n.child.flags|=8192),ul(n,n.updateQueue),De(n),null;case 4:return Ct(),t===null&&fg(n.stateNode.containerInfo),De(n),null;case 10:return nl(n.type),De(n),null;case 19:if(ft(ln),g=n.memoizedState,g===null)return De(n),null;if(u=(n.flags&128)!==0,y=g.rendering,y===null)if(u)As(g,!1);else{if(ze!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(y=ol(t),y!==null){for(n.flags|=128,As(g,!1),t=y.updateQueue,n.updateQueue=t,ul(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)dh(r,t),r=r.sibling;return nt(ln,ln.current&1|2),n.child}t=t.sibling}g.tail!==null&&kt()>Fn&&(n.flags|=128,u=!0,As(g,!1),n.lanes=4194304)}else{if(!u)if(t=ol(y),t!==null){if(n.flags|=128,u=!0,t=t.updateQueue,n.updateQueue=t,ul(n,t),As(g,!0),g.tail===null&&g.tailMode==="hidden"&&!y.alternate&&!me)return De(n),null}else 2*kt()-g.renderingStartTime>Fn&&r!==536870912&&(n.flags|=128,u=!0,As(g,!1),n.lanes=4194304);g.isBackwards?(y.sibling=n.child,n.child=y):(t=g.last,t!==null?t.sibling=y:n.child=y,g.last=y)}return g.tail!==null?(n=g.tail,g.rendering=n,g.tail=n.sibling,g.renderingStartTime=kt(),n.sibling=null,t=ln.current,nt(ln,u?t&1|2:t&1),n):(De(n),null);case 22:case 23:return Ma(n),Go(),u=n.memoizedState!==null,t!==null?t.memoizedState!==null!==u&&(n.flags|=8192):u&&(n.flags|=8192),u?(r&536870912)!==0&&(n.flags&128)===0&&(De(n),n.subtreeFlags&6&&(n.flags|=8192)):De(n),r=n.updateQueue,r!==null&&ul(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),u=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(u=n.memoizedState.cachePool.pool),u!==r&&(n.flags|=2048),t!==null&&ft(Xi),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),nl(hn),De(n),null;case 25:return null;case 30:return null}throw Error(o(156,n.tag))}function Nr(t,n){switch(mh(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return nl(hn),Ct(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Mt(n),null;case 13:if(Ma(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(o(340));fr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return ft(ln),null;case 4:return Ct(),null;case 10:return nl(n.type),null;case 22:case 23:return Ma(n),Go(),t!==null&&ft(Xi),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return nl(hn),null;case 25:return null;default:return null}}function Mr(t,n){switch(mh(n),n.tag){case 3:nl(hn),Ct();break;case 26:case 27:case 5:Mt(n);break;case 4:Ct();break;case 13:Ma(n);break;case 19:ft(ln);break;case 10:nl(n.type);break;case 22:case 23:Ma(n),Go(),t!==null&&ft(Xi);break;case 24:nl(hn)}}function Rs(t,n){try{var r=n.updateQueue,u=r!==null?r.lastEffect:null;if(u!==null){var g=u.next;r=g;do{if((r.tag&t)===t){u=void 0;var y=r.create,z=r.inst;u=y(),z.destroy=u}r=r.next}while(r!==g)}}catch(j){it(n,n.return,j)}}function Di(t,n,r){try{var u=n.updateQueue,g=u!==null?u.lastEffect:null;if(g!==null){var y=g.next;u=y;do{if((u.tag&t)===t){var z=u.inst,j=z.destroy;if(j!==void 0){z.destroy=void 0,g=n;var I=r,ct=j;try{ct()}catch(vt){it(g,I,vt)}}}u=u.next}while(u!==y)}}catch(vt){it(n,n.return,vt)}}function Ns(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{Wd(n,r)}catch(u){it(t,t.return,u)}}}function cl(t,n,r){r.props=Da(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(u){it(t,n,u)}}function Ms(t,n){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var u=t.stateNode;break;case 30:u=t.stateNode;break;default:u=t.stateNode}typeof r=="function"?t.refCleanup=r(u):r.current=u}}catch(g){it(t,n,g)}}function xa(t,n){var r=t.ref,u=t.refCleanup;if(r!==null)if(typeof u=="function")try{u()}catch(g){it(t,n,g)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(g){it(t,n,g)}else r.current=null}function Dr(t){var n=t.type,r=t.memoizedProps,u=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&u.focus();break t;case"img":r.src?u.src=r.src:r.srcSet&&(u.srcset=r.srcSet)}}catch(g){it(t,t.return,g)}}function ko(t,n,r){try{var u=t.stateNode;e4(u,t.type,r,n),u[Vn]=n}catch(g){it(t,t.return,g)}}function Xo(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Hr(t.type)||t.tag===4}function Il(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Xo(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Hr(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Zl(t,n,r){var u=t.tag;if(u===5||u===6)t=t.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(t),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=j0));else if(u!==4&&(u===27&&Hr(t.type)&&(r=t.stateNode,n=null),t=t.child,t!==null))for(Zl(t,n,r),t=t.sibling;t!==null;)Zl(t,n,r),t=t.sibling}function Jl(t,n,r){var u=t.tag;if(u===5||u===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(u!==4&&(u===27&&Hr(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(Jl(t,n,r),t=t.sibling;t!==null;)Jl(t,n,r),t=t.sibling}function Wl(t){var n=t.stateNode,r=t.memoizedProps;try{for(var u=t.type,g=n.attributes;g.length;)n.removeAttributeNode(g[0]);ri(n,u,r),n[Dn]=t,n[Vn]=r}catch(y){it(t,t.return,y)}}var wa=!1,Oe=!1,Or=!1,Oi=typeof WeakSet=="function"?WeakSet:Set,Re=null;function yn(t,n){if(t=t.containerInfo,mg=I0,t=sh(t),yo(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else t:{r=(r=t.ownerDocument)&&r.defaultView||window;var u=r.getSelection&&r.getSelection();if(u&&u.rangeCount!==0){r=u.anchorNode;var g=u.anchorOffset,y=u.focusNode;u=u.focusOffset;try{r.nodeType,y.nodeType}catch{r=null;break t}var z=0,j=-1,I=-1,ct=0,vt=0,bt=t,dt=null;e:for(;;){for(var gt;bt!==r||g!==0&&bt.nodeType!==3||(j=z+g),bt!==y||u!==0&&bt.nodeType!==3||(I=z+u),bt.nodeType===3&&(z+=bt.nodeValue.length),(gt=bt.firstChild)!==null;)dt=bt,bt=gt;for(;;){if(bt===t)break e;if(dt===r&&++ct===g&&(j=z),dt===y&&++vt===u&&(I=z),(gt=bt.nextSibling)!==null)break;bt=dt,dt=bt.parentNode}bt=gt}r=j===-1||I===-1?null:{start:j,end:I}}else r=null}r=r||{start:0,end:0}}else r=null;for(pg={focusedElem:t,selectionRange:r},I0=!1,Re=n;Re!==null;)if(n=Re,t=n.child,(n.subtreeFlags&1024)!==0&&t!==null)t.return=n,Re=t;else for(;Re!==null;){switch(n=Re,y=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&y!==null){t=void 0,r=n,g=y.memoizedProps,y=y.memoizedState,u=r.stateNode;try{var jt=Da(r.type,g,r.elementType===r.type);t=u.getSnapshotBeforeUpdate(jt,y),u.__reactInternalSnapshotBeforeUpdate=t}catch(Lt){it(r,r.return,Lt)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)yg(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":yg(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(o(163))}if(t=n.sibling,t!==null){t.return=n.return,Re=t;break}Re=n.return}}function hl(t,n,r){var u=r.flags;switch(r.tag){case 0:case 11:case 15:li(t,r),u&4&&Rs(5,r);break;case 1:if(li(t,r),u&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(z){it(r,r.return,z)}else{var g=Da(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(g,n,t.__reactInternalSnapshotBeforeUpdate)}catch(z){it(r,r.return,z)}}u&64&&Ns(r),u&512&&Ms(r,r.return);break;case 3:if(li(t,r),u&64&&(t=r.updateQueue,t!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{Wd(t,n)}catch(z){it(r,r.return,z)}}break;case 27:n===null&&u&4&&Wl(r);case 26:case 5:li(t,r),n===null&&u&4&&Dr(r),u&512&&Ms(r,r.return);break;case 12:li(t,r);break;case 13:li(t,r),u&4&&$l(t,r),u&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=Ge.bind(null,r),o4(t,r))));break;case 22:if(u=r.memoizedState!==null||wa,!u){n=n!==null&&n.memoizedState!==null||Oe,g=wa;var y=Oe;wa=u,(Oe=n)&&!y?Ua(t,r,(r.subtreeFlags&8772)!==0):li(t,r),wa=g,Oe=y}break;case 30:break;default:li(t,r)}}function Jt(t){var n=t.alternate;n!==null&&(t.alternate=null,Jt(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Ke(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Ht=null,de=!1;function Ji(t,n,r){for(r=r.child;r!==null;)Ds(t,n,r),r=r.sibling}function Ds(t,n,r){if(Ve&&typeof Ve.onCommitFiberUnmount=="function")try{Ve.onCommitFiberUnmount(un,r)}catch{}switch(r.tag){case 26:Oe||xa(r,n),Ji(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:Oe||xa(r,n);var u=Ht,g=de;Hr(r.type)&&(Ht=r.stateNode,de=!1),Ji(t,n,r),Qh(r.stateNode),Ht=u,de=g;break;case 5:Oe||xa(r,n);case 6:if(u=Ht,g=de,Ht=null,Ji(t,n,r),Ht=u,de=g,Ht!==null)if(de)try{(Ht.nodeType===9?Ht.body:Ht.nodeName==="HTML"?Ht.ownerDocument.body:Ht).removeChild(r.stateNode)}catch(y){it(r,n,y)}else try{Ht.removeChild(r.stateNode)}catch(y){it(r,n,y)}break;case 18:Ht!==null&&(de?(t=Ht,Zm(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),nf(t)):Zm(Ht,r.stateNode));break;case 4:u=Ht,g=de,Ht=r.stateNode.containerInfo,de=!0,Ji(t,n,r),Ht=u,de=g;break;case 0:case 11:case 14:case 15:Oe||Di(2,r,n),Oe||Di(4,r,n),Ji(t,n,r);break;case 1:Oe||(xa(r,n),u=r.stateNode,typeof u.componentWillUnmount=="function"&&cl(r,n,u)),Ji(t,n,r);break;case 21:Ji(t,n,r);break;case 22:Oe=(u=Oe)||r.memoizedState!==null,Ji(t,n,r),Oe=u;break;default:Ji(t,n,r)}}function $l(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{nf(t)}catch(r){it(n,n.return,r)}}function ec(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Oi),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Oi),n;default:throw Error(o(435,t.tag))}}function Os(t,n){var r=ec(t);n.forEach(function(u){var g=Yt.bind(null,t,u);r.has(u)||(r.add(u),u.then(g,g))})}function Mn(t,n){var r=n.deletions;if(r!==null)for(var u=0;u<r.length;u++){var g=r[u],y=t,z=n,j=z;t:for(;j!==null;){switch(j.tag){case 27:if(Hr(j.type)){Ht=j.stateNode,de=!1;break t}break;case 5:Ht=j.stateNode,de=!1;break t;case 3:case 4:Ht=j.stateNode.containerInfo,de=!0;break t}j=j.return}if(Ht===null)throw Error(o(160));Ds(y,z,g),Ht=null,de=!1,y=g.alternate,y!==null&&(y.return=null),g.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)nc(n,t),n=n.sibling}var pa=null;function nc(t,n){var r=t.alternate,u=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Mn(n,t),We(t),u&4&&(Di(3,t,t.return),Rs(3,t),Di(5,t,t.return));break;case 1:Mn(n,t),We(t),u&512&&(Oe||r===null||xa(r,r.return)),u&64&&wa&&(t=t.updateQueue,t!==null&&(u=t.callbacks,u!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?u:r.concat(u))));break;case 26:var g=pa;if(Mn(n,t),We(t),u&512&&(Oe||r===null||xa(r,r.return)),u&4){var y=r!==null?r.memoizedState:null;if(u=t.memoizedState,r===null)if(u===null)if(t.stateNode===null){t:{u=t.type,r=t.memoizedProps,g=g.ownerDocument||g;e:switch(u){case"title":y=g.getElementsByTagName("title")[0],(!y||y[Cl]||y[Dn]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=g.createElement(u),g.head.insertBefore(y,g.querySelector("head > title"))),ri(y,u,r),y[Dn]=t,Cn(y),u=y;break t;case"link":var z=ap("link","href",g).get(u+(r.href||""));if(z){for(var j=0;j<z.length;j++)if(y=z[j],y.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&y.getAttribute("rel")===(r.rel==null?null:r.rel)&&y.getAttribute("title")===(r.title==null?null:r.title)&&y.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){z.splice(j,1);break e}}y=g.createElement(u),ri(y,u,r),g.head.appendChild(y);break;case"meta":if(z=ap("meta","content",g).get(u+(r.content||""))){for(j=0;j<z.length;j++)if(y=z[j],y.getAttribute("content")===(r.content==null?null:""+r.content)&&y.getAttribute("name")===(r.name==null?null:r.name)&&y.getAttribute("property")===(r.property==null?null:r.property)&&y.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&y.getAttribute("charset")===(r.charSet==null?null:r.charSet)){z.splice(j,1);break e}}y=g.createElement(u),ri(y,u,r),g.head.appendChild(y);break;default:throw Error(o(468,u))}y[Dn]=t,Cn(y),u=y}t.stateNode=u}else lp(g,t.type,t.stateNode);else t.stateNode=ip(g,u,t.memoizedProps);else y!==u?(y===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):y.count--,u===null?lp(g,t.type,t.stateNode):ip(g,u,t.memoizedProps)):u===null&&t.stateNode!==null&&ko(t,t.memoizedProps,r.memoizedProps)}break;case 27:Mn(n,t),We(t),u&512&&(Oe||r===null||xa(r,r.return)),r!==null&&u&4&&ko(t,t.memoizedProps,r.memoizedProps);break;case 5:if(Mn(n,t),We(t),u&512&&(Oe||r===null||xa(r,r.return)),t.flags&32){g=t.stateNode;try{ra(g,"")}catch(gt){it(t,t.return,gt)}}u&4&&t.stateNode!=null&&(g=t.memoizedProps,ko(t,g,r!==null?r.memoizedProps:g)),u&1024&&(Or=!0);break;case 6:if(Mn(n,t),We(t),u&4){if(t.stateNode===null)throw Error(o(162));u=t.memoizedProps,r=t.stateNode;try{r.nodeValue=u}catch(gt){it(t,t.return,gt)}}break;case 3:if(K0=null,g=pa,pa=k0(n.containerInfo),Mn(n,t),pa=g,We(t),u&4&&r!==null&&r.memoizedState.isDehydrated)try{nf(n.containerInfo)}catch(gt){it(t,t.return,gt)}Or&&(Or=!1,ts(t));break;case 4:u=pa,pa=k0(t.stateNode.containerInfo),Mn(n,t),We(t),pa=u;break;case 12:Mn(n,t),We(t);break;case 13:Mn(n,t),We(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Ce=kt()),u&4&&(u=t.updateQueue,u!==null&&(t.updateQueue=null,Os(t,u)));break;case 22:g=t.memoizedState!==null;var I=r!==null&&r.memoizedState!==null,ct=wa,vt=Oe;if(wa=ct||g,Oe=vt||I,Mn(n,t),Oe=vt,wa=ct,We(t),u&8192)t:for(n=t.stateNode,n._visibility=g?n._visibility&-2:n._visibility|1,g&&(r===null||I||wa||Oe||xi(t)),r=null,n=t;;){if(n.tag===5||n.tag===26){if(r===null){I=r=n;try{if(y=I.stateNode,g)z=y.style,typeof z.setProperty=="function"?z.setProperty("display","none","important"):z.display="none";else{j=I.stateNode;var bt=I.memoizedProps.style,dt=bt!=null&&bt.hasOwnProperty("display")?bt.display:null;j.style.display=dt==null||typeof dt=="boolean"?"":(""+dt).trim()}}catch(gt){it(I,I.return,gt)}}}else if(n.tag===6){if(r===null){I=n;try{I.stateNode.nodeValue=g?"":I.memoizedProps}catch(gt){it(I,I.return,gt)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}u&4&&(u=t.updateQueue,u!==null&&(r=u.retryQueue,r!==null&&(u.retryQueue=null,Os(t,r))));break;case 19:Mn(n,t),We(t),u&4&&(u=t.updateQueue,u!==null&&(t.updateQueue=null,Os(t,u)));break;case 30:break;case 21:break;default:Mn(n,t),We(t)}}function We(t){var n=t.flags;if(n&2){try{for(var r,u=t.return;u!==null;){if(Xo(u)){r=u;break}u=u.return}if(r==null)throw Error(o(160));switch(r.tag){case 27:var g=r.stateNode,y=Il(t);Jl(t,y,g);break;case 5:var z=r.stateNode;r.flags&32&&(ra(z,""),r.flags&=-33);var j=Il(t);Jl(t,j,z);break;case 3:case 4:var I=r.stateNode.containerInfo,ct=Il(t);Zl(t,ct,I);break;default:throw Error(o(161))}}catch(vt){it(t,t.return,vt)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function ts(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;ts(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function li(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)hl(t,n.alternate,n),n=n.sibling}function xi(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Di(4,n,n.return),xi(n);break;case 1:xa(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&cl(n,n.return,r),xi(n);break;case 27:Qh(n.stateNode);case 26:case 5:xa(n,n.return),xi(n);break;case 22:n.memoizedState===null&&xi(n);break;case 30:xi(n);break;default:xi(n)}t=t.sibling}}function Ua(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var u=n.alternate,g=t,y=n,z=y.flags;switch(y.tag){case 0:case 11:case 15:Ua(g,y,r),Rs(4,y);break;case 1:if(Ua(g,y,r),u=y,g=u.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(ct){it(u,u.return,ct)}if(u=y,g=u.updateQueue,g!==null){var j=u.stateNode;try{var I=g.shared.hiddenCallbacks;if(I!==null)for(g.shared.hiddenCallbacks=null,g=0;g<I.length;g++)yr(I[g],j)}catch(ct){it(u,u.return,ct)}}r&&z&64&&Ns(y),Ms(y,y.return);break;case 27:Wl(y);case 26:case 5:Ua(g,y,r),r&&u===null&&z&4&&Dr(y),Ms(y,y.return);break;case 12:Ua(g,y,r);break;case 13:Ua(g,y,r),r&&z&4&&$l(g,y);break;case 22:y.memoizedState===null&&Ua(g,y,r),Ms(y,y.return);break;case 30:break;default:Ua(g,y,r)}n=n.sibling}}function ic(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&dr(r))}function ac(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&dr(t))}function Ne(t,n,r,u){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)lc(t,n,r,u),n=n.sibling}function lc(t,n,r,u){var g=n.flags;switch(n.tag){case 0:case 11:case 15:Ne(t,n,r,u),g&2048&&Rs(9,n);break;case 1:Ne(t,n,r,u);break;case 3:Ne(t,n,r,u),g&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&dr(t)));break;case 12:if(g&2048){Ne(t,n,r,u),t=n.stateNode;try{var y=n.memoizedProps,z=y.id,j=y.onPostCommit;typeof j=="function"&&j(z,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(I){it(n,n.return,I)}}else Ne(t,n,r,u);break;case 13:Ne(t,n,r,u);break;case 23:break;case 22:y=n.stateNode,z=n.alternate,n.memoizedState!==null?y._visibility&2?Ne(t,n,r,u):_a(t,n):y._visibility&2?Ne(t,n,r,u):(y._visibility|=2,fl(t,n,r,u,(n.subtreeFlags&10256)!==0)),g&2048&&ic(z,n);break;case 24:Ne(t,n,r,u),g&2048&&ac(n.alternate,n);break;default:Ne(t,n,r,u)}}function fl(t,n,r,u,g){for(g=g&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var y=t,z=n,j=r,I=u,ct=z.flags;switch(z.tag){case 0:case 11:case 15:fl(y,z,j,I,g),Rs(8,z);break;case 23:break;case 22:var vt=z.stateNode;z.memoizedState!==null?vt._visibility&2?fl(y,z,j,I,g):_a(y,z):(vt._visibility|=2,fl(y,z,j,I,g)),g&&ct&2048&&ic(z.alternate,z);break;case 24:fl(y,z,j,I,g),g&&ct&2048&&ac(z.alternate,z);break;default:fl(y,z,j,I,g)}n=n.sibling}}function _a(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,u=n,g=u.flags;switch(u.tag){case 22:_a(r,u),g&2048&&ic(u.alternate,u);break;case 24:_a(r,u),g&2048&&ac(u.alternate,u);break;default:_a(r,u)}n=n.sibling}}var wi=8192;function xr(t){if(t.subtreeFlags&wi)for(t=t.child;t!==null;)L0(t),t=t.sibling}function L0(t){switch(t.tag){case 26:xr(t),t.flags&wi&&t.memoizedState!==null&&b4(pa,t.memoizedState,t.memoizedProps);break;case 5:xr(t);break;case 3:case 4:var n=pa;pa=k0(t.stateNode.containerInfo),xr(t),pa=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=wi,wi=16777216,xr(t),wi=n):xr(t));break;default:xr(t)}}function q0(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function xe(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var u=n[r];Re=u,Ga(u,t)}q0(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Fh(t),t=t.sibling}function Fh(t){switch(t.tag){case 0:case 11:case 15:xe(t),t.flags&2048&&Di(9,t,t.return);break;case 3:xe(t);break;case 12:xe(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,za(t)):xe(t);break;default:xe(t)}}function za(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var u=n[r];Re=u,Ga(u,t)}q0(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Di(8,n,n.return),za(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,za(n));break;default:za(n)}t=t.sibling}}function Ga(t,n){for(;Re!==null;){var r=Re;switch(r.tag){case 0:case 11:case 15:Di(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var u=r.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:dr(r.memoizedState.cache)}if(u=r.child,u!==null)u.return=r,Re=u;else t:for(r=t;Re!==null;){u=Re;var g=u.sibling,y=u.return;if(Jt(u),u===r){Re=null;break t}if(g!==null){g.return=y,Re=g;break t}Re=y}}}var $e={getCacheForType:function(t){var n=Je(hn),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r}},kh=typeof WeakMap=="function"?WeakMap:Map,ve=0,Kt=null,$t=null,Gt=0,Zt=0,Qe=null,Ui=!1,wr=!1,Ur=!1,Wi=0,ze=0,va=0,Ha=0,xs=0,$i=0,ge=0,ye=null,Bt=null,ie=!1,Ce=0,Fn=1/0,ta=null,zi=null,Sn=0,kn=null,Me=null,Gi=0,dl=0,Ko=null,Hi=null,Ba=0,ws=null;function tn(){if((ve&2)!==0&&Gt!==0)return Gt&-Gt;if(D.T!==null){var t=Qt;return t!==0?t:og()}return Wr()}function sc(){$i===0&&($i=(Gt&536870912)===0||me?wc():536870912);var t=Ae.current;return t!==null&&(t.flags|=32),$i}function si(t,n,r){(t===Kt&&(Zt===2||Zt===9)||t.cancelPendingCommit!==null)&&(ns(t,0),ya(t,Gt,$i,!1)),Ps(t,r),((ve&2)===0||t!==Kt)&&(t===Kt&&((ve&2)===0&&(Ha|=r),ze===4&&ya(t,Gt,$i,!1)),ls(t))}function zr(t,n,r){if((ve&6)!==0)throw Error(o(327));var u=!r&&(n&124)===0&&(n&t.expiredLanes)===0||ja(t,n),g=u?m(t,n):l(t,n,!0),y=u;do{if(g===0){wr&&!u&&ya(t,n,0,!1);break}else{if(r=t.current.alternate,y&&!es(r)){g=l(t,n,!1),y=!1;continue}if(g===2){if(y=n,t.errorRecoveryDisabledLanes&y)var z=0;else z=t.pendingLanes&-536870913,z=z!==0?z:z&536870912?536870912:0;if(z!==0){n=z;t:{var j=t;g=ye;var I=j.current.memoizedState.isDehydrated;if(I&&(ns(j,z).flags|=256),z=l(j,z,!1),z!==2){if(Ur&&!I){j.errorRecoveryDisabledLanes|=y,Ha|=y,g=4;break t}y=Bt,Bt=g,y!==null&&(Bt===null?Bt=y:Bt.push.apply(Bt,y))}g=z}if(y=!1,g!==2)continue}}if(g===1){ns(t,0),ya(t,n,0,!0);break}t:{switch(u=t,y=g,y){case 0:case 1:throw Error(o(345));case 4:if((n&4194048)!==n)break;case 6:ya(u,n,$i,!Ui);break t;case 2:Bt=null;break;case 3:case 5:break;default:throw Error(o(329))}if((n&62914560)===n&&(g=Ce+300-kt(),10<g)){if(ya(u,n,$i,!Ui),Sl(u,0,!0)!==0)break t;u.timeoutHandle=Qm(Po.bind(null,u,r,Bt,ta,ie,n,$i,Ha,ge,Ui,y,2,-0,0),g);break t}Po(u,r,Bt,ta,ie,n,$i,Ha,ge,Ui,y,0,-0,0)}}break}while(!0);ls(t)}function Po(t,n,r,u,g,y,z,j,I,ct,vt,bt,dt,gt){if(t.timeoutHandle=-1,bt=n.subtreeFlags,(bt&8192||(bt&16785408)===16785408)&&(Jh={stylesheets:null,count:0,unsuspend:S4},L0(n),bt=E4(),bt!==null)){t.cancelPendingCommit=bt(At.bind(null,t,n,y,r,u,g,z,j,I,vt,1,dt,gt)),ya(t,y,z,!ct);return}At(t,n,y,r,u,g,z,j,I)}function es(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var u=0;u<r.length;u++){var g=r[u],y=g.getSnapshot;g=g.value;try{if(!hi(y(),g))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function ya(t,n,r,u){n&=~xs,n&=~Ha,t.suspendedLanes|=n,t.pingedLanes&=~n,u&&(t.warmLanes|=n),u=t.expirationTimes;for(var g=n;0<g;){var y=31-Ze(g),z=1<<y;u[y]=-1,g&=~z}r!==0&&zc(t,r,n)}function La(){return(ve&6)===0?(Xh(0),!1):!0}function Us(){if($t!==null){if(Zt===0)var t=$t.return;else t=$t,el=ql=null,Rh(t),_s=null,qo=0,t=$t;for(;t!==null;)Mr(t.alternate,t),t=t.return;$t=null}}function ns(t,n){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,i4(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),Us(),Kt=t,$t=r=nn(t.current,null),Gt=n,Zt=0,Qe=null,Ui=!1,wr=ja(t,n),Ur=!1,ge=$i=xs=Ha=va=ze=0,Bt=ye=null,ie=!1,(n&8)!==0&&(n|=n&32);var u=t.entangledLanes;if(u!==0)for(t=t.entanglements,u&=n;0<u;){var g=31-Ze(u),y=1<<g;n|=t[g],u&=~y}return Wi=n,Eo(),r}function rc(t,n){It=null,D.H=Lo,n===wo||n===ca?(n=bh(),Zt=3):n===Sh?(n=bh(),Zt=4):Zt=n===B0?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Qe=n,$t===null&&(ze=1,Wu(t,Un(n,t.current)))}function Gr(){var t=D.H;return D.H=Lo,t===null?Lo:t}function oc(){var t=D.A;return D.A=$e,t}function i(){ze=4,Ui||(Gt&4194048)!==Gt&&Ae.current!==null||(wr=!0),(va&134217727)===0&&(Ha&134217727)===0||Kt===null||ya(Kt,Gt,$i,!1)}function l(t,n,r){var u=ve;ve|=2;var g=Gr(),y=oc();(Kt!==t||Gt!==n)&&(ta=null,ns(t,n)),n=!1;var z=ze;t:do try{if(Zt!==0&&$t!==null){var j=$t,I=Qe;switch(Zt){case 8:Us(),z=6;break t;case 3:case 2:case 9:case 6:Ae.current===null&&(n=!0);var ct=Zt;if(Zt=0,Qe=null,Z(t,j,I,ct),r&&wr){z=0;break t}break;default:ct=Zt,Zt=0,Qe=null,Z(t,j,I,ct)}}h(),z=ze;break}catch(vt){rc(t,vt)}while(!0);return n&&t.shellSuspendCounter++,el=ql=null,ve=u,D.H=g,D.A=y,$t===null&&(Kt=null,Gt=0,Eo()),z}function h(){for(;$t!==null;)M($t)}function m(t,n){var r=ve;ve|=2;var u=Gr(),g=oc();Kt!==t||Gt!==n?(ta=null,Fn=kt()+500,ns(t,n)):wr=ja(t,n);t:do try{if(Zt!==0&&$t!==null){n=$t;var y=Qe;e:switch(Zt){case 1:Zt=0,Qe=null,Z(t,n,y,1);break;case 2:case 9:if(Bu(y)){Zt=0,Qe=null,K(n);break}n=function(){Zt!==2&&Zt!==9||Kt!==t||(Zt=7),ls(t)},y.then(n,n);break t;case 3:Zt=7;break t;case 4:Zt=5;break t;case 7:Bu(y)?(Zt=0,Qe=null,K(n)):(Zt=0,Qe=null,Z(t,n,y,7));break;case 5:var z=null;switch($t.tag){case 26:z=$t.memoizedState;case 5:case 27:var j=$t;if(!z||sp(z)){Zt=0,Qe=null;var I=j.sibling;if(I!==null)$t=I;else{var ct=j.return;ct!==null?($t=ct,st(ct)):$t=null}break e}}Zt=0,Qe=null,Z(t,n,y,5);break;case 6:Zt=0,Qe=null,Z(t,n,y,6);break;case 8:Us(),ze=6;break t;default:throw Error(o(462))}}S();break}catch(vt){rc(t,vt)}while(!0);return el=ql=null,D.H=u,D.A=g,ve=r,$t!==null?0:(Kt=null,Gt=0,Eo(),ze)}function S(){for(;$t!==null&&!Xt();)M($t)}function M(t){var n=Ts(t.alternate,t,Wi);t.memoizedProps=t.pendingProps,n===null?st(t):$t=n}function K(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=Ni(r,n,n.pendingProps,n.type,void 0,Gt);break;case 11:n=Ni(r,n,n.pendingProps,n.type.render,n.ref,Gt);break;case 5:Rh(n);default:Mr(r,n),n=$t=dh(n,Wi),n=Ts(r,n,Wi)}t.memoizedProps=t.pendingProps,n===null?st(t):$t=n}function Z(t,n,r,u){el=ql=null,Rh(n),_s=null,qo=0;var g=n.return;try{if(sg(t,g,n,r,Gt)){ze=1,Wu(t,Un(r,t.current)),$t=null;return}}catch(y){if(g!==null)throw $t=g,y;ze=1,Wu(t,Un(r,t.current)),$t=null;return}n.flags&32768?(me||u===1?t=!0:wr||(Gt&536870912)!==0?t=!1:(Ui=t=!0,(u===2||u===9||u===3||u===6)&&(u=Ae.current,u!==null&&u.tag===13&&(u.flags|=16384))),_t(n,t)):st(n)}function st(t){var n=t;do{if((n.flags&32768)!==0){_t(n,Ui);return}t=n.return;var r=jh(n.alternate,n,Wi);if(r!==null){$t=r;return}if(n=n.sibling,n!==null){$t=n;return}$t=n=t}while(n!==null);ze===0&&(ze=5)}function _t(t,n){do{var r=Nr(t.alternate,t);if(r!==null){r.flags&=32767,$t=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){$t=t;return}$t=t=r}while(t!==null);ze=6,$t=null}function At(t,n,r,u,g,y,z,j,I){t.cancelPendingCommit=null;do is();while(Sn!==0);if((ve&6)!==0)throw Error(o(327));if(n!==null){if(n===t.current)throw Error(o(177));if(y=n.lanes|n.childLanes,y|=Mu,su(t,r,y,z,j,I),t===Kt&&($t=Kt=null,Gt=0),Me=n,kn=t,Gi=r,dl=y,Ko=g,Hi=u,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,pe(Zn,function(){return as(),null})):(t.callbackNode=null,t.callbackPriority=0),u=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||u){u=D.T,D.T=null,g=L.p,L.p=2,z=ve,ve|=4;try{yn(t,n,r)}finally{ve=z,L.p=g,D.T=u}}Sn=1,Dt(),Ot(),Pt()}}function Dt(){if(Sn===1){Sn=0;var t=kn,n=Me,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=D.T,D.T=null;var u=L.p;L.p=2;var g=ve;ve|=4;try{nc(n,t);var y=pg,z=sh(t.containerInfo),j=y.focusedElem,I=y.selectionRange;if(z!==j&&j&&j.ownerDocument&&lh(j.ownerDocument.documentElement,j)){if(I!==null&&yo(j)){var ct=I.start,vt=I.end;if(vt===void 0&&(vt=ct),"selectionStart"in j)j.selectionStart=ct,j.selectionEnd=Math.min(vt,j.value.length);else{var bt=j.ownerDocument||document,dt=bt&&bt.defaultView||window;if(dt.getSelection){var gt=dt.getSelection(),jt=j.textContent.length,Lt=Math.min(I.start,jt),Ue=I.end===void 0?Lt:Math.min(I.end,jt);!gt.extend&&Lt>Ue&&(z=Ue,Ue=Lt,Lt=z);var lt=ah(j,Lt),at=ah(j,Ue);if(lt&&at&&(gt.rangeCount!==1||gt.anchorNode!==lt.node||gt.anchorOffset!==lt.offset||gt.focusNode!==at.node||gt.focusOffset!==at.offset)){var ot=bt.createRange();ot.setStart(lt.node,lt.offset),gt.removeAllRanges(),Lt>Ue?(gt.addRange(ot),gt.extend(at.node,at.offset)):(ot.setEnd(at.node,at.offset),gt.addRange(ot))}}}}for(bt=[],gt=j;gt=gt.parentNode;)gt.nodeType===1&&bt.push({element:gt,left:gt.scrollLeft,top:gt.scrollTop});for(typeof j.focus=="function"&&j.focus(),j=0;j<bt.length;j++){var St=bt[j];St.element.scrollLeft=St.left,St.element.scrollTop=St.top}}I0=!!mg,pg=mg=null}finally{ve=g,L.p=u,D.T=r}}t.current=n,Sn=2}}function Ot(){if(Sn===2){Sn=0;var t=kn,n=Me,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=D.T,D.T=null;var u=L.p;L.p=2;var g=ve;ve|=4;try{hl(t,n.alternate,n)}finally{ve=g,L.p=u,D.T=r}}Sn=3}}function Pt(){if(Sn===4||Sn===3){Sn=0,on();var t=kn,n=Me,r=Gi,u=Hi;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Sn=5:(Sn=0,Me=kn=null,Bi(t,t.pendingLanes));var g=t.pendingLanes;if(g===0&&(zi=null),rs(r),n=n.stateNode,Ve&&typeof Ve.onCommitFiberRoot=="function")try{Ve.onCommitFiberRoot(un,n,void 0,(n.current.flags&128)===128)}catch{}if(u!==null){n=D.T,g=L.p,L.p=2,D.T=null;try{for(var y=t.onRecoverableError,z=0;z<u.length;z++){var j=u[z];y(j.value,{componentStack:j.stack})}}finally{D.T=n,L.p=g}}(Gi&3)!==0&&is(),ls(t),g=t.pendingLanes,(r&4194090)!==0&&(g&42)!==0?t===ws?Ba++:(Ba=0,ws=t):Ba=0,Xh(0)}}function Bi(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,dr(n)))}function is(t){return Dt(),Ot(),Pt(),as()}function as(){if(Sn!==5)return!1;var t=kn,n=dl;dl=0;var r=rs(Gi),u=D.T,g=L.p;try{L.p=32>r?32:r,D.T=null,r=Ko,Ko=null;var y=kn,z=Gi;if(Sn=0,Me=kn=null,Gi=0,(ve&6)!==0)throw Error(o(331));var j=ve;if(ve|=4,Fh(y.current),lc(y,y.current,z,r),ve=j,Xh(0,!1),Ve&&typeof Ve.onPostCommitFiberRoot=="function")try{Ve.onPostCommitFiberRoot(un,y)}catch{}return!0}finally{L.p=g,D.T=u,Bi(t,n)}}function ht(t,n,r){n=Un(r,n),n=$u(t.stateNode,n,2),t=al(t,n,2),t!==null&&(Ps(t,2),ls(t))}function it(t,n,r){if(t.tag===3)ht(t,t,r);else for(;n!==null;){if(n.tag===3){ht(n,t,r);break}else if(n.tag===1){var u=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(zi===null||!zi.has(u))){t=Un(r,t),r=H0(2),u=al(n,r,2),u!==null&&(tc(r,u,n,t),Ps(u,2),ls(u));break}}n=n.return}}function mt(t,n,r){var u=t.pingCache;if(u===null){u=t.pingCache=new kh;var g=new Set;u.set(n,g)}else g=u.get(n),g===void 0&&(g=new Set,u.set(n,g));g.has(r)||(Ur=!0,g.add(r),t=Tt.bind(null,t,n,r),n.then(t,t))}function Tt(t,n,r){var u=t.pingCache;u!==null&&u.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,Kt===t&&(Gt&r)===r&&(ze===4||ze===3&&(Gt&62914560)===Gt&&300>kt()-Ce?(ve&2)===0&&ns(t,0):xs|=r,ge===Gt&&(ge=0)),ls(t)}function Ut(t,n){n===0&&(n=Uc()),t=$a(t,n),t!==null&&(Ps(t,n),ls(t))}function Ge(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),Ut(t,r)}function Yt(t,n){var r=0;switch(t.tag){case 13:var u=t.stateNode,g=t.memoizedState;g!==null&&(r=g.retryLane);break;case 19:u=t.stateNode;break;case 22:u=t.stateNode._retryCache;break;default:throw Error(o(314))}u!==null&&u.delete(n),Ut(t,r)}function pe(t,n){return te(t,n)}var rn=null,ee=null,qa=!1,uc=!1,rg=!1,Qo=0;function ls(t){t!==ee&&t.next===null&&(ee===null?rn=ee=t:ee=ee.next=t),uc=!0,qa||(qa=!0,Q3())}function Xh(t,n){if(!rg&&uc){rg=!0;do for(var r=!1,u=rn;u!==null;){if(t!==0){var g=u.pendingLanes;if(g===0)var y=0;else{var z=u.suspendedLanes,j=u.pingedLanes;y=(1<<31-Ze(42|t)+1)-1,y&=g&~(z&~j),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(r=!0,Lm(u,y))}else y=Gt,y=Sl(u,u===Kt?y:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(y&3)===0||ja(u,y)||(r=!0,Lm(u,y));u=u.next}while(r);rg=!1}}function P3(){Gm()}function Gm(){uc=qa=!1;var t=0;Qo!==0&&(n4()&&(t=Qo),Qo=0);for(var n=kt(),r=null,u=rn;u!==null;){var g=u.next,y=Hm(u,n);y===0?(u.next=null,r===null?rn=g:r.next=g,g===null&&(ee=r)):(r=u,(t!==0||(y&3)!==0)&&(uc=!0)),u=g}Xh(t)}function Hm(t,n){for(var r=t.suspendedLanes,u=t.pingedLanes,g=t.expirationTimes,y=t.pendingLanes&-62914561;0<y;){var z=31-Ze(y),j=1<<z,I=g[z];I===-1?((j&r)===0||(j&u)!==0)&&(g[z]=Jr(j,n)):I<=n&&(t.expiredLanes|=j),y&=~j}if(n=Kt,r=Gt,r=Sl(t,t===n?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),u=t.callbackNode,r===0||t===n&&(Zt===2||Zt===9)||t.cancelPendingCommit!==null)return u!==null&&u!==null&&re(u),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||ja(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(u!==null&&re(u),rs(r)){case 2:case 8:r=Le;break;case 32:r=Zn;break;case 268435456:r=qn;break;default:r=Zn}return u=Bm.bind(null,t),r=te(r,u),t.callbackPriority=n,t.callbackNode=r,n}return u!==null&&u!==null&&re(u),t.callbackPriority=2,t.callbackNode=null,2}function Bm(t,n){if(Sn!==0&&Sn!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(is()&&t.callbackNode!==r)return null;var u=Gt;return u=Sl(t,t===Kt?u:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),u===0?null:(zr(t,u,n),Hm(t,kt()),t.callbackNode!=null&&t.callbackNode===r?Bm.bind(null,t):null)}function Lm(t,n){if(is())return null;zr(t,n,!0)}function Q3(){a4(function(){(ve&6)!==0?te(Li,P3):Gm()})}function og(){return Qo===0&&(Qo=wc()),Qo}function qm(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:lo(""+t)}function Vm(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function I3(t,n,r,u,g){if(n==="submit"&&r&&r.stateNode===g){var y=qm((g[Vn]||null).action),z=u.submitter;z&&(n=(n=z[Vn]||null)?qm(n.formAction):z.getAttribute("formAction"),n!==null&&(y=n,z=null));var j=new tr("action","action",null,u,g);t.push({event:j,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Qo!==0){var I=z?Vm(g,z):new FormData(g);Lh(r,{pending:!0,data:I,method:g.method,action:y},null,I)}}else typeof y=="function"&&(j.preventDefault(),I=z?Vm(g,z):new FormData(g),Lh(r,{pending:!0,data:I,method:g.method,action:y},y,I))},currentTarget:g}]})}}for(var ug=0;ug<bo.length;ug++){var cg=bo[ug],Z3=cg.toLowerCase(),J3=cg[0].toUpperCase()+cg.slice(1);Tn(Z3,"on"+J3)}Tn(ti,"onAnimationEnd"),Tn(uh,"onAnimationIteration"),Tn(di,"onAnimationStart"),Tn("dblclick","onDoubleClick"),Tn("focusin","onFocus"),Tn("focusout","onBlur"),Tn(Qd,"onTransitionRun"),Tn(Ja,"onTransitionStart"),Tn(or,"onTransitionCancel"),Tn(Wa,"onTransitionEnd"),pn("onMouseEnter",["mouseout","mouseover"]),pn("onMouseLeave",["mouseout","mouseover"]),pn("onPointerEnter",["pointerout","pointerover"]),pn("onPointerLeave",["pointerout","pointerover"]),ka("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ka("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ka("onBeforeInput",["compositionend","keypress","textInput","paste"]),ka("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ka("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ka("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Kh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),W3=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Kh));function Ym(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var u=t[r],g=u.event;u=u.listeners;t:{var y=void 0;if(n)for(var z=u.length-1;0<=z;z--){var j=u[z],I=j.instance,ct=j.currentTarget;if(j=j.listener,I!==y&&g.isPropagationStopped())break t;y=j,g.currentTarget=ct;try{y(g)}catch(vt){ys(vt)}g.currentTarget=null,y=I}else for(z=0;z<u.length;z++){if(j=u[z],I=j.instance,ct=j.currentTarget,j=j.listener,I!==y&&g.isPropagationStopped())break t;y=j,g.currentTarget=ct;try{y(g)}catch(vt){ys(vt)}g.currentTarget=null,y=I}}}}function oe(t,n){var r=n[ba];r===void 0&&(r=n[ba]=new Set);var u=t+"__bubble";r.has(u)||(jm(n,t,2,!1),r.add(u))}function hg(t,n,r){var u=0;n&&(u|=4),jm(r,t,u,n)}var V0="_reactListening"+Math.random().toString(36).slice(2);function fg(t){if(!t[V0]){t[V0]=!0,ru.forEach(function(r){r!=="selectionchange"&&(W3.has(r)||hg(r,!1,t),hg(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[V0]||(n[V0]=!0,hg("selectionchange",!1,n))}}function jm(t,n,r,u){switch(fp(n)){case 2:var g=A4;break;case 8:g=R4;break;default:g=Rg}r=g.bind(null,n,r,t),g=void 0,!ro||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(g=!0),u?g!==void 0?t.addEventListener(n,r,{capture:!0,passive:g}):t.addEventListener(n,r,!0):g!==void 0?t.addEventListener(n,r,{passive:g}):t.addEventListener(n,r,!1)}function dg(t,n,r,u,g){var y=u;if((n&1)===0&&(n&2)===0&&u!==null)t:for(;;){if(u===null)return;var z=u.tag;if(z===3||z===4){var j=u.stateNode.containerInfo;if(j===g)break;if(z===4)for(z=u.return;z!==null;){var I=z.tag;if((I===3||I===4)&&z.stateNode.containerInfo===g)return;z=z.return}for(;j!==null;){if(z=Tl(j),z===null)return;if(I=z.tag,I===5||I===6||I===26||I===27){u=y=z;continue t}j=j.parentNode}}u=u.return}Kc(function(){var ct=y,vt=mu(r),bt=[];t:{var dt=Nu.get(t);if(dt!==void 0){var gt=tr,jt=t;switch(t){case"keypress":if(Nl(r)===0)break t;case"keydown":case"keyup":gt=Jc;break;case"focusin":jt="focus",gt=_u;break;case"focusout":jt="blur",gt=_u;break;case"beforeblur":case"afterblur":gt=_u;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":gt=Ic;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":gt=I1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":gt=$c;break;case ti:case uh:case di:gt=Ud;break;case Wa:gt=Pa;break;case"scroll":case"scrollend":gt=Od;break;case"wheel":gt=Z1;break;case"copy":case"cut":case"paste":gt=Gd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":gt=yu;break;case"toggle":case"beforetoggle":gt=Dl}var Lt=(n&4)!==0,Ue=!Lt&&(t==="scroll"||t==="scrollend"),lt=Lt?dt!==null?dt+"Capture":null:dt;Lt=[];for(var at=ct,ot;at!==null;){var St=at;if(ot=St.stateNode,St=St.tag,St!==5&&St!==26&&St!==27||ot===null||lt===null||(St=Js(at,lt),St!=null&&Lt.push(Ph(at,St,ot))),Ue)break;at=at.return}0<Lt.length&&(dt=new gt(dt,jt,null,r,vt),bt.push({event:dt,listeners:Lt}))}}if((n&7)===0){t:{if(dt=t==="mouseover"||t==="pointerover",gt=t==="mouseout"||t==="pointerout",dt&&r!==gu&&(jt=r.relatedTarget||r.fromElement)&&(Tl(jt)||jt[bl]))break t;if((gt||dt)&&(dt=vt.window===vt?vt:(dt=vt.ownerDocument)?dt.defaultView||dt.parentWindow:window,gt?(jt=r.relatedTarget||r.toElement,gt=ct,jt=jt?Tl(jt):null,jt!==null&&(Ue=f(jt),Lt=jt.tag,jt!==Ue||Lt!==5&&Lt!==27&&Lt!==6)&&(jt=null)):(gt=null,jt=ct),gt!==jt)){if(Lt=Ic,St="onMouseLeave",lt="onMouseEnter",at="mouse",(t==="pointerout"||t==="pointerover")&&(Lt=yu,St="onPointerLeave",lt="onPointerEnter",at="pointer"),Ue=gt==null?dt:Is(gt),ot=jt==null?dt:Is(jt),dt=new Lt(St,at+"leave",gt,r,vt),dt.target=Ue,dt.relatedTarget=ot,St=null,Tl(vt)===ct&&(Lt=new Lt(lt,at+"enter",jt,r,vt),Lt.target=ot,Lt.relatedTarget=Ue,St=Lt),Ue=St,gt&&jt)e:{for(Lt=gt,lt=jt,at=0,ot=Lt;ot;ot=cc(ot))at++;for(ot=0,St=lt;St;St=cc(St))ot++;for(;0<at-ot;)Lt=cc(Lt),at--;for(;0<ot-at;)lt=cc(lt),ot--;for(;at--;){if(Lt===lt||lt!==null&&Lt===lt.alternate)break e;Lt=cc(Lt),lt=cc(lt)}Lt=null}else Lt=null;gt!==null&&Fm(bt,dt,gt,Lt,!1),jt!==null&&Ue!==null&&Fm(bt,Ue,jt,Lt,!0)}}t:{if(dt=ct?Is(ct):window,gt=dt.nodeName&&dt.nodeName.toLowerCase(),gt==="select"||gt==="input"&&dt.type==="file")var wt=bu;else if(ih(dt))if(Eu)wt=wl;else{wt=Xd;var ae=J1}else gt=dt.nodeName,!gt||gt.toLowerCase()!=="input"||dt.type!=="checkbox"&&dt.type!=="radio"?ct&&du(ct.elementType)&&(wt=bu):wt=vo;if(wt&&(wt=wt(t,ct))){ci(bt,wt,r,vt);break t}ae&&ae(t,dt,ct),t==="focusout"&&ct&&dt.type==="number"&&ct.memoizedProps.value!=null&&fu(dt,"number",dt.value)}switch(ae=ct?Is(ct):window,t){case"focusin":(ih(ae)||ae.contentEditable==="true")&&(Ia=ae,Tu=ct,So=null);break;case"focusout":So=Tu=Ia=null;break;case"mousedown":Au=!0;break;case"contextmenu":case"mouseup":case"dragend":Au=!1,oh(bt,r,vt);break;case"selectionchange":if(rh)break;case"keydown":case"keyup":oh(bt,r,vt)}var zt;if(ho)t:{switch(t){case"compositionstart":var qt="onCompositionStart";break t;case"compositionend":qt="onCompositionEnd";break t;case"compositionupdate":qt="onCompositionUpdate";break t}qt=void 0}else xl?mo(t,r)&&(qt="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(qt="onCompositionStart");qt&&(go&&r.locale!=="ko"&&(xl||qt!=="onCompositionStart"?qt==="onCompositionEnd"&&xl&&(zt=Qc()):(Xa=vt,Pc="value"in Xa?Xa.value:Xa.textContent,xl=!0)),ae=Y0(ct,qt),0<ae.length&&(qt=new vu(qt,t,null,r,vt),bt.push({event:qt,listeners:ae}),zt?qt.data=zt:(zt=eh(r),zt!==null&&(qt.data=zt)))),(zt=fo?po(t,r):nh(t,r))&&(qt=Y0(ct,"onBeforeInput"),0<qt.length&&(ae=new vu("onBeforeInput","beforeinput",null,r,vt),bt.push({event:ae,listeners:qt}),ae.data=zt)),I3(bt,t,ct,r,vt)}Ym(bt,n)})}function Ph(t,n,r){return{instance:t,listener:n,currentTarget:r}}function Y0(t,n){for(var r=n+"Capture",u=[];t!==null;){var g=t,y=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||y===null||(g=Js(t,r),g!=null&&u.unshift(Ph(t,g,y)),g=Js(t,n),g!=null&&u.push(Ph(t,g,y))),t.tag===3)return u;t=t.return}return[]}function cc(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Fm(t,n,r,u,g){for(var y=n._reactName,z=[];r!==null&&r!==u;){var j=r,I=j.alternate,ct=j.stateNode;if(j=j.tag,I!==null&&I===u)break;j!==5&&j!==26&&j!==27||ct===null||(I=ct,g?(ct=Js(r,y),ct!=null&&z.unshift(Ph(r,ct,I))):g||(ct=Js(r,y),ct!=null&&z.push(Ph(r,ct,I)))),r=r.return}z.length!==0&&t.push({event:n,listeners:z})}var $3=/\r\n?/g,t4=/\u0000|\uFFFD/g;function km(t){return(typeof t=="string"?t:""+t).replace($3,`
`).replace(t4,"")}function Xm(t,n){return n=km(n),km(t)===n}function j0(){}function we(t,n,r,u,g,y){switch(r){case"children":typeof u=="string"?n==="body"||n==="textarea"&&u===""||ra(t,u):(typeof u=="number"||typeof u=="bigint")&&n!=="body"&&ra(t,""+u);break;case"className":us(t,"class",u);break;case"tabIndex":us(t,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":us(t,r,u);break;case"style":ao(t,u,y);break;case"data":if(n!=="object"){us(t,"data",u);break}case"src":case"href":if(u===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){t.removeAttribute(r);break}u=lo(""+u),t.setAttribute(r,u);break;case"action":case"formAction":if(typeof u=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(r==="formAction"?(n!=="input"&&we(t,n,"name",g.name,g,null),we(t,n,"formEncType",g.formEncType,g,null),we(t,n,"formMethod",g.formMethod,g,null),we(t,n,"formTarget",g.formTarget,g,null)):(we(t,n,"encType",g.encType,g,null),we(t,n,"method",g.method,g,null),we(t,n,"target",g.target,g,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){t.removeAttribute(r);break}u=lo(""+u),t.setAttribute(r,u);break;case"onClick":u!=null&&(t.onclick=j0);break;case"onScroll":u!=null&&oe("scroll",t);break;case"onScrollEnd":u!=null&&oe("scrollend",t);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(o(61));if(r=u.__html,r!=null){if(g.children!=null)throw Error(o(60));t.innerHTML=r}}break;case"multiple":t.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":t.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){t.removeAttribute("xlink:href");break}r=lo(""+u),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(r,""+u):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":u===!0?t.setAttribute(r,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(r,u):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?t.setAttribute(r,u):t.removeAttribute(r);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?t.removeAttribute(r):t.setAttribute(r,u);break;case"popover":oe("beforetoggle",t),oe("toggle",t),Yi(t,"popover",u);break;case"xlinkActuate":sa(t,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":sa(t,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":sa(t,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":sa(t,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":sa(t,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":sa(t,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":sa(t,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":sa(t,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":sa(t,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Yi(t,"is",u);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=kc.get(r)||r,Yi(t,r,u))}}function gg(t,n,r,u,g,y){switch(r){case"style":ao(t,u,y);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(o(61));if(r=u.__html,r!=null){if(g.children!=null)throw Error(o(60));t.innerHTML=r}}break;case"children":typeof u=="string"?ra(t,u):(typeof u=="number"||typeof u=="bigint")&&ra(t,""+u);break;case"onScroll":u!=null&&oe("scroll",t);break;case"onScrollEnd":u!=null&&oe("scrollend",t);break;case"onClick":u!=null&&(t.onclick=j0);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ou.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(g=r.endsWith("Capture"),n=r.slice(2,g?r.length-7:void 0),y=t[Vn]||null,y=y!=null?y[r]:null,typeof y=="function"&&t.removeEventListener(n,y,g),typeof u=="function")){typeof y!="function"&&y!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,u,g);break t}r in t?t[r]=u:u===!0?t.setAttribute(r,""):Yi(t,r,u)}}}function ri(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":oe("error",t),oe("load",t);var u=!1,g=!1,y;for(y in r)if(r.hasOwnProperty(y)){var z=r[y];if(z!=null)switch(y){case"src":u=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,n));default:we(t,n,y,z,r,null)}}g&&we(t,n,"srcSet",r.srcSet,r,null),u&&we(t,n,"src",r.src,r,null);return;case"input":oe("invalid",t);var j=y=z=g=null,I=null,ct=null;for(u in r)if(r.hasOwnProperty(u)){var vt=r[u];if(vt!=null)switch(u){case"name":g=vt;break;case"type":z=vt;break;case"checked":I=vt;break;case"defaultChecked":ct=vt;break;case"value":y=vt;break;case"defaultValue":j=vt;break;case"children":case"dangerouslySetInnerHTML":if(vt!=null)throw Error(o(137,n));break;default:we(t,n,u,vt,r,null)}}jc(t,y,j,I,ct,z,g,!1),eo(t);return;case"select":oe("invalid",t),u=z=y=null;for(g in r)if(r.hasOwnProperty(g)&&(j=r[g],j!=null))switch(g){case"value":y=j;break;case"defaultValue":z=j;break;case"multiple":u=j;default:we(t,n,g,j,r,null)}n=y,r=z,t.multiple=!!u,n!=null?hs(t,!!u,n,!1):r!=null&&hs(t,!!u,r,!0);return;case"textarea":oe("invalid",t),y=g=u=null;for(z in r)if(r.hasOwnProperty(z)&&(j=r[z],j!=null))switch(z){case"value":u=j;break;case"defaultValue":g=j;break;case"children":y=j;break;case"dangerouslySetInnerHTML":if(j!=null)throw Error(o(91));break;default:we(t,n,z,j,r,null)}Fc(t,u,g,y),eo(t);return;case"option":for(I in r)if(r.hasOwnProperty(I)&&(u=r[I],u!=null))switch(I){case"selected":t.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:we(t,n,I,u,r,null)}return;case"dialog":oe("beforetoggle",t),oe("toggle",t),oe("cancel",t),oe("close",t);break;case"iframe":case"object":oe("load",t);break;case"video":case"audio":for(u=0;u<Kh.length;u++)oe(Kh[u],t);break;case"image":oe("error",t),oe("load",t);break;case"details":oe("toggle",t);break;case"embed":case"source":case"link":oe("error",t),oe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ct in r)if(r.hasOwnProperty(ct)&&(u=r[ct],u!=null))switch(ct){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,n));default:we(t,n,ct,u,r,null)}return;default:if(du(n)){for(vt in r)r.hasOwnProperty(vt)&&(u=r[vt],u!==void 0&&gg(t,n,vt,u,r,void 0));return}}for(j in r)r.hasOwnProperty(j)&&(u=r[j],u!=null&&we(t,n,j,u,r,null))}function e4(t,n,r,u){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,y=null,z=null,j=null,I=null,ct=null,vt=null;for(gt in r){var bt=r[gt];if(r.hasOwnProperty(gt)&&bt!=null)switch(gt){case"checked":break;case"value":break;case"defaultValue":I=bt;default:u.hasOwnProperty(gt)||we(t,n,gt,null,u,bt)}}for(var dt in u){var gt=u[dt];if(bt=r[dt],u.hasOwnProperty(dt)&&(gt!=null||bt!=null))switch(dt){case"type":y=gt;break;case"name":g=gt;break;case"checked":ct=gt;break;case"defaultChecked":vt=gt;break;case"value":z=gt;break;case"defaultValue":j=gt;break;case"children":case"dangerouslySetInnerHTML":if(gt!=null)throw Error(o(137,n));break;default:gt!==bt&&we(t,n,dt,gt,u,bt)}}hu(t,z,j,I,ct,vt,y,g);return;case"select":gt=z=j=dt=null;for(y in r)if(I=r[y],r.hasOwnProperty(y)&&I!=null)switch(y){case"value":break;case"multiple":gt=I;default:u.hasOwnProperty(y)||we(t,n,y,null,u,I)}for(g in u)if(y=u[g],I=r[g],u.hasOwnProperty(g)&&(y!=null||I!=null))switch(g){case"value":dt=y;break;case"defaultValue":j=y;break;case"multiple":z=y;default:y!==I&&we(t,n,g,y,u,I)}n=j,r=z,u=gt,dt!=null?hs(t,!!r,dt,!1):!!u!=!!r&&(n!=null?hs(t,!!r,n,!0):hs(t,!!r,r?[]:"",!1));return;case"textarea":gt=dt=null;for(j in r)if(g=r[j],r.hasOwnProperty(j)&&g!=null&&!u.hasOwnProperty(j))switch(j){case"value":break;case"children":break;default:we(t,n,j,null,u,g)}for(z in u)if(g=u[z],y=r[z],u.hasOwnProperty(z)&&(g!=null||y!=null))switch(z){case"value":dt=g;break;case"defaultValue":gt=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(o(91));break;default:g!==y&&we(t,n,z,g,u,y)}Nd(t,dt,gt);return;case"option":for(var jt in r)if(dt=r[jt],r.hasOwnProperty(jt)&&dt!=null&&!u.hasOwnProperty(jt))switch(jt){case"selected":t.selected=!1;break;default:we(t,n,jt,null,u,dt)}for(I in u)if(dt=u[I],gt=r[I],u.hasOwnProperty(I)&&dt!==gt&&(dt!=null||gt!=null))switch(I){case"selected":t.selected=dt&&typeof dt!="function"&&typeof dt!="symbol";break;default:we(t,n,I,dt,u,gt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Lt in r)dt=r[Lt],r.hasOwnProperty(Lt)&&dt!=null&&!u.hasOwnProperty(Lt)&&we(t,n,Lt,null,u,dt);for(ct in u)if(dt=u[ct],gt=r[ct],u.hasOwnProperty(ct)&&dt!==gt&&(dt!=null||gt!=null))switch(ct){case"children":case"dangerouslySetInnerHTML":if(dt!=null)throw Error(o(137,n));break;default:we(t,n,ct,dt,u,gt)}return;default:if(du(n)){for(var Ue in r)dt=r[Ue],r.hasOwnProperty(Ue)&&dt!==void 0&&!u.hasOwnProperty(Ue)&&gg(t,n,Ue,void 0,u,dt);for(vt in u)dt=u[vt],gt=r[vt],!u.hasOwnProperty(vt)||dt===gt||dt===void 0&&gt===void 0||gg(t,n,vt,dt,u,gt);return}}for(var lt in r)dt=r[lt],r.hasOwnProperty(lt)&&dt!=null&&!u.hasOwnProperty(lt)&&we(t,n,lt,null,u,dt);for(bt in u)dt=u[bt],gt=r[bt],!u.hasOwnProperty(bt)||dt===gt||dt==null&&gt==null||we(t,n,bt,dt,u,gt)}var mg=null,pg=null;function F0(t){return t.nodeType===9?t:t.ownerDocument}function Km(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Pm(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function _g(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var vg=null;function n4(){var t=window.event;return t&&t.type==="popstate"?t===vg?!1:(vg=t,!0):(vg=null,!1)}var Qm=typeof setTimeout=="function"?setTimeout:void 0,i4=typeof clearTimeout=="function"?clearTimeout:void 0,Im=typeof Promise=="function"?Promise:void 0,a4=typeof queueMicrotask=="function"?queueMicrotask:typeof Im<"u"?function(t){return Im.resolve(null).then(t).catch(l4)}:Qm;function l4(t){setTimeout(function(){throw t})}function Hr(t){return t==="head"}function Zm(t,n){var r=n,u=0,g=0;do{var y=r.nextSibling;if(t.removeChild(r),y&&y.nodeType===8)if(r=y.data,r==="/$"){if(0<u&&8>u){r=u;var z=t.ownerDocument;if(r&1&&Qh(z.documentElement),r&2&&Qh(z.body),r&4)for(r=z.head,Qh(r),z=r.firstChild;z;){var j=z.nextSibling,I=z.nodeName;z[Cl]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&z.rel.toLowerCase()==="stylesheet"||r.removeChild(z),z=j}}if(g===0){t.removeChild(y),nf(n);return}g--}else r==="$"||r==="$?"||r==="$!"?g++:u=r.charCodeAt(0)-48;else u=0;r=y}while(r);nf(n)}function yg(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":yg(r),Ke(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function s4(t,n,r,u){for(;t.nodeType===1;){var g=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!u&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(u){if(!t[Cl])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(y=t.getAttribute("rel"),y==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(y!==g.rel||t.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||t.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||t.getAttribute("title")!==(g.title==null?null:g.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(y=t.getAttribute("src"),(y!==(g.src==null?null:g.src)||t.getAttribute("type")!==(g.type==null?null:g.type)||t.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&y&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var y=g.name==null?null:""+g.name;if(g.type==="hidden"&&t.getAttribute("name")===y)return t}else return t;if(t=gl(t.nextSibling),t===null)break}return null}function r4(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=gl(t.nextSibling),t===null))return null;return t}function Sg(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function o4(t,n){var r=t.ownerDocument;if(t.data!=="$?"||r.readyState==="complete")n();else{var u=function(){n(),r.removeEventListener("DOMContentLoaded",u)};r.addEventListener("DOMContentLoaded",u),t._reactRetry=u}}function gl(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}var bg=null;function Jm(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(n===0)return t;n--}else r==="/$"&&n++}t=t.previousSibling}return null}function Wm(t,n,r){switch(n=F0(r),t){case"html":if(t=n.documentElement,!t)throw Error(o(452));return t;case"head":if(t=n.head,!t)throw Error(o(453));return t;case"body":if(t=n.body,!t)throw Error(o(454));return t;default:throw Error(o(451))}}function Qh(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Ke(t)}var Va=new Map,$m=new Set;function k0(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var zs=L.d;L.d={f:u4,r:c4,D:h4,C:f4,L:d4,m:g4,X:p4,S:m4,M:_4};function u4(){var t=zs.f(),n=La();return t||n}function c4(t){var n=Al(t);n!==null&&n.tag===5&&n.type==="form"?C0(n):zs.r(t)}var hc=typeof document>"u"?null:document;function tp(t,n,r){var u=hc;if(u&&typeof n=="string"&&n){var g=Ei(n);g='link[rel="'+t+'"][href="'+g+'"]',typeof r=="string"&&(g+='[crossorigin="'+r+'"]'),$m.has(g)||($m.add(g),t={rel:t,crossOrigin:r,href:n},u.querySelector(g)===null&&(n=u.createElement("link"),ri(n,"link",t),Cn(n),u.head.appendChild(n)))}}function h4(t){zs.D(t),tp("dns-prefetch",t,null)}function f4(t,n){zs.C(t,n),tp("preconnect",t,n)}function d4(t,n,r){zs.L(t,n,r);var u=hc;if(u&&t&&n){var g='link[rel="preload"][as="'+Ei(n)+'"]';n==="image"&&r&&r.imageSrcSet?(g+='[imagesrcset="'+Ei(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(g+='[imagesizes="'+Ei(r.imageSizes)+'"]')):g+='[href="'+Ei(t)+'"]';var y=g;switch(n){case"style":y=fc(t);break;case"script":y=dc(t)}Va.has(y)||(t=b({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),Va.set(y,t),u.querySelector(g)!==null||n==="style"&&u.querySelector(Ih(y))||n==="script"&&u.querySelector(Zh(y))||(n=u.createElement("link"),ri(n,"link",t),Cn(n),u.head.appendChild(n)))}}function g4(t,n){zs.m(t,n);var r=hc;if(r&&t){var u=n&&typeof n.as=="string"?n.as:"script",g='link[rel="modulepreload"][as="'+Ei(u)+'"][href="'+Ei(t)+'"]',y=g;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=dc(t)}if(!Va.has(y)&&(t=b({rel:"modulepreload",href:t},n),Va.set(y,t),r.querySelector(g)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Zh(y)))return}u=r.createElement("link"),ri(u,"link",t),Cn(u),r.head.appendChild(u)}}}function m4(t,n,r){zs.S(t,n,r);var u=hc;if(u&&t){var g=os(u).hoistableStyles,y=fc(t);n=n||"default";var z=g.get(y);if(!z){var j={loading:0,preload:null};if(z=u.querySelector(Ih(y)))j.loading=5;else{t=b({rel:"stylesheet",href:t,"data-precedence":n},r),(r=Va.get(y))&&Eg(t,r);var I=z=u.createElement("link");Cn(I),ri(I,"link",t),I._p=new Promise(function(ct,vt){I.onload=ct,I.onerror=vt}),I.addEventListener("load",function(){j.loading|=1}),I.addEventListener("error",function(){j.loading|=2}),j.loading|=4,X0(z,n,u)}z={type:"stylesheet",instance:z,count:1,state:j},g.set(y,z)}}}function p4(t,n){zs.X(t,n);var r=hc;if(r&&t){var u=os(r).hoistableScripts,g=dc(t),y=u.get(g);y||(y=r.querySelector(Zh(g)),y||(t=b({src:t,async:!0},n),(n=Va.get(g))&&Cg(t,n),y=r.createElement("script"),Cn(y),ri(y,"link",t),r.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(g,y))}}function _4(t,n){zs.M(t,n);var r=hc;if(r&&t){var u=os(r).hoistableScripts,g=dc(t),y=u.get(g);y||(y=r.querySelector(Zh(g)),y||(t=b({src:t,async:!0,type:"module"},n),(n=Va.get(g))&&Cg(t,n),y=r.createElement("script"),Cn(y),ri(y,"link",t),r.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(g,y))}}function ep(t,n,r,u){var g=(g=Et.current)?k0(g):null;if(!g)throw Error(o(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=fc(r.href),r=os(g).hoistableStyles,u=r.get(n),u||(u={type:"style",instance:null,count:0,state:null},r.set(n,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=fc(r.href);var y=os(g).hoistableStyles,z=y.get(t);if(z||(g=g.ownerDocument||g,z={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(t,z),(y=g.querySelector(Ih(t)))&&!y._p&&(z.instance=y,z.state.loading=5),Va.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Va.set(t,r),y||v4(g,t,r,z.state))),n&&u===null)throw Error(o(528,""));return z}if(n&&u!==null)throw Error(o(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=dc(r),r=os(g).hoistableScripts,u=r.get(n),u||(u={type:"script",instance:null,count:0,state:null},r.set(n,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,t))}}function fc(t){return'href="'+Ei(t)+'"'}function Ih(t){return'link[rel="stylesheet"]['+t+"]"}function np(t){return b({},t,{"data-precedence":t.precedence,precedence:null})}function v4(t,n,r,u){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?u.loading=1:(n=t.createElement("link"),u.preload=n,n.addEventListener("load",function(){return u.loading|=1}),n.addEventListener("error",function(){return u.loading|=2}),ri(n,"link",r),Cn(n),t.head.appendChild(n))}function dc(t){return'[src="'+Ei(t)+'"]'}function Zh(t){return"script[async]"+t}function ip(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var u=t.querySelector('style[data-href~="'+Ei(r.href)+'"]');if(u)return n.instance=u,Cn(u),u;var g=b({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return u=(t.ownerDocument||t).createElement("style"),Cn(u),ri(u,"style",g),X0(u,r.precedence,t),n.instance=u;case"stylesheet":g=fc(r.href);var y=t.querySelector(Ih(g));if(y)return n.state.loading|=4,n.instance=y,Cn(y),y;u=np(r),(g=Va.get(g))&&Eg(u,g),y=(t.ownerDocument||t).createElement("link"),Cn(y);var z=y;return z._p=new Promise(function(j,I){z.onload=j,z.onerror=I}),ri(y,"link",u),n.state.loading|=4,X0(y,r.precedence,t),n.instance=y;case"script":return y=dc(r.src),(g=t.querySelector(Zh(y)))?(n.instance=g,Cn(g),g):(u=r,(g=Va.get(y))&&(u=b({},r),Cg(u,g)),t=t.ownerDocument||t,g=t.createElement("script"),Cn(g),ri(g,"link",u),t.head.appendChild(g),n.instance=g);case"void":return null;default:throw Error(o(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(u=n.instance,n.state.loading|=4,X0(u,r.precedence,t));return n.instance}function X0(t,n,r){for(var u=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=u.length?u[u.length-1]:null,y=g,z=0;z<u.length;z++){var j=u[z];if(j.dataset.precedence===n)y=j;else if(y!==g)break}y?y.parentNode.insertBefore(t,y.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function Eg(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Cg(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var K0=null;function ap(t,n,r){if(K0===null){var u=new Map,g=K0=new Map;g.set(r,u)}else g=K0,u=g.get(r),u||(u=new Map,g.set(r,u));if(u.has(t))return u;for(u.set(t,null),r=r.getElementsByTagName(t),g=0;g<r.length;g++){var y=r[g];if(!(y[Cl]||y[Dn]||t==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var z=y.getAttribute(n)||"";z=t+z;var j=u.get(z);j?j.push(y):u.set(z,[y])}}return u}function lp(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function y4(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function sp(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Jh=null;function S4(){}function b4(t,n,r){if(Jh===null)throw Error(o(475));var u=Jh;if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var g=fc(r.href),y=t.querySelector(Ih(g));if(y){t=y._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(u.count++,u=P0.bind(u),t.then(u,u)),n.state.loading|=4,n.instance=y,Cn(y);return}y=t.ownerDocument||t,r=np(r),(g=Va.get(g))&&Eg(r,g),y=y.createElement("link"),Cn(y);var z=y;z._p=new Promise(function(j,I){z.onload=j,z.onerror=I}),ri(y,"link",r),n.instance=y}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(u.count++,n=P0.bind(u),t.addEventListener("load",n),t.addEventListener("error",n))}}function E4(){if(Jh===null)throw Error(o(475));var t=Jh;return t.stylesheets&&t.count===0&&Tg(t,t.stylesheets),0<t.count?function(n){var r=setTimeout(function(){if(t.stylesheets&&Tg(t,t.stylesheets),t.unsuspend){var u=t.unsuspend;t.unsuspend=null,u()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(r)}}:null}function P0(){if(this.count--,this.count===0){if(this.stylesheets)Tg(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Q0=null;function Tg(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Q0=new Map,n.forEach(C4,t),Q0=null,P0.call(t))}function C4(t,n){if(!(n.state.loading&4)){var r=Q0.get(t);if(r)var u=r.get(null);else{r=new Map,Q0.set(t,r);for(var g=t.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<g.length;y++){var z=g[y];(z.nodeName==="LINK"||z.getAttribute("media")!=="not all")&&(r.set(z.dataset.precedence,z),u=z)}u&&r.set(null,u)}g=n.instance,z=g.getAttribute("data-precedence"),y=r.get(z)||u,y===u&&r.set(null,g),r.set(z,g),this.count++,u=P0.bind(this),g.addEventListener("load",u),g.addEventListener("error",u),y?y.parentNode.insertBefore(g,y.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(g,t.firstChild)),n.state.loading|=4}}var Wh={$$typeof:R,Provider:null,Consumer:null,_currentValue:Q,_currentValue2:Q,_threadCount:0};function T4(t,n,r,u,g,y,z,j){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ks(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ks(0),this.hiddenUpdates=Ks(null),this.identifierPrefix=u,this.onUncaughtError=g,this.onCaughtError=y,this.onRecoverableError=z,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=j,this.incompleteTransitions=new Map}function rp(t,n,r,u,g,y,z,j,I,ct,vt,bt){return t=new T4(t,n,r,z,j,I,ct,bt),n=1,y===!0&&(n|=24),y=gi(3,null,null,n),t.current=y,y.stateNode=t,n=zu(),n.refCount++,t.pooledCache=n,n.refCount++,y.memoizedState={element:u,isDehydrated:r,cache:n},Eh(y),t}function op(t){return t?(t=Gl,t):Gl}function up(t,n,r,u,g,y){g=op(g),u.context===null?u.context=g:u.pendingContext=g,u=Na(n),u.payload={element:r},y=y===void 0?null:y,y!==null&&(u.callback=y),r=al(t,u,n),r!==null&&(si(r,t,n),ps(r,t,n))}function cp(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function Ag(t,n){cp(t,n),(t=t.alternate)&&cp(t,n)}function hp(t){if(t.tag===13){var n=$a(t,67108864);n!==null&&si(n,t,67108864),Ag(t,67108864)}}var I0=!0;function A4(t,n,r,u){var g=D.T;D.T=null;var y=L.p;try{L.p=2,Rg(t,n,r,u)}finally{L.p=y,D.T=g}}function R4(t,n,r,u){var g=D.T;D.T=null;var y=L.p;try{L.p=8,Rg(t,n,r,u)}finally{L.p=y,D.T=g}}function Rg(t,n,r,u){if(I0){var g=Ng(u);if(g===null)dg(t,n,u,Z0,r),dp(t,u);else if(M4(g,t,n,r,u))u.stopPropagation();else if(dp(t,u),n&4&&-1<N4.indexOf(t)){for(;g!==null;){var y=Al(g);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var z=Wn(y.pendingLanes);if(z!==0){var j=y;for(j.pendingLanes|=2,j.entangledLanes|=2;z;){var I=1<<31-Ze(z);j.entanglements[1]|=I,z&=~I}ls(y),(ve&6)===0&&(Fn=kt()+500,Xh(0))}}break;case 13:j=$a(y,2),j!==null&&si(j,y,2),La(),Ag(y,2)}if(y=Ng(u),y===null&&dg(t,n,u,Z0,r),y===g)break;g=y}g!==null&&u.stopPropagation()}else dg(t,n,u,null,r)}}function Ng(t){return t=mu(t),Mg(t)}var Z0=null;function Mg(t){if(Z0=null,t=Tl(t),t!==null){var n=f(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=d(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Z0=t,null}function fp(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Be()){case Li:return 2;case Le:return 8;case Zn:case qe:return 32;case qn:return 268435456;default:return 32}default:return 32}}var Dg=!1,Br=null,Lr=null,qr=null,$h=new Map,tf=new Map,Vr=[],N4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function dp(t,n){switch(t){case"focusin":case"focusout":Br=null;break;case"dragenter":case"dragleave":Lr=null;break;case"mouseover":case"mouseout":qr=null;break;case"pointerover":case"pointerout":$h.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":tf.delete(n.pointerId)}}function ef(t,n,r,u,g,y){return t===null||t.nativeEvent!==y?(t={blockedOn:n,domEventName:r,eventSystemFlags:u,nativeEvent:y,targetContainers:[g]},n!==null&&(n=Al(n),n!==null&&hp(n)),t):(t.eventSystemFlags|=u,n=t.targetContainers,g!==null&&n.indexOf(g)===-1&&n.push(g),t)}function M4(t,n,r,u,g){switch(n){case"focusin":return Br=ef(Br,t,n,r,u,g),!0;case"dragenter":return Lr=ef(Lr,t,n,r,u,g),!0;case"mouseover":return qr=ef(qr,t,n,r,u,g),!0;case"pointerover":var y=g.pointerId;return $h.set(y,ef($h.get(y)||null,t,n,r,u,g)),!0;case"gotpointercapture":return y=g.pointerId,tf.set(y,ef(tf.get(y)||null,t,n,r,u,g)),!0}return!1}function gp(t){var n=Tl(t.target);if(n!==null){var r=f(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){t.blockedOn=n,Td(t.priority,function(){if(r.tag===13){var u=tn();u=Qs(u);var g=$a(r,u);g!==null&&si(g,r,u),Ag(r,u)}});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function J0(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=Ng(t.nativeEvent);if(r===null){r=t.nativeEvent;var u=new r.constructor(r.type,r);gu=u,r.target.dispatchEvent(u),gu=null}else return n=Al(r),n!==null&&hp(n),t.blockedOn=r,!1;n.shift()}return!0}function mp(t,n,r){J0(t)&&r.delete(n)}function D4(){Dg=!1,Br!==null&&J0(Br)&&(Br=null),Lr!==null&&J0(Lr)&&(Lr=null),qr!==null&&J0(qr)&&(qr=null),$h.forEach(mp),tf.forEach(mp)}function W0(t,n){t.blockedOn===n&&(t.blockedOn=null,Dg||(Dg=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,D4)))}var $0=null;function pp(t){$0!==t&&($0=t,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){$0===t&&($0=null);for(var n=0;n<t.length;n+=3){var r=t[n],u=t[n+1],g=t[n+2];if(typeof u!="function"){if(Mg(u||r)===null)continue;break}var y=Al(r);y!==null&&(t.splice(n,3),n-=3,Lh(y,{pending:!0,data:g,method:r.method,action:u},u,g))}}))}function nf(t){function n(I){return W0(I,t)}Br!==null&&W0(Br,t),Lr!==null&&W0(Lr,t),qr!==null&&W0(qr,t),$h.forEach(n),tf.forEach(n);for(var r=0;r<Vr.length;r++){var u=Vr[r];u.blockedOn===t&&(u.blockedOn=null)}for(;0<Vr.length&&(r=Vr[0],r.blockedOn===null);)gp(r),r.blockedOn===null&&Vr.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(u=0;u<r.length;u+=3){var g=r[u],y=r[u+1],z=g[Vn]||null;if(typeof y=="function")z||pp(r);else if(z){var j=null;if(y&&y.hasAttribute("formAction")){if(g=y,z=y[Vn]||null)j=z.formAction;else if(Mg(g)!==null)continue}else j=z.action;typeof j=="function"?r[u+1]=j:(r.splice(u,3),u-=3),pp(r)}}}function Og(t){this._internalRoot=t}t1.prototype.render=Og.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(o(409));var r=n.current,u=tn();up(r,u,t,n,null,null)},t1.prototype.unmount=Og.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;up(t.current,2,null,t,null,null),La(),n[bl]=null}};function t1(t){this._internalRoot=t}t1.prototype.unstable_scheduleHydration=function(t){if(t){var n=Wr();t={blockedOn:null,target:t,priority:n};for(var r=0;r<Vr.length&&n!==0&&n<Vr[r].priority;r++);Vr.splice(r,0,t),r===0&&gp(t)}};var _p=e.version;if(_p!=="19.1.0")throw Error(o(527,_p,"19.1.0"));L.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(o(188)):(t=Object.keys(t).join(","),Error(o(268,t)));return t=v(n),t=t!==null?_(t):null,t=t===null?null:t.stateNode,t};var O4={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:D,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var e1=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!e1.isDisabled&&e1.supportsFiber)try{un=e1.inject(O4),Ve=e1}catch{}}return lf.createRoot=function(t,n){if(!c(t))throw Error(o(299));var r=!1,u="",g=Yo,y=Ju,z=G0,j=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(u=n.identifierPrefix),n.onUncaughtError!==void 0&&(g=n.onUncaughtError),n.onCaughtError!==void 0&&(y=n.onCaughtError),n.onRecoverableError!==void 0&&(z=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(j=n.unstable_transitionCallbacks)),n=rp(t,1,!1,null,null,r,u,g,y,z,j,null),t[bl]=n.current,fg(t),new Og(n)},lf.hydrateRoot=function(t,n,r){if(!c(t))throw Error(o(299));var u=!1,g="",y=Yo,z=Ju,j=G0,I=null,ct=null;return r!=null&&(r.unstable_strictMode===!0&&(u=!0),r.identifierPrefix!==void 0&&(g=r.identifierPrefix),r.onUncaughtError!==void 0&&(y=r.onUncaughtError),r.onCaughtError!==void 0&&(z=r.onCaughtError),r.onRecoverableError!==void 0&&(j=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(I=r.unstable_transitionCallbacks),r.formState!==void 0&&(ct=r.formState)),n=rp(t,1,!0,n,r??null,u,g,y,z,j,I,ct),n.context=op(null),r=n.current,u=tn(),u=Qs(u),g=Na(u),g.callback=null,al(r,g,u),r=u,n.current.lanes=r,Ps(n,r),ls(n),t[bl]=n.current,fg(t),new t1(n)},lf.version="19.1.0",lf}var Mp;function V4(){if(Mp)return Ug.exports;Mp=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),Ug.exports=q4(),Ug.exports}var Y4=V4(),sf={},Dp;function j4(){if(Dp)return sf;Dp=1,Object.defineProperty(sf,"__esModule",{value:!0}),sf.parse=d,sf.serialize=_;const a=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,s=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,o=/^[\u0020-\u003A\u003D-\u007E]*$/,c=Object.prototype.toString,f=(()=>{const C=function(){};return C.prototype=Object.create(null),C})();function d(C,A){const E=new f,O=C.length;if(O<2)return E;const w=(A==null?void 0:A.decode)||b;let H=0;do{const N=C.indexOf("=",H);if(N===-1)break;const R=C.indexOf(";",H),U=R===-1?O:R;if(N>U){H=C.lastIndexOf(";",N-1)+1;continue}const B=p(C,H,N),k=v(C,N,B),J=C.slice(B,k);if(E[J]===void 0){let X=p(C,N+1,U),F=v(C,U,X);const Y=w(C.slice(X,F));E[J]=Y}H=U+1}while(H<O);return E}function p(C,A,E){do{const O=C.charCodeAt(A);if(O!==32&&O!==9)return A}while(++A<E);return E}function v(C,A,E){for(;A>E;){const O=C.charCodeAt(--A);if(O!==32&&O!==9)return A+1}return E}function _(C,A,E){const O=(E==null?void 0:E.encode)||encodeURIComponent;if(!a.test(C))throw new TypeError(`argument name is invalid: ${C}`);const w=O(A);if(!e.test(w))throw new TypeError(`argument val is invalid: ${A}`);let H=C+"="+w;if(!E)return H;if(E.maxAge!==void 0){if(!Number.isInteger(E.maxAge))throw new TypeError(`option maxAge is invalid: ${E.maxAge}`);H+="; Max-Age="+E.maxAge}if(E.domain){if(!s.test(E.domain))throw new TypeError(`option domain is invalid: ${E.domain}`);H+="; Domain="+E.domain}if(E.path){if(!o.test(E.path))throw new TypeError(`option path is invalid: ${E.path}`);H+="; Path="+E.path}if(E.expires){if(!T(E.expires)||!Number.isFinite(E.expires.valueOf()))throw new TypeError(`option expires is invalid: ${E.expires}`);H+="; Expires="+E.expires.toUTCString()}if(E.httpOnly&&(H+="; HttpOnly"),E.secure&&(H+="; Secure"),E.partitioned&&(H+="; Partitioned"),E.priority)switch(typeof E.priority=="string"?E.priority.toLowerCase():void 0){case"low":H+="; Priority=Low";break;case"medium":H+="; Priority=Medium";break;case"high":H+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${E.priority}`)}if(E.sameSite)switch(typeof E.sameSite=="string"?E.sameSite.toLowerCase():E.sameSite){case!0:case"strict":H+="; SameSite=Strict";break;case"lax":H+="; SameSite=Lax";break;case"none":H+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${E.sameSite}`)}return H}function b(C){if(C.indexOf("%")===-1)return C;try{return decodeURIComponent(C)}catch{return C}}function T(C){return c.call(C)==="[object Date]"}return sf}j4();/**
 * react-router v7.5.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Op="popstate";function F4(a={}){function e(c,f){let{pathname:d="/",search:p="",hash:v=""}=au(c.location.hash.substring(1));return!d.startsWith("/")&&!d.startsWith(".")&&(d="/"+d),m2("",{pathname:d,search:p,hash:v},f.state&&f.state.usr||null,f.state&&f.state.key||"default")}function s(c,f){let d=c.document.querySelector("base"),p="";if(d&&d.getAttribute("href")){let v=c.location.href,_=v.indexOf("#");p=_===-1?v:v.slice(0,_)}return p+"#"+(typeof f=="string"?f:ld(f))}function o(c,f){Ya(c.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(f)})`)}return X4(e,s,o,a)}function en(a,e){if(a===!1||a===null||typeof a>"u")throw new Error(e)}function Ya(a,e){if(!a){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function k4(){return Math.random().toString(36).substring(2,10)}function xp(a,e){return{usr:a.state,key:a.key,idx:e}}function m2(a,e,s=null,o){return{pathname:typeof a=="string"?a:a.pathname,search:"",hash:"",...typeof e=="string"?au(e):e,state:s,key:e&&e.key||o||k4()}}function ld({pathname:a="/",search:e="",hash:s=""}){return e&&e!=="?"&&(a+=e.charAt(0)==="?"?e:"?"+e),s&&s!=="#"&&(a+=s.charAt(0)==="#"?s:"#"+s),a}function au(a){let e={};if(a){let s=a.indexOf("#");s>=0&&(e.hash=a.substring(s),a=a.substring(0,s));let o=a.indexOf("?");o>=0&&(e.search=a.substring(o),a=a.substring(0,o)),a&&(e.pathname=a)}return e}function X4(a,e,s,o={}){let{window:c=document.defaultView,v5Compat:f=!1}=o,d=c.history,p="POP",v=null,_=b();_==null&&(_=0,d.replaceState({...d.state,idx:_},""));function b(){return(d.state||{idx:null}).idx}function T(){p="POP";let w=b(),H=w==null?null:w-_;_=w,v&&v({action:p,location:O.location,delta:H})}function C(w,H){p="PUSH";let N=m2(O.location,w,H);s&&s(N,w),_=b()+1;let R=xp(N,_),U=O.createHref(N);try{d.pushState(R,"",U)}catch(B){if(B instanceof DOMException&&B.name==="DataCloneError")throw B;c.location.assign(U)}f&&v&&v({action:p,location:O.location,delta:1})}function A(w,H){p="REPLACE";let N=m2(O.location,w,H);s&&s(N,w),_=b();let R=xp(N,_),U=O.createHref(N);d.replaceState(R,"",U),f&&v&&v({action:p,location:O.location,delta:0})}function E(w){let H=c.location.origin!=="null"?c.location.origin:c.location.href,N=typeof w=="string"?w:ld(w);return N=N.replace(/ $/,"%20"),en(H,`No window.location.(origin|href) available to create URL for href: ${N}`),new URL(N,H)}let O={get action(){return p},get location(){return a(c,d)},listen(w){if(v)throw new Error("A history only accepts one active listener");return c.addEventListener(Op,T),v=w,()=>{c.removeEventListener(Op,T),v=null}},createHref(w){return e(c,w)},createURL:E,encodeLocation(w){let H=E(w);return{pathname:H.pathname,search:H.search,hash:H.hash}},push:C,replace:A,go(w){return d.go(w)}};return O}function Xv(a,e,s="/"){return K4(a,e,s,!1)}function K4(a,e,s,o){let c=typeof e=="string"?au(e):e,f=Ys(c.pathname||"/",s);if(f==null)return null;let d=Kv(a);P4(d);let p=null;for(let v=0;p==null&&v<d.length;++v){let _=a5(f);p=n5(d[v],_,o)}return p}function Kv(a,e=[],s=[],o=""){let c=(f,d,p)=>{let v={relativePath:p===void 0?f.path||"":p,caseSensitive:f.caseSensitive===!0,childrenIndex:d,route:f};v.relativePath.startsWith("/")&&(en(v.relativePath.startsWith(o),`Absolute route path "${v.relativePath}" nested under path "${o}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(o.length));let _=qs([o,v.relativePath]),b=s.concat(v);f.children&&f.children.length>0&&(en(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),Kv(f.children,e,b,_)),!(f.path==null&&!f.index)&&e.push({path:_,score:t5(_,f.index),routesMeta:b})};return a.forEach((f,d)=>{var p;if(f.path===""||!((p=f.path)!=null&&p.includes("?")))c(f,d);else for(let v of Pv(f.path))c(f,d,v)}),e}function Pv(a){let e=a.split("/");if(e.length===0)return[];let[s,...o]=e,c=s.endsWith("?"),f=s.replace(/\?$/,"");if(o.length===0)return c?[f,""]:[f];let d=Pv(o.join("/")),p=[];return p.push(...d.map(v=>v===""?f:[f,v].join("/"))),c&&p.push(...d),p.map(v=>a.startsWith("/")&&v===""?"/":v)}function P4(a){a.sort((e,s)=>e.score!==s.score?s.score-e.score:e5(e.routesMeta.map(o=>o.childrenIndex),s.routesMeta.map(o=>o.childrenIndex)))}var Q4=/^:[\w-]+$/,I4=3,Z4=2,J4=1,W4=10,$4=-2,wp=a=>a==="*";function t5(a,e){let s=a.split("/"),o=s.length;return s.some(wp)&&(o+=$4),e&&(o+=Z4),s.filter(c=>!wp(c)).reduce((c,f)=>c+(Q4.test(f)?I4:f===""?J4:W4),o)}function e5(a,e){return a.length===e.length&&a.slice(0,-1).every((o,c)=>o===e[c])?a[a.length-1]-e[e.length-1]:0}function n5(a,e,s=!1){let{routesMeta:o}=a,c={},f="/",d=[];for(let p=0;p<o.length;++p){let v=o[p],_=p===o.length-1,b=f==="/"?e:e.slice(f.length)||"/",T=h1({path:v.relativePath,caseSensitive:v.caseSensitive,end:_},b),C=v.route;if(!T&&_&&s&&!o[o.length-1].route.index&&(T=h1({path:v.relativePath,caseSensitive:v.caseSensitive,end:!1},b)),!T)return null;Object.assign(c,T.params),d.push({params:c,pathname:qs([f,T.pathname]),pathnameBase:o5(qs([f,T.pathnameBase])),route:C}),T.pathnameBase!=="/"&&(f=qs([f,T.pathnameBase]))}return d}function h1(a,e){typeof a=="string"&&(a={path:a,caseSensitive:!1,end:!0});let[s,o]=i5(a.path,a.caseSensitive,a.end),c=e.match(s);if(!c)return null;let f=c[0],d=f.replace(/(.)\/+$/,"$1"),p=c.slice(1);return{params:o.reduce((_,{paramName:b,isOptional:T},C)=>{if(b==="*"){let E=p[C]||"";d=f.slice(0,f.length-E.length).replace(/(.)\/+$/,"$1")}const A=p[C];return T&&!A?_[b]=void 0:_[b]=(A||"").replace(/%2F/g,"/"),_},{}),pathname:f,pathnameBase:d,pattern:a}}function i5(a,e=!1,s=!0){Ya(a==="*"||!a.endsWith("*")||a.endsWith("/*"),`Route path "${a}" will be treated as if it were "${a.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${a.replace(/\*$/,"/*")}".`);let o=[],c="^"+a.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,p,v)=>(o.push({paramName:p,isOptional:v!=null}),v?"/?([^\\/]+)?":"/([^\\/]+)"));return a.endsWith("*")?(o.push({paramName:"*"}),c+=a==="*"||a==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?c+="\\/*$":a!==""&&a!=="/"&&(c+="(?:(?=\\/|$))"),[new RegExp(c,e?void 0:"i"),o]}function a5(a){try{return a.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ya(!1,`The URL path "${a}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),a}}function Ys(a,e){if(e==="/")return a;if(!a.toLowerCase().startsWith(e.toLowerCase()))return null;let s=e.endsWith("/")?e.length-1:e.length,o=a.charAt(s);return o&&o!=="/"?null:a.slice(s)||"/"}function l5(a,e="/"){let{pathname:s,search:o="",hash:c=""}=typeof a=="string"?au(a):a;return{pathname:s?s.startsWith("/")?s:s5(s,e):e,search:u5(o),hash:c5(c)}}function s5(a,e){let s=e.replace(/\/+$/,"").split("/");return a.split("/").forEach(c=>{c===".."?s.length>1&&s.pop():c!=="."&&s.push(c)}),s.length>1?s.join("/"):"/"}function Bg(a,e,s,o){return`Cannot include a '${a}' character in a manually specified \`to.${e}\` field [${JSON.stringify(o)}].  Please separate it out to the \`to.${s}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function r5(a){return a.filter((e,s)=>s===0||e.route.path&&e.route.path.length>0)}function q2(a){let e=r5(a);return e.map((s,o)=>o===e.length-1?s.pathname:s.pathnameBase)}function V2(a,e,s,o=!1){let c;typeof a=="string"?c=au(a):(c={...a},en(!c.pathname||!c.pathname.includes("?"),Bg("?","pathname","search",c)),en(!c.pathname||!c.pathname.includes("#"),Bg("#","pathname","hash",c)),en(!c.search||!c.search.includes("#"),Bg("#","search","hash",c)));let f=a===""||c.pathname==="",d=f?"/":c.pathname,p;if(d==null)p=s;else{let T=e.length-1;if(!o&&d.startsWith("..")){let C=d.split("/");for(;C[0]==="..";)C.shift(),T-=1;c.pathname=C.join("/")}p=T>=0?e[T]:"/"}let v=l5(c,p),_=d&&d!=="/"&&d.endsWith("/"),b=(f||d===".")&&s.endsWith("/");return!v.pathname.endsWith("/")&&(_||b)&&(v.pathname+="/"),v}var qs=a=>a.join("/").replace(/\/\/+/g,"/"),o5=a=>a.replace(/\/+$/,"").replace(/^\/*/,"/"),u5=a=>!a||a==="?"?"":a.startsWith("?")?a:"?"+a,c5=a=>!a||a==="#"?"":a.startsWith("#")?a:"#"+a;function h5(a){return a!=null&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.internal=="boolean"&&"data"in a}var Qv=["POST","PUT","PATCH","DELETE"];new Set(Qv);var f5=["GET",...Qv];new Set(f5);var Rc=pt.createContext(null);Rc.displayName="DataRouter";var w1=pt.createContext(null);w1.displayName="DataRouterState";var Iv=pt.createContext({isTransitioning:!1});Iv.displayName="ViewTransition";var d5=pt.createContext(new Map);d5.displayName="Fetchers";var g5=pt.createContext(null);g5.displayName="Await";var yl=pt.createContext(null);yl.displayName="Navigation";var md=pt.createContext(null);md.displayName="Location";var ss=pt.createContext({outlet:null,matches:[],isDataRoute:!1});ss.displayName="Route";var Y2=pt.createContext(null);Y2.displayName="RouteError";function m5(a,{relative:e}={}){en(Nc(),"useHref() may be used only in the context of a <Router> component.");let{basename:s,navigator:o}=pt.useContext(yl),{hash:c,pathname:f,search:d}=pd(a,{relative:e}),p=f;return s!=="/"&&(p=f==="/"?s:qs([s,f])),o.createHref({pathname:p,search:d,hash:c})}function Nc(){return pt.useContext(md)!=null}function Qr(){return en(Nc(),"useLocation() may be used only in the context of a <Router> component."),pt.useContext(md).location}var Zv="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Jv(a){pt.useContext(yl).static||pt.useLayoutEffect(a)}function Wv(){let{isDataRoute:a}=pt.useContext(ss);return a?M5():p5()}function p5(){en(Nc(),"useNavigate() may be used only in the context of a <Router> component.");let a=pt.useContext(Rc),{basename:e,navigator:s}=pt.useContext(yl),{matches:o}=pt.useContext(ss),{pathname:c}=Qr(),f=JSON.stringify(q2(o)),d=pt.useRef(!1);return Jv(()=>{d.current=!0}),pt.useCallback((v,_={})=>{if(Ya(d.current,Zv),!d.current)return;if(typeof v=="number"){s.go(v);return}let b=V2(v,JSON.parse(f),c,_.relative==="path");a==null&&e!=="/"&&(b.pathname=b.pathname==="/"?e:qs([e,b.pathname])),(_.replace?s.replace:s.push)(b,_.state,_)},[e,s,f,c,a])}pt.createContext(null);function pd(a,{relative:e}={}){let{matches:s}=pt.useContext(ss),{pathname:o}=Qr(),c=JSON.stringify(q2(s));return pt.useMemo(()=>V2(a,JSON.parse(c),o,e==="path"),[a,c,o,e])}function _5(a,e){return $v(a,e)}function $v(a,e,s,o){var N;en(Nc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c,static:f}=pt.useContext(yl),{matches:d}=pt.useContext(ss),p=d[d.length-1],v=p?p.params:{},_=p?p.pathname:"/",b=p?p.pathnameBase:"/",T=p&&p.route;{let R=T&&T.path||"";ty(_,!T||R.endsWith("*")||R.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${_}" (under <Route path="${R}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${R}"> to <Route path="${R==="/"?"*":`${R}/*`}">.`)}let C=Qr(),A;if(e){let R=typeof e=="string"?au(e):e;en(b==="/"||((N=R.pathname)==null?void 0:N.startsWith(b)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${b}" but pathname "${R.pathname}" was given in the \`location\` prop.`),A=R}else A=C;let E=A.pathname||"/",O=E;if(b!=="/"){let R=b.replace(/^\//,"").split("/");O="/"+E.replace(/^\//,"").split("/").slice(R.length).join("/")}let w=!f&&s&&s.matches&&s.matches.length>0?s.matches:Xv(a,{pathname:O});Ya(T||w!=null,`No routes matched location "${A.pathname}${A.search}${A.hash}" `),Ya(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${A.pathname}${A.search}${A.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let H=E5(w&&w.map(R=>Object.assign({},R,{params:Object.assign({},v,R.params),pathname:qs([b,c.encodeLocation?c.encodeLocation(R.pathname).pathname:R.pathname]),pathnameBase:R.pathnameBase==="/"?b:qs([b,c.encodeLocation?c.encodeLocation(R.pathnameBase).pathname:R.pathnameBase])})),d,s,o);return e&&H?pt.createElement(md.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...A},navigationType:"POP"}},H):H}function v5(){let a=N5(),e=h5(a)?`${a.status} ${a.statusText}`:a instanceof Error?a.message:JSON.stringify(a),s=a instanceof Error?a.stack:null,o="rgba(200,200,200, 0.5)",c={padding:"0.5rem",backgroundColor:o},f={padding:"2px 4px",backgroundColor:o},d=null;return console.error("Error handled by React Router default ErrorBoundary:",a),d=pt.createElement(pt.Fragment,null,pt.createElement("p",null,"💿 Hey developer 👋"),pt.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",pt.createElement("code",{style:f},"ErrorBoundary")," or"," ",pt.createElement("code",{style:f},"errorElement")," prop on your route.")),pt.createElement(pt.Fragment,null,pt.createElement("h2",null,"Unexpected Application Error!"),pt.createElement("h3",{style:{fontStyle:"italic"}},e),s?pt.createElement("pre",{style:c},s):null,d)}var y5=pt.createElement(v5,null),S5=class extends pt.Component{constructor(a){super(a),this.state={location:a.location,revalidation:a.revalidation,error:a.error}}static getDerivedStateFromError(a){return{error:a}}static getDerivedStateFromProps(a,e){return e.location!==a.location||e.revalidation!=="idle"&&a.revalidation==="idle"?{error:a.error,location:a.location,revalidation:a.revalidation}:{error:a.error!==void 0?a.error:e.error,location:e.location,revalidation:a.revalidation||e.revalidation}}componentDidCatch(a,e){console.error("React Router caught the following error during render",a,e)}render(){return this.state.error!==void 0?pt.createElement(ss.Provider,{value:this.props.routeContext},pt.createElement(Y2.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function b5({routeContext:a,match:e,children:s}){let o=pt.useContext(Rc);return o&&o.static&&o.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=e.route.id),pt.createElement(ss.Provider,{value:a},s)}function E5(a,e=[],s=null,o=null){if(a==null){if(!s)return null;if(s.errors)a=s.matches;else if(e.length===0&&!s.initialized&&s.matches.length>0)a=s.matches;else return null}let c=a,f=s==null?void 0:s.errors;if(f!=null){let v=c.findIndex(_=>_.route.id&&(f==null?void 0:f[_.route.id])!==void 0);en(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),c=c.slice(0,Math.min(c.length,v+1))}let d=!1,p=-1;if(s)for(let v=0;v<c.length;v++){let _=c[v];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(p=v),_.route.id){let{loaderData:b,errors:T}=s,C=_.route.loader&&!b.hasOwnProperty(_.route.id)&&(!T||T[_.route.id]===void 0);if(_.route.lazy||C){d=!0,p>=0?c=c.slice(0,p+1):c=[c[0]];break}}}return c.reduceRight((v,_,b)=>{let T,C=!1,A=null,E=null;s&&(T=f&&_.route.id?f[_.route.id]:void 0,A=_.route.errorElement||y5,d&&(p<0&&b===0?(ty("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),C=!0,E=null):p===b&&(C=!0,E=_.route.hydrateFallbackElement||null)));let O=e.concat(c.slice(0,b+1)),w=()=>{let H;return T?H=A:C?H=E:_.route.Component?H=pt.createElement(_.route.Component,null):_.route.element?H=_.route.element:H=v,pt.createElement(b5,{match:_,routeContext:{outlet:v,matches:O,isDataRoute:s!=null},children:H})};return s&&(_.route.ErrorBoundary||_.route.errorElement||b===0)?pt.createElement(S5,{location:s.location,revalidation:s.revalidation,component:A,error:T,children:w(),routeContext:{outlet:null,matches:O,isDataRoute:!0}}):w()},null)}function j2(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function C5(a){let e=pt.useContext(Rc);return en(e,j2(a)),e}function T5(a){let e=pt.useContext(w1);return en(e,j2(a)),e}function A5(a){let e=pt.useContext(ss);return en(e,j2(a)),e}function F2(a){let e=A5(a),s=e.matches[e.matches.length-1];return en(s.route.id,`${a} can only be used on routes that contain a unique "id"`),s.route.id}function R5(){return F2("useRouteId")}function N5(){var o;let a=pt.useContext(Y2),e=T5("useRouteError"),s=F2("useRouteError");return a!==void 0?a:(o=e.errors)==null?void 0:o[s]}function M5(){let{router:a}=C5("useNavigate"),e=F2("useNavigate"),s=pt.useRef(!1);return Jv(()=>{s.current=!0}),pt.useCallback(async(c,f={})=>{Ya(s.current,Zv),s.current&&(typeof c=="number"?a.navigate(c):await a.navigate(c,{fromRouteId:e,...f}))},[a,e])}var Up={};function ty(a,e,s){!e&&!Up[a]&&(Up[a]=!0,Ya(!1,s))}pt.memo(D5);function D5({routes:a,future:e,state:s}){return $v(a,void 0,s,e)}function O5({to:a,replace:e,state:s,relative:o}){en(Nc(),"<Navigate> may be used only in the context of a <Router> component.");let{static:c}=pt.useContext(yl);Ya(!c,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:f}=pt.useContext(ss),{pathname:d}=Qr(),p=Wv(),v=V2(a,q2(f),d,o==="path"),_=JSON.stringify(v);return pt.useEffect(()=>{p(JSON.parse(_),{replace:e,state:s,relative:o})},[p,_,o,e,s]),null}function s1(a){en(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function x5({basename:a="/",children:e=null,location:s,navigationType:o="POP",navigator:c,static:f=!1}){en(!Nc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=a.replace(/^\/*/,"/"),p=pt.useMemo(()=>({basename:d,navigator:c,static:f,future:{}}),[d,c,f]);typeof s=="string"&&(s=au(s));let{pathname:v="/",search:_="",hash:b="",state:T=null,key:C="default"}=s,A=pt.useMemo(()=>{let E=Ys(v,d);return E==null?null:{location:{pathname:E,search:_,hash:b,state:T,key:C},navigationType:o}},[d,v,_,b,T,C,o]);return Ya(A!=null,`<Router basename="${d}"> is not able to match the URL "${v}${_}${b}" because it does not start with the basename, so the <Router> won't render anything.`),A==null?null:pt.createElement(yl.Provider,{value:p},pt.createElement(md.Provider,{children:e,value:A}))}function w5({children:a,location:e}){return _5(p2(a),e)}function p2(a,e=[]){let s=[];return pt.Children.forEach(a,(o,c)=>{if(!pt.isValidElement(o))return;let f=[...e,c];if(o.type===pt.Fragment){s.push.apply(s,p2(o.props.children,f));return}en(o.type===s1,`[${typeof o.type=="string"?o.type:o.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),en(!o.props.index||!o.props.children,"An index route cannot have child routes.");let d={id:o.props.id||f.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,loader:o.props.loader,action:o.props.action,hydrateFallbackElement:o.props.hydrateFallbackElement,HydrateFallback:o.props.HydrateFallback,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.hasErrorBoundary===!0||o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(d.children=p2(o.props.children,f)),s.push(d)}),s}var r1="get",o1="application/x-www-form-urlencoded";function U1(a){return a!=null&&typeof a.tagName=="string"}function U5(a){return U1(a)&&a.tagName.toLowerCase()==="button"}function z5(a){return U1(a)&&a.tagName.toLowerCase()==="form"}function G5(a){return U1(a)&&a.tagName.toLowerCase()==="input"}function H5(a){return!!(a.metaKey||a.altKey||a.ctrlKey||a.shiftKey)}function B5(a,e){return a.button===0&&(!e||e==="_self")&&!H5(a)}var n1=null;function L5(){if(n1===null)try{new FormData(document.createElement("form"),0),n1=!1}catch{n1=!0}return n1}var q5=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Lg(a){return a!=null&&!q5.has(a)?(Ya(!1,`"${a}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${o1}"`),null):a}function V5(a,e){let s,o,c,f,d;if(z5(a)){let p=a.getAttribute("action");o=p?Ys(p,e):null,s=a.getAttribute("method")||r1,c=Lg(a.getAttribute("enctype"))||o1,f=new FormData(a)}else if(U5(a)||G5(a)&&(a.type==="submit"||a.type==="image")){let p=a.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let v=a.getAttribute("formaction")||p.getAttribute("action");if(o=v?Ys(v,e):null,s=a.getAttribute("formmethod")||p.getAttribute("method")||r1,c=Lg(a.getAttribute("formenctype"))||Lg(p.getAttribute("enctype"))||o1,f=new FormData(p,a),!L5()){let{name:_,type:b,value:T}=a;if(b==="image"){let C=_?`${_}.`:"";f.append(`${C}x`,"0"),f.append(`${C}y`,"0")}else _&&f.append(_,T)}}else{if(U1(a))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');s=r1,o=null,c=o1,d=a}return f&&c==="text/plain"&&(d=f,f=void 0),{action:o,method:s.toLowerCase(),encType:c,formData:f,body:d}}function k2(a,e){if(a===!1||a===null||typeof a>"u")throw new Error(e)}async function Y5(a,e){if(a.id in e)return e[a.id];try{let s=await import(a.module);return e[a.id]=s,s}catch(s){return console.error(`Error loading route module \`${a.module}\`, reloading page...`),console.error(s),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function j5(a){return a==null?!1:a.href==null?a.rel==="preload"&&typeof a.imageSrcSet=="string"&&typeof a.imageSizes=="string":typeof a.rel=="string"&&typeof a.href=="string"}async function F5(a,e,s){let o=await Promise.all(a.map(async c=>{let f=e.routes[c.route.id];if(f){let d=await Y5(f,s);return d.links?d.links():[]}return[]}));return P5(o.flat(1).filter(j5).filter(c=>c.rel==="stylesheet"||c.rel==="preload").map(c=>c.rel==="stylesheet"?{...c,rel:"prefetch",as:"style"}:{...c,rel:"prefetch"}))}function zp(a,e,s,o,c,f){let d=(v,_)=>s[_]?v.route.id!==s[_].route.id:!0,p=(v,_)=>{var b;return s[_].pathname!==v.pathname||((b=s[_].route.path)==null?void 0:b.endsWith("*"))&&s[_].params["*"]!==v.params["*"]};return f==="assets"?e.filter((v,_)=>d(v,_)||p(v,_)):f==="data"?e.filter((v,_)=>{var T;let b=o.routes[v.route.id];if(!b||!b.hasLoader)return!1;if(d(v,_)||p(v,_))return!0;if(v.route.shouldRevalidate){let C=v.route.shouldRevalidate({currentUrl:new URL(c.pathname+c.search+c.hash,window.origin),currentParams:((T=s[0])==null?void 0:T.params)||{},nextUrl:new URL(a,window.origin),nextParams:v.params,defaultShouldRevalidate:!0});if(typeof C=="boolean")return C}return!0}):[]}function k5(a,e,{includeHydrateFallback:s}={}){return X5(a.map(o=>{let c=e.routes[o.route.id];if(!c)return[];let f=[c.module];return c.clientActionModule&&(f=f.concat(c.clientActionModule)),c.clientLoaderModule&&(f=f.concat(c.clientLoaderModule)),s&&c.hydrateFallbackModule&&(f=f.concat(c.hydrateFallbackModule)),c.imports&&(f=f.concat(c.imports)),f}).flat(1))}function X5(a){return[...new Set(a)]}function K5(a){let e={},s=Object.keys(a).sort();for(let o of s)e[o]=a[o];return e}function P5(a,e){let s=new Set;return new Set(e),a.reduce((o,c)=>{let f=JSON.stringify(K5(c));return s.has(f)||(s.add(f),o.push({key:f,link:c})),o},[])}function Q5(a,e){let s=typeof a=="string"?new URL(a,typeof window>"u"?"server://singlefetch/":window.location.origin):a;return s.pathname==="/"?s.pathname="_root.data":e&&Ys(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.data`:s.pathname=`${s.pathname.replace(/\/$/,"")}.data`,s}function ey(){let a=pt.useContext(Rc);return k2(a,"You must render this element inside a <DataRouterContext.Provider> element"),a}function I5(){let a=pt.useContext(w1);return k2(a,"You must render this element inside a <DataRouterStateContext.Provider> element"),a}var X2=pt.createContext(void 0);X2.displayName="FrameworkContext";function ny(){let a=pt.useContext(X2);return k2(a,"You must render this element inside a <HydratedRouter> element"),a}function Z5(a,e){let s=pt.useContext(X2),[o,c]=pt.useState(!1),[f,d]=pt.useState(!1),{onFocus:p,onBlur:v,onMouseEnter:_,onMouseLeave:b,onTouchStart:T}=e,C=pt.useRef(null);pt.useEffect(()=>{if(a==="render"&&d(!0),a==="viewport"){let O=H=>{H.forEach(N=>{d(N.isIntersecting)})},w=new IntersectionObserver(O,{threshold:.5});return C.current&&w.observe(C.current),()=>{w.disconnect()}}},[a]),pt.useEffect(()=>{if(o){let O=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(O)}}},[o]);let A=()=>{c(!0)},E=()=>{c(!1),d(!1)};return s?a!=="intent"?[f,C,{}]:[f,C,{onFocus:rf(p,A),onBlur:rf(v,E),onMouseEnter:rf(_,A),onMouseLeave:rf(b,E),onTouchStart:rf(T,A)}]:[!1,C,{}]}function rf(a,e){return s=>{a&&a(s),s.defaultPrevented||e(s)}}function J5({page:a,...e}){let{router:s}=ey(),o=pt.useMemo(()=>Xv(s.routes,a,s.basename),[s.routes,a,s.basename]);return o?pt.createElement($5,{page:a,matches:o,...e}):null}function W5(a){let{manifest:e,routeModules:s}=ny(),[o,c]=pt.useState([]);return pt.useEffect(()=>{let f=!1;return F5(a,e,s).then(d=>{f||c(d)}),()=>{f=!0}},[a,e,s]),o}function $5({page:a,matches:e,...s}){let o=Qr(),{manifest:c,routeModules:f}=ny(),{basename:d}=ey(),{loaderData:p,matches:v}=I5(),_=pt.useMemo(()=>zp(a,e,v,c,o,"data"),[a,e,v,c,o]),b=pt.useMemo(()=>zp(a,e,v,c,o,"assets"),[a,e,v,c,o]),T=pt.useMemo(()=>{if(a===o.pathname+o.search+o.hash)return[];let E=new Set,O=!1;if(e.forEach(H=>{var R;let N=c.routes[H.route.id];!N||!N.hasLoader||(!_.some(U=>U.route.id===H.route.id)&&H.route.id in p&&((R=f[H.route.id])!=null&&R.shouldRevalidate)||N.hasClientLoader?O=!0:E.add(H.route.id))}),E.size===0)return[];let w=Q5(a,d);return O&&E.size>0&&w.searchParams.set("_routes",e.filter(H=>E.has(H.route.id)).map(H=>H.route.id).join(",")),[w.pathname+w.search]},[d,p,o,c,_,e,a,f]),C=pt.useMemo(()=>k5(b,c),[b,c]),A=W5(b);return pt.createElement(pt.Fragment,null,T.map(E=>pt.createElement("link",{key:E,rel:"prefetch",as:"fetch",href:E,...s})),C.map(E=>pt.createElement("link",{key:E,rel:"modulepreload",href:E,...s})),A.map(({key:E,link:O})=>pt.createElement("link",{key:E,...O})))}function t6(...a){return e=>{a.forEach(s=>{typeof s=="function"?s(e):s!=null&&(s.current=e)})}}var iy=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{iy&&(window.__reactRouterVersion="7.5.0")}catch{}function e6({basename:a,children:e,window:s}){let o=pt.useRef();o.current==null&&(o.current=F4({window:s,v5Compat:!0}));let c=o.current,[f,d]=pt.useState({action:c.action,location:c.location}),p=pt.useCallback(v=>{pt.startTransition(()=>d(v))},[d]);return pt.useLayoutEffect(()=>c.listen(p),[c,p]),pt.createElement(x5,{basename:a,children:e,location:f.location,navigationType:f.action,navigator:c})}var ay=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,K2=pt.forwardRef(function({onClick:e,discover:s="render",prefetch:o="none",relative:c,reloadDocument:f,replace:d,state:p,target:v,to:_,preventScrollReset:b,viewTransition:T,...C},A){let{basename:E}=pt.useContext(yl),O=typeof _=="string"&&ay.test(_),w,H=!1;if(typeof _=="string"&&O&&(w=_,iy))try{let F=new URL(window.location.href),Y=_.startsWith("//")?new URL(F.protocol+_):new URL(_),P=Ys(Y.pathname,E);Y.origin===F.origin&&P!=null?_=P+Y.search+Y.hash:H=!0}catch{Ya(!1,`<Link to="${_}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let N=m5(_,{relative:c}),[R,U,B]=Z5(o,C),k=l6(_,{replace:d,state:p,target:v,preventScrollReset:b,relative:c,viewTransition:T});function J(F){e&&e(F),F.defaultPrevented||k(F)}let X=pt.createElement("a",{...C,...B,href:w||N,onClick:H||f?e:J,ref:t6(A,U),target:v,"data-discover":!O&&s==="render"?"true":void 0});return R&&!O?pt.createElement(pt.Fragment,null,X,pt.createElement(J5,{page:N})):X});K2.displayName="Link";var n6=pt.forwardRef(function({"aria-current":e="page",caseSensitive:s=!1,className:o="",end:c=!1,style:f,to:d,viewTransition:p,children:v,..._},b){let T=pd(d,{relative:_.relative}),C=Qr(),A=pt.useContext(w1),{navigator:E,basename:O}=pt.useContext(yl),w=A!=null&&c6(T)&&p===!0,H=E.encodeLocation?E.encodeLocation(T).pathname:T.pathname,N=C.pathname,R=A&&A.navigation&&A.navigation.location?A.navigation.location.pathname:null;s||(N=N.toLowerCase(),R=R?R.toLowerCase():null,H=H.toLowerCase()),R&&O&&(R=Ys(R,O)||R);const U=H!=="/"&&H.endsWith("/")?H.length-1:H.length;let B=N===H||!c&&N.startsWith(H)&&N.charAt(U)==="/",k=R!=null&&(R===H||!c&&R.startsWith(H)&&R.charAt(H.length)==="/"),J={isActive:B,isPending:k,isTransitioning:w},X=B?e:void 0,F;typeof o=="function"?F=o(J):F=[o,B?"active":null,k?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let Y=typeof f=="function"?f(J):f;return pt.createElement(K2,{..._,"aria-current":X,className:F,ref:b,style:Y,to:d,viewTransition:p},typeof v=="function"?v(J):v)});n6.displayName="NavLink";var i6=pt.forwardRef(({discover:a="render",fetcherKey:e,navigate:s,reloadDocument:o,replace:c,state:f,method:d=r1,action:p,onSubmit:v,relative:_,preventScrollReset:b,viewTransition:T,...C},A)=>{let E=o6(),O=u6(p,{relative:_}),w=d.toLowerCase()==="get"?"get":"post",H=typeof p=="string"&&ay.test(p),N=R=>{if(v&&v(R),R.defaultPrevented)return;R.preventDefault();let U=R.nativeEvent.submitter,B=(U==null?void 0:U.getAttribute("formmethod"))||d;E(U||R.currentTarget,{fetcherKey:e,method:B,navigate:s,replace:c,state:f,relative:_,preventScrollReset:b,viewTransition:T})};return pt.createElement("form",{ref:A,method:w,action:O,onSubmit:o?v:N,...C,"data-discover":!H&&a==="render"?"true":void 0})});i6.displayName="Form";function a6(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ly(a){let e=pt.useContext(Rc);return en(e,a6(a)),e}function l6(a,{target:e,replace:s,state:o,preventScrollReset:c,relative:f,viewTransition:d}={}){let p=Wv(),v=Qr(),_=pd(a,{relative:f});return pt.useCallback(b=>{if(B5(b,e)){b.preventDefault();let T=s!==void 0?s:ld(v)===ld(_);p(a,{replace:T,state:o,preventScrollReset:c,relative:f,viewTransition:d})}},[v,p,_,s,o,e,a,c,f,d])}var s6=0,r6=()=>`__${String(++s6)}__`;function o6(){let{router:a}=ly("useSubmit"),{basename:e}=pt.useContext(yl),s=R5();return pt.useCallback(async(o,c={})=>{let{action:f,method:d,encType:p,formData:v,body:_}=V5(o,e);if(c.navigate===!1){let b=c.fetcherKey||r6();await a.fetch(b,s,c.action||f,{preventScrollReset:c.preventScrollReset,formData:v,body:_,formMethod:c.method||d,formEncType:c.encType||p,flushSync:c.flushSync})}else await a.navigate(c.action||f,{preventScrollReset:c.preventScrollReset,formData:v,body:_,formMethod:c.method||d,formEncType:c.encType||p,replace:c.replace,state:c.state,fromRouteId:s,flushSync:c.flushSync,viewTransition:c.viewTransition})},[a,e,s])}function u6(a,{relative:e}={}){let{basename:s}=pt.useContext(yl),o=pt.useContext(ss);en(o,"useFormAction must be used inside a RouteContext");let[c]=o.matches.slice(-1),f={...pd(a||".",{relative:e})},d=Qr();if(a==null){f.search=d.search;let p=new URLSearchParams(f.search),v=p.getAll("index");if(v.some(b=>b==="")){p.delete("index"),v.filter(T=>T).forEach(T=>p.append("index",T));let b=p.toString();f.search=b?`?${b}`:""}}return(!a||a===".")&&c.route.index&&(f.search=f.search?f.search.replace(/^\?/,"?index&"):"?index"),s!=="/"&&(f.pathname=f.pathname==="/"?s:qs([s,f.pathname])),ld(f)}function c6(a,e={}){let s=pt.useContext(Iv);en(s!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:o}=ly("useViewTransitionState"),c=pd(a,{relative:e.relative});if(!s.isTransitioning)return!1;let f=Ys(s.currentLocation.pathname,o)||s.currentLocation.pathname,d=Ys(s.nextLocation.pathname,o)||s.nextLocation.pathname;return h1(c.pathname,d)!=null||h1(c.pathname,f)!=null}new TextEncoder;const Gp=()=>Te.jsxs("div",{className:"intro",children:[Te.jsx("div",{className:"intro-block",children:Te.jsxs("p",{children:["Привет, ",Te.jsx("span",{children:"котенок"})," я создaлa приложение для нaших общих зaметок"]})}),Te.jsx(K2,{to:"/drawing-canvas",children:Te.jsx("button",{children:"Дaлее"})})]}),h6="data:image/svg+xml,%3csvg%20width='226'%20height='215'%20viewBox='0%200%20226%20215'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20filter='url(%23filter0_diiii_15_15)'%3e%3cpath%20d='M111.537%2046.8455C202.537%20-71.6545%20299.537%2094.3455%20111.537%20206.345C-66.9629%2091.8454%2017.5371%20-59.6546%20111.537%2046.8455Z'%20fill='%23D72991'%20shape-rendering='crispEdges'/%3e%3cpath%20d='M111.537%2046.8455C202.537%20-71.6545%20299.537%2094.3455%20111.537%20206.345C-66.9629%2091.8454%2017.5371%20-59.6546%20111.537%2046.8455Z'%20fill='url(%23paint0_linear_15_15)'%20shape-rendering='crispEdges'/%3e%3cpath%20d='M110.997%20207.187L111.518%20207.521L112.049%20207.204C206.249%20151.085%20229.431%2081.1823%20217.12%2039.8724C210.963%2019.2086%20195.87%205.69189%20176.399%205.02574C157.2%204.36886%20134.096%2016.2237%20111.484%2045.2797C88.158%2019.1993%2065.2919%208.70999%2046.724%209.73756C27.8691%2010.781%2013.7584%2023.6803%208.38461%2043.4582C-2.34504%2082.9484%2021.5829%20149.832%20110.997%20207.187Z'%20stroke='%23D72991'%20stroke-opacity='0.7'%20stroke-width='2'%20shape-rendering='crispEdges'/%3e%3c/g%3e%3cdefs%3e%3cfilter%20id='filter0_diiii_15_15'%20x='0.494385'%20y='0.499908'%20width='230.667'%20height='218.197'%20filterUnits='userSpaceOnUse'%20color-interpolation-filters='sRGB'%3e%3cfeFlood%20flood-opacity='0'%20result='BackgroundImageFix'/%3e%3cfeColorMatrix%20in='SourceAlpha'%20type='matrix'%20values='0%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%20127%200'%20result='hardAlpha'/%3e%3cfeOffset%20dy='1'/%3e%3cfeGaussianBlur%20stdDeviation='2.25'/%3e%3cfeComposite%20in2='hardAlpha'%20operator='out'/%3e%3cfeColorMatrix%20type='matrix'%20values='0%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200.1%200'/%3e%3cfeBlend%20mode='plus-darker'%20in2='BackgroundImageFix'%20result='effect1_dropShadow_15_15'/%3e%3cfeBlend%20mode='normal'%20in='SourceGraphic'%20in2='effect1_dropShadow_15_15'%20result='shape'/%3e%3cfeColorMatrix%20in='SourceAlpha'%20type='matrix'%20values='0%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%20127%200'%20result='hardAlpha'/%3e%3cfeOffset%20dx='3.5'/%3e%3cfeGaussianBlur%20stdDeviation='3.75'/%3e%3cfeComposite%20in2='hardAlpha'%20operator='arithmetic'%20k2='-1'%20k3='1'/%3e%3cfeColorMatrix%20type='matrix'%20values='0%200%200%200%201%200%200%200%200%201%200%200%200%200%201%200%200%200%200.2%200'/%3e%3cfeBlend%20mode='normal'%20in2='shape'%20result='effect2_innerShadow_15_15'/%3e%3cfeColorMatrix%20in='SourceAlpha'%20type='matrix'%20values='0%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%20127%200'%20result='hardAlpha'/%3e%3cfeOffset%20dx='10'%20dy='10'/%3e%3cfeGaussianBlur%20stdDeviation='5'/%3e%3cfeComposite%20in2='hardAlpha'%20operator='arithmetic'%20k2='-1'%20k3='1'/%3e%3cfeColorMatrix%20type='matrix'%20values='0%200%200%200%201%200%200%200%200%201%200%200%200%200%201%200%200%200%200.7%200'/%3e%3cfeBlend%20mode='normal'%20in2='effect2_innerShadow_15_15'%20result='effect3_innerShadow_15_15'/%3e%3cfeColorMatrix%20in='SourceAlpha'%20type='matrix'%20values='0%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%20127%200'%20result='hardAlpha'/%3e%3cfeOffset%20dx='-3.5'/%3e%3cfeGaussianBlur%20stdDeviation='3.75'/%3e%3cfeComposite%20in2='hardAlpha'%20operator='arithmetic'%20k2='-1'%20k3='1'/%3e%3cfeColorMatrix%20type='matrix'%20values='0%200%200%200%201%200%200%200%200%201%200%200%200%200%201%200%200%200%200.2%200'/%3e%3cfeBlend%20mode='normal'%20in2='effect3_innerShadow_15_15'%20result='effect4_innerShadow_15_15'/%3e%3cfeColorMatrix%20in='SourceAlpha'%20type='matrix'%20values='0%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%20127%200'%20result='hardAlpha'/%3e%3cfeOffset%20dx='-1'/%3e%3cfeGaussianBlur%20stdDeviation='2.5'/%3e%3cfeComposite%20in2='hardAlpha'%20operator='arithmetic'%20k2='-1'%20k3='1'/%3e%3cfeColorMatrix%20type='matrix'%20values='0%200%200%200%201%200%200%200%200%201%200%200%200%200%201%200%200%200%200.7%200'/%3e%3cfeBlend%20mode='normal'%20in2='effect4_innerShadow_15_15'%20result='effect5_innerShadow_15_15'/%3e%3c/filter%3e%3clinearGradient%20id='paint0_linear_15_15'%20x1='113.537'%20y1='48.8454'%20x2='111.037'%20y2='202.845'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%23E981BF'/%3e%3cstop%20offset='0.58381'%20stop-color='%23E981BF'%20stop-opacity='0'/%3e%3c/linearGradient%3e%3c/defs%3e%3c/svg%3e",f6=({className:a})=>Te.jsx("div",{className:`heart ${a||""}`,children:Te.jsx("img",{src:h6,alt:"heart-image"})});var u1={exports:{}},of={},qg={},Vg={},Hp;function ne(){return Hp||(Hp=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a._registerNode=a.Konva=a.glob=void 0;const e=Math.PI/180;function s(){return typeof window<"u"&&({}.toString.call(window)==="[object Window]"||{}.toString.call(window)==="[object global]")}a.glob=typeof vp<"u"?vp:typeof window<"u"?window:typeof WorkerGlobalScope<"u"?self:{},a.Konva={_global:a.glob,version:"9.3.20",isBrowser:s(),isUnminified:/param/.test((function(c){}).toString()),dblClickWindow:400,getAngle(c){return a.Konva.angleDeg?c*e:c},enableTrace:!1,pointerEventsEnabled:!0,autoDrawEnabled:!0,hitOnDragEnabled:!1,capturePointerEventsEnabled:!1,_mouseListenClick:!1,_touchListenClick:!1,_pointerListenClick:!1,_mouseInDblClickWindow:!1,_touchInDblClickWindow:!1,_pointerInDblClickWindow:!1,_mouseDblClickPointerId:null,_touchDblClickPointerId:null,_pointerDblClickPointerId:null,_fixTextRendering:!1,pixelRatio:typeof window<"u"&&window.devicePixelRatio||1,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging(){return a.Konva.DD.isDragging},isTransforming(){var c;return(c=a.Konva.Transformer)===null||c===void 0?void 0:c.isTransforming()},isDragReady(){return!!a.Konva.DD.node},releaseCanvasOnDestroy:!0,document:a.glob.document,_injectGlobal(c){a.glob.Konva=c}};const o=c=>{a.Konva[c.prototype.getClassName()]=c};a._registerNode=o,a.Konva._injectGlobal(a.Konva)}(Vg)),Vg}var Yg={},Bp;function mn(){return Bp||(Bp=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.Util=a.Transform=void 0;const e=ne();class s{constructor(U=[1,0,0,1,0,0]){this.dirty=!1,this.m=U&&U.slice()||[1,0,0,1,0,0]}reset(){this.m[0]=1,this.m[1]=0,this.m[2]=0,this.m[3]=1,this.m[4]=0,this.m[5]=0}copy(){return new s(this.m)}copyInto(U){U.m[0]=this.m[0],U.m[1]=this.m[1],U.m[2]=this.m[2],U.m[3]=this.m[3],U.m[4]=this.m[4],U.m[5]=this.m[5]}point(U){const B=this.m;return{x:B[0]*U.x+B[2]*U.y+B[4],y:B[1]*U.x+B[3]*U.y+B[5]}}translate(U,B){return this.m[4]+=this.m[0]*U+this.m[2]*B,this.m[5]+=this.m[1]*U+this.m[3]*B,this}scale(U,B){return this.m[0]*=U,this.m[1]*=U,this.m[2]*=B,this.m[3]*=B,this}rotate(U){const B=Math.cos(U),k=Math.sin(U),J=this.m[0]*B+this.m[2]*k,X=this.m[1]*B+this.m[3]*k,F=this.m[0]*-k+this.m[2]*B,Y=this.m[1]*-k+this.m[3]*B;return this.m[0]=J,this.m[1]=X,this.m[2]=F,this.m[3]=Y,this}getTranslation(){return{x:this.m[4],y:this.m[5]}}skew(U,B){const k=this.m[0]+this.m[2]*B,J=this.m[1]+this.m[3]*B,X=this.m[2]+this.m[0]*U,F=this.m[3]+this.m[1]*U;return this.m[0]=k,this.m[1]=J,this.m[2]=X,this.m[3]=F,this}multiply(U){const B=this.m[0]*U.m[0]+this.m[2]*U.m[1],k=this.m[1]*U.m[0]+this.m[3]*U.m[1],J=this.m[0]*U.m[2]+this.m[2]*U.m[3],X=this.m[1]*U.m[2]+this.m[3]*U.m[3],F=this.m[0]*U.m[4]+this.m[2]*U.m[5]+this.m[4],Y=this.m[1]*U.m[4]+this.m[3]*U.m[5]+this.m[5];return this.m[0]=B,this.m[1]=k,this.m[2]=J,this.m[3]=X,this.m[4]=F,this.m[5]=Y,this}invert(){const U=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),B=this.m[3]*U,k=-this.m[1]*U,J=-this.m[2]*U,X=this.m[0]*U,F=U*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),Y=U*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=B,this.m[1]=k,this.m[2]=J,this.m[3]=X,this.m[4]=F,this.m[5]=Y,this}getMatrix(){return this.m}decompose(){const U=this.m[0],B=this.m[1],k=this.m[2],J=this.m[3],X=this.m[4],F=this.m[5],Y=U*J-B*k,P={x:X,y:F,rotation:0,scaleX:0,scaleY:0,skewX:0,skewY:0};if(U!=0||B!=0){const tt=Math.sqrt(U*U+B*B);P.rotation=B>0?Math.acos(U/tt):-Math.acos(U/tt),P.scaleX=tt,P.scaleY=Y/tt,P.skewX=(U*k+B*J)/Y,P.skewY=0}else if(k!=0||J!=0){const tt=Math.sqrt(k*k+J*J);P.rotation=Math.PI/2-(J>0?Math.acos(-k/tt):-Math.acos(k/tt)),P.scaleX=Y/tt,P.scaleY=tt,P.skewX=0,P.skewY=(U*k+B*J)/Y}return P.rotation=a.Util._getRotation(P.rotation),P}}a.Transform=s;const o="[object Array]",c="[object Number]",f="[object String]",d="[object Boolean]",p=Math.PI/180,v=180/Math.PI,_="#",b="",T="0",C="Konva warning: ",A="Konva error: ",E="rgb(",O={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},w=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/;let H=[];const N=typeof requestAnimationFrame<"u"&&requestAnimationFrame||function(R){setTimeout(R,60)};a.Util={_isElement(R){return!!(R&&R.nodeType==1)},_isFunction(R){return!!(R&&R.constructor&&R.call&&R.apply)},_isPlainObject(R){return!!R&&R.constructor===Object},_isArray(R){return Object.prototype.toString.call(R)===o},_isNumber(R){return Object.prototype.toString.call(R)===c&&!isNaN(R)&&isFinite(R)},_isString(R){return Object.prototype.toString.call(R)===f},_isBoolean(R){return Object.prototype.toString.call(R)===d},isObject(R){return R instanceof Object},isValidSelector(R){if(typeof R!="string")return!1;const U=R[0];return U==="#"||U==="."||U===U.toUpperCase()},_sign(R){return R===0||R>0?1:-1},requestAnimFrame(R){H.push(R),H.length===1&&N(function(){const U=H;H=[],U.forEach(function(B){B()})})},createCanvasElement(){const R=document.createElement("canvas");try{R.style=R.style||{}}catch{}return R},createImageElement(){return document.createElement("img")},_isInDocument(R){for(;R=R.parentNode;)if(R==document)return!0;return!1},_urlToImage(R,U){const B=a.Util.createImageElement();B.onload=function(){U(B)},B.src=R},_rgbToHex(R,U,B){return((1<<24)+(R<<16)+(U<<8)+B).toString(16).slice(1)},_hexToRgb(R){R=R.replace(_,b);const U=parseInt(R,16);return{r:U>>16&255,g:U>>8&255,b:U&255}},getRandomColor(){let R=(Math.random()*16777215<<0).toString(16);for(;R.length<6;)R=T+R;return _+R},getRGB(R){let U;return R in O?(U=O[R],{r:U[0],g:U[1],b:U[2]}):R[0]===_?this._hexToRgb(R.substring(1)):R.substr(0,4)===E?(U=w.exec(R.replace(/ /g,"")),{r:parseInt(U[1],10),g:parseInt(U[2],10),b:parseInt(U[3],10)}):{r:0,g:0,b:0}},colorToRGBA(R){return R=R||"black",a.Util._namedColorToRBA(R)||a.Util._hex3ColorToRGBA(R)||a.Util._hex4ColorToRGBA(R)||a.Util._hex6ColorToRGBA(R)||a.Util._hex8ColorToRGBA(R)||a.Util._rgbColorToRGBA(R)||a.Util._rgbaColorToRGBA(R)||a.Util._hslColorToRGBA(R)},_namedColorToRBA(R){const U=O[R.toLowerCase()];return U?{r:U[0],g:U[1],b:U[2],a:1}:null},_rgbColorToRGBA(R){if(R.indexOf("rgb(")===0){R=R.match(/rgb\(([^)]+)\)/)[1];const U=R.split(/ *, */).map(Number);return{r:U[0],g:U[1],b:U[2],a:1}}},_rgbaColorToRGBA(R){if(R.indexOf("rgba(")===0){R=R.match(/rgba\(([^)]+)\)/)[1];const U=R.split(/ *, */).map((B,k)=>B.slice(-1)==="%"?k===3?parseInt(B)/100:parseInt(B)/100*255:Number(B));return{r:U[0],g:U[1],b:U[2],a:U[3]}}},_hex8ColorToRGBA(R){if(R[0]==="#"&&R.length===9)return{r:parseInt(R.slice(1,3),16),g:parseInt(R.slice(3,5),16),b:parseInt(R.slice(5,7),16),a:parseInt(R.slice(7,9),16)/255}},_hex6ColorToRGBA(R){if(R[0]==="#"&&R.length===7)return{r:parseInt(R.slice(1,3),16),g:parseInt(R.slice(3,5),16),b:parseInt(R.slice(5,7),16),a:1}},_hex4ColorToRGBA(R){if(R[0]==="#"&&R.length===5)return{r:parseInt(R[1]+R[1],16),g:parseInt(R[2]+R[2],16),b:parseInt(R[3]+R[3],16),a:parseInt(R[4]+R[4],16)/255}},_hex3ColorToRGBA(R){if(R[0]==="#"&&R.length===4)return{r:parseInt(R[1]+R[1],16),g:parseInt(R[2]+R[2],16),b:parseInt(R[3]+R[3],16),a:1}},_hslColorToRGBA(R){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(R)){const[U,...B]=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(R),k=Number(B[0])/360,J=Number(B[1])/100,X=Number(B[2])/100;let F,Y,P;if(J===0)return P=X*255,{r:Math.round(P),g:Math.round(P),b:Math.round(P),a:1};X<.5?F=X*(1+J):F=X+J-X*J;const tt=2*X-F,x=[0,0,0];for(let V=0;V<3;V++)Y=k+1/3*-(V-1),Y<0&&Y++,Y>1&&Y--,6*Y<1?P=tt+(F-tt)*6*Y:2*Y<1?P=F:3*Y<2?P=tt+(F-tt)*(2/3-Y)*6:P=tt,x[V]=P*255;return{r:Math.round(x[0]),g:Math.round(x[1]),b:Math.round(x[2]),a:1}}},haveIntersection(R,U){return!(U.x>R.x+R.width||U.x+U.width<R.x||U.y>R.y+R.height||U.y+U.height<R.y)},cloneObject(R){const U={};for(const B in R)this._isPlainObject(R[B])?U[B]=this.cloneObject(R[B]):this._isArray(R[B])?U[B]=this.cloneArray(R[B]):U[B]=R[B];return U},cloneArray(R){return R.slice(0)},degToRad(R){return R*p},radToDeg(R){return R*v},_degToRad(R){return a.Util.warn("Util._degToRad is removed. Please use public Util.degToRad instead."),a.Util.degToRad(R)},_radToDeg(R){return a.Util.warn("Util._radToDeg is removed. Please use public Util.radToDeg instead."),a.Util.radToDeg(R)},_getRotation(R){return e.Konva.angleDeg?a.Util.radToDeg(R):R},_capitalize(R){return R.charAt(0).toUpperCase()+R.slice(1)},throw(R){throw new Error(A+R)},error(R){console.error(A+R)},warn(R){e.Konva.showWarnings&&console.warn(C+R)},each(R,U){for(const B in R)U(B,R[B])},_inRange(R,U,B){return U<=R&&R<B},_getProjectionToSegment(R,U,B,k,J,X){let F,Y,P;const tt=(R-B)*(R-B)+(U-k)*(U-k);if(tt==0)F=R,Y=U,P=(J-B)*(J-B)+(X-k)*(X-k);else{const x=((J-R)*(B-R)+(X-U)*(k-U))/tt;x<0?(F=R,Y=U,P=(R-J)*(R-J)+(U-X)*(U-X)):x>1?(F=B,Y=k,P=(B-J)*(B-J)+(k-X)*(k-X)):(F=R+x*(B-R),Y=U+x*(k-U),P=(F-J)*(F-J)+(Y-X)*(Y-X))}return[F,Y,P]},_getProjectionToLine(R,U,B){const k=a.Util.cloneObject(R);let J=Number.MAX_VALUE;return U.forEach(function(X,F){if(!B&&F===U.length-1)return;const Y=U[(F+1)%U.length],P=a.Util._getProjectionToSegment(X.x,X.y,Y.x,Y.y,R.x,R.y),tt=P[0],x=P[1],V=P[2];V<J&&(k.x=tt,k.y=x,J=V)}),k},_prepareArrayForTween(R,U,B){const k=[],J=[];if(R.length>U.length){const F=U;U=R,R=F}for(let F=0;F<R.length;F+=2)k.push({x:R[F],y:R[F+1]});for(let F=0;F<U.length;F+=2)J.push({x:U[F],y:U[F+1]});const X=[];return J.forEach(function(F){const Y=a.Util._getProjectionToLine(F,k,B);X.push(Y.x),X.push(Y.y)}),X},_prepareToStringify(R){let U;R.visitedByCircularReferenceRemoval=!0;for(const B in R)if(R.hasOwnProperty(B)&&R[B]&&typeof R[B]=="object"){if(U=Object.getOwnPropertyDescriptor(R,B),R[B].visitedByCircularReferenceRemoval||a.Util._isElement(R[B]))if(U.configurable)delete R[B];else return null;else if(a.Util._prepareToStringify(R[B])===null)if(U.configurable)delete R[B];else return null}return delete R.visitedByCircularReferenceRemoval,R},_assign(R,U){for(const B in U)R[B]=U[B];return R},_getFirstPointerId(R){return R.touches?R.changedTouches[0].identifier:R.pointerId||999},releaseCanvas(...R){e.Konva.releaseCanvasOnDestroy&&R.forEach(U=>{U.width=0,U.height=0})},drawRoundedRectPath(R,U,B,k){let J=0,X=0,F=0,Y=0;typeof k=="number"?J=X=F=Y=Math.min(k,U/2,B/2):(J=Math.min(k[0]||0,U/2,B/2),X=Math.min(k[1]||0,U/2,B/2),Y=Math.min(k[2]||0,U/2,B/2),F=Math.min(k[3]||0,U/2,B/2)),R.moveTo(J,0),R.lineTo(U-X,0),R.arc(U-X,X,X,Math.PI*3/2,0,!1),R.lineTo(U,B-Y),R.arc(U-Y,B-Y,Y,0,Math.PI/2,!1),R.lineTo(F,B),R.arc(F,B-F,F,Math.PI/2,Math.PI,!1),R.lineTo(0,J),R.arc(J,J,J,Math.PI,Math.PI*3/2,!1)}}}(Yg)),Yg}var uf={},jg={},ea={},Lp;function fe(){if(Lp)return ea;Lp=1,Object.defineProperty(ea,"__esModule",{value:!0}),ea.RGBComponent=o,ea.alphaComponent=c,ea.getNumberValidator=f,ea.getNumberOrArrayOfNumbersValidator=d,ea.getNumberOrAutoValidator=p,ea.getStringValidator=v,ea.getStringOrGradientValidator=_,ea.getFunctionValidator=b,ea.getNumberArrayValidator=T,ea.getBooleanValidator=C,ea.getComponentValidator=A;const a=ne(),e=mn();function s(E){return e.Util._isString(E)?'"'+E+'"':Object.prototype.toString.call(E)==="[object Number]"||e.Util._isBoolean(E)?E:Object.prototype.toString.call(E)}function o(E){return E>255?255:E<0?0:Math.round(E)}function c(E){return E>1?1:E<1e-4?1e-4:E}function f(){if(a.Konva.isUnminified)return function(E,O){return e.Util._isNumber(E)||e.Util.warn(s(E)+' is a not valid value for "'+O+'" attribute. The value should be a number.'),E}}function d(E){if(a.Konva.isUnminified)return function(O,w){let H=e.Util._isNumber(O),N=e.Util._isArray(O)&&O.length==E;return!H&&!N&&e.Util.warn(s(O)+' is a not valid value for "'+w+'" attribute. The value should be a number or Array<number>('+E+")"),O}}function p(){if(a.Konva.isUnminified)return function(E,O){var w=e.Util._isNumber(E),H=E==="auto";return w||H||e.Util.warn(s(E)+' is a not valid value for "'+O+'" attribute. The value should be a number or "auto".'),E}}function v(){if(a.Konva.isUnminified)return function(E,O){return e.Util._isString(E)||e.Util.warn(s(E)+' is a not valid value for "'+O+'" attribute. The value should be a string.'),E}}function _(){if(a.Konva.isUnminified)return function(E,O){const w=e.Util._isString(E),H=Object.prototype.toString.call(E)==="[object CanvasGradient]"||E&&E.addColorStop;return w||H||e.Util.warn(s(E)+' is a not valid value for "'+O+'" attribute. The value should be a string or a native gradient.'),E}}function b(){if(a.Konva.isUnminified)return function(E,O){return e.Util._isFunction(E)||e.Util.warn(s(E)+' is a not valid value for "'+O+'" attribute. The value should be a function.'),E}}function T(){if(a.Konva.isUnminified)return function(E,O){const w=Int8Array?Object.getPrototypeOf(Int8Array):null;return w&&E instanceof w||(e.Util._isArray(E)?E.forEach(function(H){e.Util._isNumber(H)||e.Util.warn('"'+O+'" attribute has non numeric element '+H+". Make sure that all elements are numbers.")}):e.Util.warn(s(E)+' is a not valid value for "'+O+'" attribute. The value should be a array of numbers.')),E}}function C(){if(a.Konva.isUnminified)return function(E,O){var w=E===!0||E===!1;return w||e.Util.warn(s(E)+' is a not valid value for "'+O+'" attribute. The value should be a boolean.'),E}}function A(E){if(a.Konva.isUnminified)return function(O,w){return O==null||e.Util.isObject(O)||e.Util.warn(s(O)+' is a not valid value for "'+w+'" attribute. The value should be an object with properties '+E),O}}return ea}var qp;function ce(){return qp||(qp=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.Factory=void 0;const e=mn(),s=fe(),o="get",c="set";a.Factory={addGetterSetter(f,d,p,v,_){a.Factory.addGetter(f,d,p),a.Factory.addSetter(f,d,v,_),a.Factory.addOverloadedGetterSetter(f,d)},addGetter(f,d,p){var v=o+e.Util._capitalize(d);f.prototype[v]=f.prototype[v]||function(){const _=this.attrs[d];return _===void 0?p:_}},addSetter(f,d,p,v){var _=c+e.Util._capitalize(d);f.prototype[_]||a.Factory.overWriteSetter(f,d,p,v)},overWriteSetter(f,d,p,v){var _=c+e.Util._capitalize(d);f.prototype[_]=function(b){return p&&b!==void 0&&b!==null&&(b=p.call(this,b,d)),this._setAttr(d,b),v&&v.call(this),this}},addComponentsGetterSetter(f,d,p,v,_){const b=p.length,T=e.Util._capitalize,C=o+T(d),A=c+T(d);f.prototype[C]=function(){const O={};for(let w=0;w<b;w++){const H=p[w];O[H]=this.getAttr(d+T(H))}return O};const E=(0,s.getComponentValidator)(p);f.prototype[A]=function(O){const w=this.attrs[d];v&&(O=v.call(this,O,d)),E&&E.call(this,O,d);for(const H in O)O.hasOwnProperty(H)&&this._setAttr(d+T(H),O[H]);return O||p.forEach(H=>{this._setAttr(d+T(H),void 0)}),this._fireChangeEvent(d,w,O),_&&_.call(this),this},a.Factory.addOverloadedGetterSetter(f,d)},addOverloadedGetterSetter(f,d){var p=e.Util._capitalize(d),v=c+p,_=o+p;f.prototype[d]=function(){return arguments.length?(this[v](arguments[0]),this):this[_]()}},addDeprecatedGetterSetter(f,d,p,v){e.Util.error("Adding deprecated "+d);const _=o+e.Util._capitalize(d),b=d+" property is deprecated and will be removed soon. Look at Konva change log for more information.";f.prototype[_]=function(){e.Util.error(b);const T=this.attrs[d];return T===void 0?p:T},a.Factory.addSetter(f,d,v,function(){e.Util.error(b)}),a.Factory.addOverloadedGetterSetter(f,d)},backCompat(f,d){e.Util.each(d,function(p,v){const _=f.prototype[v],b=o+e.Util._capitalize(p),T=c+e.Util._capitalize(p);function C(){_.apply(this,arguments),e.Util.error('"'+p+'" method is deprecated and will be removed soon. Use ""'+v+'" instead.')}f.prototype[p]=C,f.prototype[b]=C,f.prototype[T]=C})},afterSetFilter(){this._filterUpToDate=!1}}}(jg)),jg}var Gs={},Hs={},Vp;function sy(){if(Vp)return Hs;Vp=1,Object.defineProperty(Hs,"__esModule",{value:!0}),Hs.HitContext=Hs.SceneContext=Hs.Context=void 0;const a=mn(),e=ne();function s(H){const N=[],R=H.length,U=a.Util;for(let B=0;B<R;B++){let k=H[B];U._isNumber(k)?k=Math.round(k*1e3)/1e3:U._isString(k)||(k=k+""),N.push(k)}return N}const o=",",c="(",f=")",d="([",p="])",v=";",_="()",b="=",T=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","ellipse","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","roundRect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"],C=["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","letterSpacing","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","direction","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","imageSmoothingEnabled"],A=100;let E=class{constructor(N){this.canvas=N,e.Konva.enableTrace&&(this.traceArr=[],this._enableTrace())}fillShape(N){N.fillEnabled()&&this._fill(N)}_fill(N){}strokeShape(N){N.hasStroke()&&this._stroke(N)}_stroke(N){}fillStrokeShape(N){N.attrs.fillAfterStrokeEnabled?(this.strokeShape(N),this.fillShape(N)):(this.fillShape(N),this.strokeShape(N))}getTrace(N,R){let U=this.traceArr,B=U.length,k="",J,X,F,Y;for(J=0;J<B;J++)X=U[J],F=X.method,F?(Y=X.args,k+=F,N?k+=_:a.Util._isArray(Y[0])?k+=d+Y.join(o)+p:(R&&(Y=Y.map(P=>typeof P=="number"?Math.floor(P):P)),k+=c+Y.join(o)+f)):(k+=X.property,N||(k+=b+X.val)),k+=v;return k}clearTrace(){this.traceArr=[]}_trace(N){let R=this.traceArr,U;R.push(N),U=R.length,U>=A&&R.shift()}reset(){const N=this.getCanvas().getPixelRatio();this.setTransform(1*N,0,0,1*N,0,0)}getCanvas(){return this.canvas}clear(N){const R=this.getCanvas();N?this.clearRect(N.x||0,N.y||0,N.width||0,N.height||0):this.clearRect(0,0,R.getWidth()/R.pixelRatio,R.getHeight()/R.pixelRatio)}_applyLineCap(N){const R=N.attrs.lineCap;R&&this.setAttr("lineCap",R)}_applyOpacity(N){const R=N.getAbsoluteOpacity();R!==1&&this.setAttr("globalAlpha",R)}_applyLineJoin(N){const R=N.attrs.lineJoin;R&&this.setAttr("lineJoin",R)}setAttr(N,R){this._context[N]=R}arc(N,R,U,B,k,J){this._context.arc(N,R,U,B,k,J)}arcTo(N,R,U,B,k){this._context.arcTo(N,R,U,B,k)}beginPath(){this._context.beginPath()}bezierCurveTo(N,R,U,B,k,J){this._context.bezierCurveTo(N,R,U,B,k,J)}clearRect(N,R,U,B){this._context.clearRect(N,R,U,B)}clip(...N){this._context.clip.apply(this._context,N)}closePath(){this._context.closePath()}createImageData(N,R){const U=arguments;if(U.length===2)return this._context.createImageData(N,R);if(U.length===1)return this._context.createImageData(N)}createLinearGradient(N,R,U,B){return this._context.createLinearGradient(N,R,U,B)}createPattern(N,R){return this._context.createPattern(N,R)}createRadialGradient(N,R,U,B,k,J){return this._context.createRadialGradient(N,R,U,B,k,J)}drawImage(N,R,U,B,k,J,X,F,Y){const P=arguments,tt=this._context;P.length===3?tt.drawImage(N,R,U):P.length===5?tt.drawImage(N,R,U,B,k):P.length===9&&tt.drawImage(N,R,U,B,k,J,X,F,Y)}ellipse(N,R,U,B,k,J,X,F){this._context.ellipse(N,R,U,B,k,J,X,F)}isPointInPath(N,R,U,B){return U?this._context.isPointInPath(U,N,R,B):this._context.isPointInPath(N,R,B)}fill(...N){this._context.fill.apply(this._context,N)}fillRect(N,R,U,B){this._context.fillRect(N,R,U,B)}strokeRect(N,R,U,B){this._context.strokeRect(N,R,U,B)}fillText(N,R,U,B){B?this._context.fillText(N,R,U,B):this._context.fillText(N,R,U)}measureText(N){return this._context.measureText(N)}getImageData(N,R,U,B){return this._context.getImageData(N,R,U,B)}lineTo(N,R){this._context.lineTo(N,R)}moveTo(N,R){this._context.moveTo(N,R)}rect(N,R,U,B){this._context.rect(N,R,U,B)}roundRect(N,R,U,B,k){this._context.roundRect(N,R,U,B,k)}putImageData(N,R,U){this._context.putImageData(N,R,U)}quadraticCurveTo(N,R,U,B){this._context.quadraticCurveTo(N,R,U,B)}restore(){this._context.restore()}rotate(N){this._context.rotate(N)}save(){this._context.save()}scale(N,R){this._context.scale(N,R)}setLineDash(N){this._context.setLineDash?this._context.setLineDash(N):"mozDash"in this._context?this._context.mozDash=N:"webkitLineDash"in this._context&&(this._context.webkitLineDash=N)}getLineDash(){return this._context.getLineDash()}setTransform(N,R,U,B,k,J){this._context.setTransform(N,R,U,B,k,J)}stroke(N){N?this._context.stroke(N):this._context.stroke()}strokeText(N,R,U,B){this._context.strokeText(N,R,U,B)}transform(N,R,U,B,k,J){this._context.transform(N,R,U,B,k,J)}translate(N,R){this._context.translate(N,R)}_enableTrace(){let N=this,R=T.length,U=this.setAttr,B,k;const J=function(X){let F=N[X],Y;N[X]=function(){return k=s(Array.prototype.slice.call(arguments,0)),Y=F.apply(N,arguments),N._trace({method:X,args:k}),Y}};for(B=0;B<R;B++)J(T[B]);N.setAttr=function(){U.apply(N,arguments);const X=arguments[0];let F=arguments[1];(X==="shadowOffsetX"||X==="shadowOffsetY"||X==="shadowBlur")&&(F=F/this.canvas.getPixelRatio()),N._trace({property:X,val:F})}}_applyGlobalCompositeOperation(N){const R=N.attrs.globalCompositeOperation;!R||R==="source-over"||this.setAttr("globalCompositeOperation",R)}};Hs.Context=E,C.forEach(function(H){Object.defineProperty(E.prototype,H,{get(){return this._context[H]},set(N){this._context[H]=N}})});class O extends E{constructor(N,{willReadFrequently:R=!1}={}){super(N),this._context=N._canvas.getContext("2d",{willReadFrequently:R})}_fillColor(N){const R=N.fill();this.setAttr("fillStyle",R),N._fillFunc(this)}_fillPattern(N){this.setAttr("fillStyle",N._getFillPattern()),N._fillFunc(this)}_fillLinearGradient(N){const R=N._getLinearGradient();R&&(this.setAttr("fillStyle",R),N._fillFunc(this))}_fillRadialGradient(N){const R=N._getRadialGradient();R&&(this.setAttr("fillStyle",R),N._fillFunc(this))}_fill(N){const R=N.fill(),U=N.getFillPriority();if(R&&U==="color"){this._fillColor(N);return}const B=N.getFillPatternImage();if(B&&U==="pattern"){this._fillPattern(N);return}const k=N.getFillLinearGradientColorStops();if(k&&U==="linear-gradient"){this._fillLinearGradient(N);return}const J=N.getFillRadialGradientColorStops();if(J&&U==="radial-gradient"){this._fillRadialGradient(N);return}R?this._fillColor(N):B?this._fillPattern(N):k?this._fillLinearGradient(N):J&&this._fillRadialGradient(N)}_strokeLinearGradient(N){const R=N.getStrokeLinearGradientStartPoint(),U=N.getStrokeLinearGradientEndPoint(),B=N.getStrokeLinearGradientColorStops(),k=this.createLinearGradient(R.x,R.y,U.x,U.y);if(B){for(let J=0;J<B.length;J+=2)k.addColorStop(B[J],B[J+1]);this.setAttr("strokeStyle",k)}}_stroke(N){const R=N.dash(),U=N.getStrokeScaleEnabled();if(N.hasStroke()){if(!U){this.save();const k=this.getCanvas().getPixelRatio();this.setTransform(k,0,0,k,0,0)}this._applyLineCap(N),R&&N.dashEnabled()&&(this.setLineDash(R),this.setAttr("lineDashOffset",N.dashOffset())),this.setAttr("lineWidth",N.strokeWidth()),N.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)"),N.getStrokeLinearGradientColorStops()?this._strokeLinearGradient(N):this.setAttr("strokeStyle",N.stroke()),N._strokeFunc(this),U||this.restore()}}_applyShadow(N){var R,U,B;const k=(R=N.getShadowRGBA())!==null&&R!==void 0?R:"black",J=(U=N.getShadowBlur())!==null&&U!==void 0?U:5,X=(B=N.getShadowOffset())!==null&&B!==void 0?B:{x:0,y:0},F=N.getAbsoluteScale(),Y=this.canvas.getPixelRatio(),P=F.x*Y,tt=F.y*Y;this.setAttr("shadowColor",k),this.setAttr("shadowBlur",J*Math.min(Math.abs(P),Math.abs(tt))),this.setAttr("shadowOffsetX",X.x*P),this.setAttr("shadowOffsetY",X.y*tt)}}Hs.SceneContext=O;class w extends E{constructor(N){super(N),this._context=N._canvas.getContext("2d",{willReadFrequently:!0})}_fill(N){this.save(),this.setAttr("fillStyle",N.colorKey),N._fillFuncHit(this),this.restore()}strokeShape(N){N.hasHitStroke()&&this._stroke(N)}_stroke(N){if(N.hasHitStroke()){const R=N.getStrokeScaleEnabled();if(!R){this.save();const k=this.getCanvas().getPixelRatio();this.setTransform(k,0,0,k,0,0)}this._applyLineCap(N);const U=N.hitStrokeWidth(),B=U==="auto"?N.strokeWidth():U;this.setAttr("lineWidth",B),this.setAttr("strokeStyle",N.colorKey),N._strokeFuncHit(this),R||this.restore()}}}return Hs.HitContext=w,Hs}var Yp;function z1(){if(Yp)return Gs;Yp=1,Object.defineProperty(Gs,"__esModule",{value:!0}),Gs.HitCanvas=Gs.SceneCanvas=Gs.Canvas=void 0;const a=mn(),e=sy(),s=ne();let o;function c(){if(o)return o;const v=a.Util.createCanvasElement(),_=v.getContext("2d");return o=function(){const b=s.Konva._global.devicePixelRatio||1,T=_.webkitBackingStorePixelRatio||_.mozBackingStorePixelRatio||_.msBackingStorePixelRatio||_.oBackingStorePixelRatio||_.backingStorePixelRatio||1;return b/T}(),a.Util.releaseCanvas(v),o}let f=class{constructor(_){this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;const T=(_||{}).pixelRatio||s.Konva.pixelRatio||c();this.pixelRatio=T,this._canvas=a.Util.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}getContext(){return this.context}getPixelRatio(){return this.pixelRatio}setPixelRatio(_){const b=this.pixelRatio;this.pixelRatio=_,this.setSize(this.getWidth()/b,this.getHeight()/b)}setWidth(_){this.width=this._canvas.width=_*this.pixelRatio,this._canvas.style.width=_+"px";const b=this.pixelRatio;this.getContext()._context.scale(b,b)}setHeight(_){this.height=this._canvas.height=_*this.pixelRatio,this._canvas.style.height=_+"px";const b=this.pixelRatio;this.getContext()._context.scale(b,b)}getWidth(){return this.width}getHeight(){return this.height}setSize(_,b){this.setWidth(_||0),this.setHeight(b||0)}toDataURL(_,b){try{return this._canvas.toDataURL(_,b)}catch{try{return this._canvas.toDataURL()}catch(C){return a.Util.error("Unable to get data URL. "+C.message+" For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html."),""}}}};Gs.Canvas=f;class d extends f{constructor(_={width:0,height:0,willReadFrequently:!1}){super(_),this.context=new e.SceneContext(this,{willReadFrequently:_.willReadFrequently}),this.setSize(_.width,_.height)}}Gs.SceneCanvas=d;class p extends f{constructor(_={width:0,height:0}){super(_),this.hitCanvas=!0,this.context=new e.HitContext(this),this.setSize(_.width,_.height)}}return Gs.HitCanvas=p,Gs}var Fg={},jp;function P2(){return jp||(jp=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.DD=void 0;const e=ne(),s=mn();a.DD={get isDragging(){let o=!1;return a.DD._dragElements.forEach(c=>{c.dragStatus==="dragging"&&(o=!0)}),o},justDragged:!1,get node(){let o;return a.DD._dragElements.forEach(c=>{o=c.node}),o},_dragElements:new Map,_drag(o){const c=[];a.DD._dragElements.forEach((f,d)=>{const{node:p}=f,v=p.getStage();v.setPointersPositions(o),f.pointerId===void 0&&(f.pointerId=s.Util._getFirstPointerId(o));const _=v._changedPointerPositions.find(b=>b.id===f.pointerId);if(_){if(f.dragStatus!=="dragging"){const b=p.dragDistance();if(Math.max(Math.abs(_.x-f.startPointerPos.x),Math.abs(_.y-f.startPointerPos.y))<b||(p.startDrag({evt:o}),!p.isDragging()))return}p._setDragPosition(o,f),c.push(p)}}),c.forEach(f=>{f.fire("dragmove",{type:"dragmove",target:f,evt:o},!0)})},_endDragBefore(o){const c=[];a.DD._dragElements.forEach(f=>{const{node:d}=f,p=d.getStage();if(o&&p.setPointersPositions(o),!p._changedPointerPositions.find(b=>b.id===f.pointerId))return;(f.dragStatus==="dragging"||f.dragStatus==="stopped")&&(a.DD.justDragged=!0,e.Konva._mouseListenClick=!1,e.Konva._touchListenClick=!1,e.Konva._pointerListenClick=!1,f.dragStatus="stopped");const _=f.node.getLayer()||f.node instanceof e.Konva.Stage&&f.node;_&&c.indexOf(_)===-1&&c.push(_)}),c.forEach(f=>{f.draw()})},_endDragAfter(o){a.DD._dragElements.forEach((c,f)=>{c.dragStatus==="stopped"&&c.node.fire("dragend",{type:"dragend",target:c.node,evt:o},!0),c.dragStatus!=="dragging"&&a.DD._dragElements.delete(f)})}},e.Konva.isBrowser&&(window.addEventListener("mouseup",a.DD._endDragBefore,!0),window.addEventListener("touchend",a.DD._endDragBefore,!0),window.addEventListener("touchcancel",a.DD._endDragBefore,!0),window.addEventListener("mousemove",a.DD._drag),window.addEventListener("touchmove",a.DD._drag),window.addEventListener("mouseup",a.DD._endDragAfter,!1),window.addEventListener("touchend",a.DD._endDragAfter,!1),window.addEventListener("touchcancel",a.DD._endDragAfter,!1))}(Fg)),Fg}var Fp;function bn(){if(Fp)return uf;Fp=1,Object.defineProperty(uf,"__esModule",{value:!0}),uf.Node=void 0;const a=mn(),e=ce(),s=z1(),o=ne(),c=P2(),f=fe(),d="absoluteOpacity",p="allEventListeners",v="absoluteTransform",_="absoluteScale",b="canvas",T="Change",C="children",A="konva",E="listening",O="mouseenter",w="mouseleave",H="set",N="Shape",R=" ",U="stage",B="transform",k="Stage",J="visible",X=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(R);let F=1,Y=class _2{constructor(x){this._id=F++,this.eventListeners={},this.attrs={},this.index=0,this._allEventListeners=null,this.parent=null,this._cache=new Map,this._attachedDepsListeners=new Map,this._lastPos=null,this._batchingTransformChange=!1,this._needClearTransformCache=!1,this._filterUpToDate=!1,this._isUnderCache=!1,this._dragEventId=null,this._shouldFireChangeEvents=!1,this.setAttrs(x),this._shouldFireChangeEvents=!0}hasChildren(){return!1}_clearCache(x){(x===B||x===v)&&this._cache.get(x)?this._cache.get(x).dirty=!0:x?this._cache.delete(x):this._cache.clear()}_getCache(x,V){let G=this._cache.get(x);return(G===void 0||(x===B||x===v)&&G.dirty===!0)&&(G=V.call(this),this._cache.set(x,G)),G}_calculate(x,V,G){if(!this._attachedDepsListeners.get(x)){const D=V.map(L=>L+"Change.konva").join(R);this.on(D,()=>{this._clearCache(x)}),this._attachedDepsListeners.set(x,!0)}return this._getCache(x,G)}_getCanvasCache(){return this._cache.get(b)}_clearSelfAndDescendantCache(x){this._clearCache(x),x===v&&this.fire("absoluteTransformChange")}clearCache(){if(this._cache.has(b)){const{scene:x,filter:V,hit:G}=this._cache.get(b);a.Util.releaseCanvas(x,V,G),this._cache.delete(b)}return this._clearSelfAndDescendantCache(),this._requestDraw(),this}cache(x){const V=x||{};let G={};(V.x===void 0||V.y===void 0||V.width===void 0||V.height===void 0)&&(G=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()||void 0}));let D=Math.ceil(V.width||G.width),L=Math.ceil(V.height||G.height),Q=V.pixelRatio,et=V.x===void 0?Math.floor(G.x):V.x,q=V.y===void 0?Math.floor(G.y):V.y,$=V.offset||0,ft=V.drawBorder||!1,nt=V.hitCanvasPixelRatio||1;if(!D||!L){a.Util.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.");return}const ut=Math.abs(Math.round(G.x)-et)>.5?1:0,yt=Math.abs(Math.round(G.y)-q)>.5?1:0;D+=$*2+ut,L+=$*2+yt,et-=$,q-=$;const Et=new s.SceneCanvas({pixelRatio:Q,width:D,height:L}),W=new s.SceneCanvas({pixelRatio:Q,width:0,height:0,willReadFrequently:!0}),rt=new s.HitCanvas({pixelRatio:nt,width:D,height:L}),Ct=Et.getContext(),Rt=rt.getContext();return rt.isCache=!0,Et.isCache=!0,this._cache.delete(b),this._filterUpToDate=!1,V.imageSmoothingEnabled===!1&&(Et.getContext()._context.imageSmoothingEnabled=!1,W.getContext()._context.imageSmoothingEnabled=!1),Ct.save(),Rt.save(),Ct.translate(-et,-q),Rt.translate(-et,-q),this._isUnderCache=!0,this._clearSelfAndDescendantCache(d),this._clearSelfAndDescendantCache(_),this.drawScene(Et,this),this.drawHit(rt,this),this._isUnderCache=!1,Ct.restore(),Rt.restore(),ft&&(Ct.save(),Ct.beginPath(),Ct.rect(0,0,D,L),Ct.closePath(),Ct.setAttr("strokeStyle","red"),Ct.setAttr("lineWidth",5),Ct.stroke(),Ct.restore()),this._cache.set(b,{scene:Et,filter:W,hit:rt,x:et,y:q}),this._requestDraw(),this}isCached(){return this._cache.has(b)}getClientRect(x){throw new Error('abstract "getClientRect" method call')}_transformedRect(x,V){const G=[{x:x.x,y:x.y},{x:x.x+x.width,y:x.y},{x:x.x+x.width,y:x.y+x.height},{x:x.x,y:x.y+x.height}];let D=1/0,L=1/0,Q=-1/0,et=-1/0;const q=this.getAbsoluteTransform(V);return G.forEach(function($){const ft=q.point($);D===void 0&&(D=Q=ft.x,L=et=ft.y),D=Math.min(D,ft.x),L=Math.min(L,ft.y),Q=Math.max(Q,ft.x),et=Math.max(et,ft.y)}),{x:D,y:L,width:Q-D,height:et-L}}_drawCachedSceneCanvas(x){x.save(),x._applyOpacity(this),x._applyGlobalCompositeOperation(this);const V=this._getCanvasCache();x.translate(V.x,V.y);const G=this._getCachedSceneCanvas(),D=G.pixelRatio;x.drawImage(G._canvas,0,0,G.width/D,G.height/D),x.restore()}_drawCachedHitCanvas(x){const V=this._getCanvasCache(),G=V.hit;x.save(),x.translate(V.x,V.y),x.drawImage(G._canvas,0,0,G.width/G.pixelRatio,G.height/G.pixelRatio),x.restore()}_getCachedSceneCanvas(){let x=this.filters(),V=this._getCanvasCache(),G=V.scene,D=V.filter,L=D.getContext(),Q,et,q,$;if(x){if(!this._filterUpToDate){const ft=G.pixelRatio;D.setSize(G.width/G.pixelRatio,G.height/G.pixelRatio);try{for(Q=x.length,L.clear(),L.drawImage(G._canvas,0,0,G.getWidth()/ft,G.getHeight()/ft),et=L.getImageData(0,0,D.getWidth(),D.getHeight()),q=0;q<Q;q++){if($=x[q],typeof $!="function"){a.Util.error("Filter should be type of function, but got "+typeof $+" instead. Please check correct filters");continue}$.call(this,et),L.putImageData(et,0,0)}}catch(nt){a.Util.error("Unable to apply filter. "+nt.message+" This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.")}this._filterUpToDate=!0}return D}return G}on(x,V){if(this._cache&&this._cache.delete(p),arguments.length===3)return this._delegate.apply(this,arguments);let G=x.split(R),D=G.length,L,Q,et,q,$;for(L=0;L<D;L++)Q=G[L],et=Q.split("."),q=et[0],$=et[1]||"",this.eventListeners[q]||(this.eventListeners[q]=[]),this.eventListeners[q].push({name:$,handler:V});return this}off(x,V){let G=(x||"").split(R),D=G.length,L,Q,et,q,$,ft;if(this._cache&&this._cache.delete(p),!x)for(Q in this.eventListeners)this._off(Q);for(L=0;L<D;L++)if(et=G[L],q=et.split("."),$=q[0],ft=q[1],$)this.eventListeners[$]&&this._off($,ft,V);else for(Q in this.eventListeners)this._off(Q,ft,V);return this}dispatchEvent(x){const V={target:this,type:x.type,evt:x};return this.fire(x.type,V),this}addEventListener(x,V){return this.on(x,function(G){V.call(this,G.evt)}),this}removeEventListener(x){return this.off(x),this}_delegate(x,V,G){const D=this;this.on(x,function(L){const Q=L.target.findAncestors(V,!0,D);for(let et=0;et<Q.length;et++)L=a.Util.cloneObject(L),L.currentTarget=Q[et],G.call(Q[et],L)})}remove(){return this.isDragging()&&this.stopDrag(),c.DD._dragElements.delete(this._id),this._remove(),this}_clearCaches(){this._clearSelfAndDescendantCache(v),this._clearSelfAndDescendantCache(d),this._clearSelfAndDescendantCache(_),this._clearSelfAndDescendantCache(U),this._clearSelfAndDescendantCache(J),this._clearSelfAndDescendantCache(E)}_remove(){this._clearCaches();const x=this.getParent();x&&x.children&&(x.children.splice(this.index,1),x._setChildrenIndices(),this.parent=null)}destroy(){return this.remove(),this.clearCache(),this}getAttr(x){const V="get"+a.Util._capitalize(x);return a.Util._isFunction(this[V])?this[V]():this.attrs[x]}getAncestors(){let x=this.getParent(),V=[];for(;x;)V.push(x),x=x.getParent();return V}getAttrs(){return this.attrs||{}}setAttrs(x){return this._batchTransformChanges(()=>{let V,G;if(!x)return this;for(V in x)V!==C&&(G=H+a.Util._capitalize(V),a.Util._isFunction(this[G])?this[G](x[V]):this._setAttr(V,x[V]))}),this}isListening(){return this._getCache(E,this._isListening)}_isListening(x){if(!this.listening())return!1;const G=this.getParent();return G&&G!==x&&this!==x?G._isListening(x):!0}isVisible(){return this._getCache(J,this._isVisible)}_isVisible(x){if(!this.visible())return!1;const G=this.getParent();return G&&G!==x&&this!==x?G._isVisible(x):!0}shouldDrawHit(x,V=!1){if(x)return this._isVisible(x)&&this._isListening(x);const G=this.getLayer();let D=!1;c.DD._dragElements.forEach(Q=>{Q.dragStatus==="dragging"&&(Q.node.nodeType==="Stage"||Q.node.getLayer()===G)&&(D=!0)});const L=!V&&!o.Konva.hitOnDragEnabled&&(D||o.Konva.isTransforming());return this.isListening()&&this.isVisible()&&!L}show(){return this.visible(!0),this}hide(){return this.visible(!1),this}getZIndex(){return this.index||0}getAbsoluteZIndex(){let x=this.getDepth(),V=this,G=0,D,L,Q,et;function q(ft){for(D=[],L=ft.length,Q=0;Q<L;Q++)et=ft[Q],G++,et.nodeType!==N&&(D=D.concat(et.getChildren().slice())),et._id===V._id&&(Q=L);D.length>0&&D[0].getDepth()<=x&&q(D)}const $=this.getStage();return V.nodeType!==k&&$&&q($.getChildren()),G}getDepth(){let x=0,V=this.parent;for(;V;)x++,V=V.parent;return x}_batchTransformChanges(x){this._batchingTransformChange=!0,x(),this._batchingTransformChange=!1,this._needClearTransformCache&&(this._clearCache(B),this._clearSelfAndDescendantCache(v)),this._needClearTransformCache=!1}setPosition(x){return this._batchTransformChanges(()=>{this.x(x.x),this.y(x.y)}),this}getPosition(){return{x:this.x(),y:this.y()}}getRelativePointerPosition(){const x=this.getStage();if(!x)return null;const V=x.getPointerPosition();if(!V)return null;const G=this.getAbsoluteTransform().copy();return G.invert(),G.point(V)}getAbsolutePosition(x){let V=!1,G=this.parent;for(;G;){if(G.isCached()){V=!0;break}G=G.parent}V&&!x&&(x=!0);const D=this.getAbsoluteTransform(x).getMatrix(),L=new a.Transform,Q=this.offset();return L.m=D.slice(),L.translate(Q.x,Q.y),L.getTranslation()}setAbsolutePosition(x){const{x:V,y:G,...D}=this._clearTransform();this.attrs.x=V,this.attrs.y=G,this._clearCache(B);const L=this._getAbsoluteTransform().copy();return L.invert(),L.translate(x.x,x.y),x={x:this.attrs.x+L.getTranslation().x,y:this.attrs.y+L.getTranslation().y},this._setTransform(D),this.setPosition({x:x.x,y:x.y}),this._clearCache(B),this._clearSelfAndDescendantCache(v),this}_setTransform(x){let V;for(V in x)this.attrs[V]=x[V]}_clearTransform(){const x={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,x}move(x){let V=x.x,G=x.y,D=this.x(),L=this.y();return V!==void 0&&(D+=V),G!==void 0&&(L+=G),this.setPosition({x:D,y:L}),this}_eachAncestorReverse(x,V){let G=[],D=this.getParent(),L,Q;if(!(V&&V._id===this._id)){for(G.unshift(this);D&&(!V||D._id!==V._id);)G.unshift(D),D=D.parent;for(L=G.length,Q=0;Q<L;Q++)x(G[Q])}}rotate(x){return this.rotation(this.rotation()+x),this}moveToTop(){if(!this.parent)return a.Util.warn("Node has no parent. moveToTop function is ignored."),!1;const x=this.index,V=this.parent.getChildren().length;return x<V-1?(this.parent.children.splice(x,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0):!1}moveUp(){if(!this.parent)return a.Util.warn("Node has no parent. moveUp function is ignored."),!1;const x=this.index,V=this.parent.getChildren().length;return x<V-1?(this.parent.children.splice(x,1),this.parent.children.splice(x+1,0,this),this.parent._setChildrenIndices(),!0):!1}moveDown(){if(!this.parent)return a.Util.warn("Node has no parent. moveDown function is ignored."),!1;const x=this.index;return x>0?(this.parent.children.splice(x,1),this.parent.children.splice(x-1,0,this),this.parent._setChildrenIndices(),!0):!1}moveToBottom(){if(!this.parent)return a.Util.warn("Node has no parent. moveToBottom function is ignored."),!1;const x=this.index;return x>0?(this.parent.children.splice(x,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0):!1}setZIndex(x){if(!this.parent)return a.Util.warn("Node has no parent. zIndex parameter is ignored."),this;(x<0||x>=this.parent.children.length)&&a.Util.warn("Unexpected value "+x+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+".");const V=this.index;return this.parent.children.splice(V,1),this.parent.children.splice(x,0,this),this.parent._setChildrenIndices(),this}getAbsoluteOpacity(){return this._getCache(d,this._getAbsoluteOpacity)}_getAbsoluteOpacity(){let x=this.opacity();const V=this.getParent();return V&&!V._isUnderCache&&(x*=V.getAbsoluteOpacity()),x}moveTo(x){return this.getParent()!==x&&(this._remove(),x.add(this)),this}toObject(){let x=this.getAttrs(),V,G,D,L,Q;const et={attrs:{},className:this.getClassName()};for(V in x)G=x[V],Q=a.Util.isObject(G)&&!a.Util._isPlainObject(G)&&!a.Util._isArray(G),!Q&&(D=typeof this[V]=="function"&&this[V],delete x[V],L=D?D.call(this):null,x[V]=G,L!==G&&(et.attrs[V]=G));return a.Util._prepareToStringify(et)}toJSON(){return JSON.stringify(this.toObject())}getParent(){return this.parent}findAncestors(x,V,G){const D=[];V&&this._isMatch(x)&&D.push(this);let L=this.parent;for(;L;){if(L===G)return D;L._isMatch(x)&&D.push(L),L=L.parent}return D}isAncestorOf(x){return!1}findAncestor(x,V,G){return this.findAncestors(x,V,G)[0]}_isMatch(x){if(!x)return!1;if(typeof x=="function")return x(this);let V=x.replace(/ /g,"").split(","),G=V.length,D,L;for(D=0;D<G;D++)if(L=V[D],a.Util.isValidSelector(L)||(a.Util.warn('Selector "'+L+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),a.Util.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),a.Util.warn("Konva is awesome, right?")),L.charAt(0)==="#"){if(this.id()===L.slice(1))return!0}else if(L.charAt(0)==="."){if(this.hasName(L.slice(1)))return!0}else if(this.className===L||this.nodeType===L)return!0;return!1}getLayer(){const x=this.getParent();return x?x.getLayer():null}getStage(){return this._getCache(U,this._getStage)}_getStage(){const x=this.getParent();return x?x.getStage():null}fire(x,V={},G){return V.target=V.target||this,G?this._fireAndBubble(x,V):this._fire(x,V),this}getAbsoluteTransform(x){return x?this._getAbsoluteTransform(x):this._getCache(v,this._getAbsoluteTransform)}_getAbsoluteTransform(x){let V;if(x)return V=new a.Transform,this._eachAncestorReverse(function(G){const D=G.transformsEnabled();D==="all"?V.multiply(G.getTransform()):D==="position"&&V.translate(G.x()-G.offsetX(),G.y()-G.offsetY())},x),V;{V=this._cache.get(v)||new a.Transform,this.parent?this.parent.getAbsoluteTransform().copyInto(V):V.reset();const G=this.transformsEnabled();if(G==="all")V.multiply(this.getTransform());else if(G==="position"){const D=this.attrs.x||0,L=this.attrs.y||0,Q=this.attrs.offsetX||0,et=this.attrs.offsetY||0;V.translate(D-Q,L-et)}return V.dirty=!1,V}}getAbsoluteScale(x){let V=this;for(;V;)V._isUnderCache&&(x=V),V=V.getParent();const D=this.getAbsoluteTransform(x).decompose();return{x:D.scaleX,y:D.scaleY}}getAbsoluteRotation(){return this.getAbsoluteTransform().decompose().rotation}getTransform(){return this._getCache(B,this._getTransform)}_getTransform(){var x,V;const G=this._cache.get(B)||new a.Transform;G.reset();const D=this.x(),L=this.y(),Q=o.Konva.getAngle(this.rotation()),et=(x=this.attrs.scaleX)!==null&&x!==void 0?x:1,q=(V=this.attrs.scaleY)!==null&&V!==void 0?V:1,$=this.attrs.skewX||0,ft=this.attrs.skewY||0,nt=this.attrs.offsetX||0,ut=this.attrs.offsetY||0;return(D!==0||L!==0)&&G.translate(D,L),Q!==0&&G.rotate(Q),($!==0||ft!==0)&&G.skew($,ft),(et!==1||q!==1)&&G.scale(et,q),(nt!==0||ut!==0)&&G.translate(-1*nt,-1*ut),G.dirty=!1,G}clone(x){let V=a.Util.cloneObject(this.attrs),G,D,L,Q,et;for(G in x)V[G]=x[G];const q=new this.constructor(V);for(G in this.eventListeners)for(D=this.eventListeners[G],L=D.length,Q=0;Q<L;Q++)et=D[Q],et.name.indexOf(A)<0&&(q.eventListeners[G]||(q.eventListeners[G]=[]),q.eventListeners[G].push(et));return q}_toKonvaCanvas(x){x=x||{};const V=this.getClientRect(),G=this.getStage(),D=x.x!==void 0?x.x:Math.floor(V.x),L=x.y!==void 0?x.y:Math.floor(V.y),Q=x.pixelRatio||1,et=new s.SceneCanvas({width:x.width||Math.ceil(V.width)||(G?G.width():0),height:x.height||Math.ceil(V.height)||(G?G.height():0),pixelRatio:Q}),q=et.getContext(),$=new s.SceneCanvas({width:et.width/et.pixelRatio+Math.abs(D),height:et.height/et.pixelRatio+Math.abs(L),pixelRatio:et.pixelRatio});return x.imageSmoothingEnabled===!1&&(q._context.imageSmoothingEnabled=!1),q.save(),(D||L)&&q.translate(-1*D,-1*L),this.drawScene(et,void 0,$),q.restore(),et}toCanvas(x){return this._toKonvaCanvas(x)._canvas}toDataURL(x){x=x||{};const V=x.mimeType||null,G=x.quality||null,D=this._toKonvaCanvas(x).toDataURL(V,G);return x.callback&&x.callback(D),D}toImage(x){return new Promise((V,G)=>{try{const D=x==null?void 0:x.callback;D&&delete x.callback,a.Util._urlToImage(this.toDataURL(x),function(L){V(L),D==null||D(L)})}catch(D){G(D)}})}toBlob(x){return new Promise((V,G)=>{try{const D=x==null?void 0:x.callback;D&&delete x.callback,this.toCanvas(x).toBlob(L=>{V(L),D==null||D(L)},x==null?void 0:x.mimeType,x==null?void 0:x.quality)}catch(D){G(D)}})}setSize(x){return this.width(x.width),this.height(x.height),this}getSize(){return{width:this.width(),height:this.height()}}getClassName(){return this.className||this.nodeType}getType(){return this.nodeType}getDragDistance(){return this.attrs.dragDistance!==void 0?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():o.Konva.dragDistance}_off(x,V,G){let D=this.eventListeners[x],L,Q,et;for(L=0;L<D.length;L++)if(Q=D[L].name,et=D[L].handler,(Q!=="konva"||V==="konva")&&(!V||Q===V)&&(!G||G===et)){if(D.splice(L,1),D.length===0){delete this.eventListeners[x];break}L--}}_fireChangeEvent(x,V,G){this._fire(x+T,{oldVal:V,newVal:G})}addName(x){if(!this.hasName(x)){const V=this.name(),G=V?V+" "+x:x;this.name(G)}return this}hasName(x){if(!x)return!1;const V=this.name();return V?(V||"").split(/\s/g).indexOf(x)!==-1:!1}removeName(x){const V=(this.name()||"").split(/\s/g),G=V.indexOf(x);return G!==-1&&(V.splice(G,1),this.name(V.join(" "))),this}setAttr(x,V){const G=this[H+a.Util._capitalize(x)];return a.Util._isFunction(G)?G.call(this,V):this._setAttr(x,V),this}_requestDraw(){if(o.Konva.autoDrawEnabled){const x=this.getLayer()||this.getStage();x==null||x.batchDraw()}}_setAttr(x,V){const G=this.attrs[x];G===V&&!a.Util.isObject(V)||(V==null?delete this.attrs[x]:this.attrs[x]=V,this._shouldFireChangeEvents&&this._fireChangeEvent(x,G,V),this._requestDraw())}_setComponentAttr(x,V,G){let D;G!==void 0&&(D=this.attrs[x],D||(this.attrs[x]=this.getAttr(x)),this.attrs[x][V]=G,this._fireChangeEvent(x,D,G))}_fireAndBubble(x,V,G){if(V&&this.nodeType===N&&(V.target=this),!((x===O||x===w)&&(G&&(this===G||this.isAncestorOf&&this.isAncestorOf(G))||this.nodeType==="Stage"&&!G))){this._fire(x,V);const L=(x===O||x===w)&&G&&G.isAncestorOf&&G.isAncestorOf(this)&&!G.isAncestorOf(this.parent);(V&&!V.cancelBubble||!V)&&this.parent&&this.parent.isListening()&&!L&&(G&&G.parent?this._fireAndBubble.call(this.parent,x,V,G):this._fireAndBubble.call(this.parent,x,V))}}_getProtoListeners(x){var V,G,D;const L=(V=this._cache.get(p))!==null&&V!==void 0?V:{};let Q=L==null?void 0:L[x];if(Q===void 0){Q=[];let et=Object.getPrototypeOf(this);for(;et;){const q=(D=(G=et.eventListeners)===null||G===void 0?void 0:G[x])!==null&&D!==void 0?D:[];Q.push(...q),et=Object.getPrototypeOf(et)}L[x]=Q,this._cache.set(p,L)}return Q}_fire(x,V){V=V||{},V.currentTarget=this,V.type=x;const G=this._getProtoListeners(x);if(G)for(var D=0;D<G.length;D++)G[D].handler.call(this,V);const L=this.eventListeners[x];if(L)for(var D=0;D<L.length;D++)L[D].handler.call(this,V)}draw(){return this.drawScene(),this.drawHit(),this}_createDragElement(x){const V=x?x.pointerId:void 0,G=this.getStage(),D=this.getAbsolutePosition();if(!G)return;const L=G._getPointerById(V)||G._changedPointerPositions[0]||D;c.DD._dragElements.set(this._id,{node:this,startPointerPos:L,offset:{x:L.x-D.x,y:L.y-D.y},dragStatus:"ready",pointerId:V})}startDrag(x,V=!0){c.DD._dragElements.has(this._id)||this._createDragElement(x);const G=c.DD._dragElements.get(this._id);G.dragStatus="dragging",this.fire("dragstart",{type:"dragstart",target:this,evt:x&&x.evt},V)}_setDragPosition(x,V){const G=this.getStage()._getPointerById(V.pointerId);if(!G)return;let D={x:G.x-V.offset.x,y:G.y-V.offset.y};const L=this.dragBoundFunc();if(L!==void 0){const Q=L.call(this,D,x);Q?D=Q:a.Util.warn("dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.")}(!this._lastPos||this._lastPos.x!==D.x||this._lastPos.y!==D.y)&&(this.setAbsolutePosition(D),this._requestDraw()),this._lastPos=D}stopDrag(x){const V=c.DD._dragElements.get(this._id);V&&(V.dragStatus="stopped"),c.DD._endDragBefore(x),c.DD._endDragAfter(x)}setDraggable(x){this._setAttr("draggable",x),this._dragChange()}isDragging(){const x=c.DD._dragElements.get(this._id);return x?x.dragStatus==="dragging":!1}_listenDrag(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",function(x){if(!(!(x.evt.button!==void 0)||o.Konva.dragButtons.indexOf(x.evt.button)>=0)||this.isDragging())return;let D=!1;c.DD._dragElements.forEach(L=>{this.isAncestorOf(L.node)&&(D=!0)}),D||this._createDragElement(x)})}_dragChange(){if(this.attrs.draggable)this._listenDrag();else{if(this._dragCleanup(),!this.getStage())return;const V=c.DD._dragElements.get(this._id),G=V&&V.dragStatus==="dragging",D=V&&V.dragStatus==="ready";G?this.stopDrag():D&&c.DD._dragElements.delete(this._id)}}_dragCleanup(){this.off("mousedown.konva"),this.off("touchstart.konva")}isClientRectOnScreen(x={x:0,y:0}){const V=this.getStage();if(!V)return!1;const G={x:-x.x,y:-x.y,width:V.width()+2*x.x,height:V.height()+2*x.y};return a.Util.haveIntersection(G,this.getClientRect())}static create(x,V){return a.Util._isString(x)&&(x=JSON.parse(x)),this._createNode(x,V)}static _createNode(x,V){let G=_2.prototype.getClassName.call(x),D=x.children,L,Q,et;V&&(x.attrs.container=V),o.Konva[G]||(a.Util.warn('Can not find a node with class name "'+G+'". Fallback to "Shape".'),G="Shape");const q=o.Konva[G];if(L=new q(x.attrs),D)for(Q=D.length,et=0;et<Q;et++)L.add(_2._createNode(D[et]));return L}};uf.Node=Y,Y.prototype.nodeType="Node",Y.prototype._attrsAffectingSize=[],Y.prototype.eventListeners={},Y.prototype.on.call(Y.prototype,X,function(){if(this._batchingTransformChange){this._needClearTransformCache=!0;return}this._clearCache(B),this._clearSelfAndDescendantCache(v)}),Y.prototype.on.call(Y.prototype,"visibleChange.konva",function(){this._clearSelfAndDescendantCache(J)}),Y.prototype.on.call(Y.prototype,"listeningChange.konva",function(){this._clearSelfAndDescendantCache(E)}),Y.prototype.on.call(Y.prototype,"opacityChange.konva",function(){this._clearSelfAndDescendantCache(d)});const P=e.Factory.addGetterSetter;return P(Y,"zIndex"),P(Y,"absolutePosition"),P(Y,"position"),P(Y,"x",0,(0,f.getNumberValidator)()),P(Y,"y",0,(0,f.getNumberValidator)()),P(Y,"globalCompositeOperation","source-over",(0,f.getStringValidator)()),P(Y,"opacity",1,(0,f.getNumberValidator)()),P(Y,"name","",(0,f.getStringValidator)()),P(Y,"id","",(0,f.getStringValidator)()),P(Y,"rotation",0,(0,f.getNumberValidator)()),e.Factory.addComponentsGetterSetter(Y,"scale",["x","y"]),P(Y,"scaleX",1,(0,f.getNumberValidator)()),P(Y,"scaleY",1,(0,f.getNumberValidator)()),e.Factory.addComponentsGetterSetter(Y,"skew",["x","y"]),P(Y,"skewX",0,(0,f.getNumberValidator)()),P(Y,"skewY",0,(0,f.getNumberValidator)()),e.Factory.addComponentsGetterSetter(Y,"offset",["x","y"]),P(Y,"offsetX",0,(0,f.getNumberValidator)()),P(Y,"offsetY",0,(0,f.getNumberValidator)()),P(Y,"dragDistance",void 0,(0,f.getNumberValidator)()),P(Y,"width",0,(0,f.getNumberValidator)()),P(Y,"height",0,(0,f.getNumberValidator)()),P(Y,"listening",!0,(0,f.getBooleanValidator)()),P(Y,"preventDefault",!0,(0,f.getBooleanValidator)()),P(Y,"filters",void 0,function(tt){return this._filterUpToDate=!1,tt}),P(Y,"visible",!0,(0,f.getBooleanValidator)()),P(Y,"transformsEnabled","all",(0,f.getStringValidator)()),P(Y,"size"),P(Y,"dragBoundFunc"),P(Y,"draggable",!1,(0,f.getBooleanValidator)()),e.Factory.backCompat(Y,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"}),uf}var cf={},kp;function G1(){if(kp)return cf;kp=1,Object.defineProperty(cf,"__esModule",{value:!0}),cf.Container=void 0;const a=ce(),e=bn(),s=fe();let o=class extends e.Node{constructor(){super(...arguments),this.children=[]}getChildren(f){if(!f)return this.children||[];const d=this.children||[],p=[];return d.forEach(function(v){f(v)&&p.push(v)}),p}hasChildren(){return this.getChildren().length>0}removeChildren(){return this.getChildren().forEach(f=>{f.parent=null,f.index=0,f.remove()}),this.children=[],this._requestDraw(),this}destroyChildren(){return this.getChildren().forEach(f=>{f.parent=null,f.index=0,f.destroy()}),this.children=[],this._requestDraw(),this}add(...f){if(f.length===0)return this;if(f.length>1){for(let p=0;p<f.length;p++)this.add(f[p]);return this}const d=f[0];return d.getParent()?(d.moveTo(this),this):(this._validateAdd(d),d.index=this.getChildren().length,d.parent=this,d._clearCaches(),this.getChildren().push(d),this._fire("add",{child:d}),this._requestDraw(),this)}destroy(){return this.hasChildren()&&this.destroyChildren(),super.destroy(),this}find(f){return this._generalFind(f,!1)}findOne(f){const d=this._generalFind(f,!0);return d.length>0?d[0]:void 0}_generalFind(f,d){const p=[];return this._descendants(v=>{const _=v._isMatch(f);return _&&p.push(v),!!(_&&d)}),p}_descendants(f){let d=!1;const p=this.getChildren();for(const v of p){if(d=f(v),d)return!0;if(v.hasChildren()&&(d=v._descendants(f),d))return!0}return!1}toObject(){const f=e.Node.prototype.toObject.call(this);return f.children=[],this.getChildren().forEach(d=>{f.children.push(d.toObject())}),f}isAncestorOf(f){let d=f.getParent();for(;d;){if(d._id===this._id)return!0;d=d.getParent()}return!1}clone(f){const d=e.Node.prototype.clone.call(this,f);return this.getChildren().forEach(function(p){d.add(p.clone())}),d}getAllIntersections(f){const d=[];return this.find("Shape").forEach(p=>{p.isVisible()&&p.intersects(f)&&d.push(p)}),d}_clearSelfAndDescendantCache(f){var d;super._clearSelfAndDescendantCache(f),!this.isCached()&&((d=this.children)===null||d===void 0||d.forEach(function(p){p._clearSelfAndDescendantCache(f)}))}_setChildrenIndices(){var f;(f=this.children)===null||f===void 0||f.forEach(function(d,p){d.index=p}),this._requestDraw()}drawScene(f,d,p){const v=this.getLayer(),_=f||v&&v.getCanvas(),b=_&&_.getContext(),T=this._getCanvasCache(),C=T&&T.scene,A=_&&_.isCache;if(!this.isVisible()&&!A)return this;if(C){b.save();const E=this.getAbsoluteTransform(d).getMatrix();b.transform(E[0],E[1],E[2],E[3],E[4],E[5]),this._drawCachedSceneCanvas(b),b.restore()}else this._drawChildren("drawScene",_,d,p);return this}drawHit(f,d){if(!this.shouldDrawHit(d))return this;const p=this.getLayer(),v=f||p&&p.hitCanvas,_=v&&v.getContext(),b=this._getCanvasCache();if(b&&b.hit){_.save();const C=this.getAbsoluteTransform(d).getMatrix();_.transform(C[0],C[1],C[2],C[3],C[4],C[5]),this._drawCachedHitCanvas(_),_.restore()}else this._drawChildren("drawHit",v,d);return this}_drawChildren(f,d,p,v){var _;const b=d&&d.getContext(),T=this.clipWidth(),C=this.clipHeight(),A=this.clipFunc(),E=typeof T=="number"&&typeof C=="number"||A,O=p===this;if(E){b.save();const H=this.getAbsoluteTransform(p);let N=H.getMatrix();b.transform(N[0],N[1],N[2],N[3],N[4],N[5]),b.beginPath();let R;if(A)R=A.call(this,b,this);else{const U=this.clipX(),B=this.clipY();b.rect(U||0,B||0,T,C)}b.clip.apply(b,R),N=H.copy().invert().getMatrix(),b.transform(N[0],N[1],N[2],N[3],N[4],N[5])}const w=!O&&this.globalCompositeOperation()!=="source-over"&&f==="drawScene";w&&(b.save(),b._applyGlobalCompositeOperation(this)),(_=this.children)===null||_===void 0||_.forEach(function(H){H[f](d,p,v)}),w&&b.restore(),E&&b.restore()}getClientRect(f={}){var d;const p=f.skipTransform,v=f.relativeTo;let _,b,T,C,A={x:1/0,y:1/0,width:0,height:0};const E=this;(d=this.children)===null||d===void 0||d.forEach(function(H){if(!H.visible())return;const N=H.getClientRect({relativeTo:E,skipShadow:f.skipShadow,skipStroke:f.skipStroke});N.width===0&&N.height===0||(_===void 0?(_=N.x,b=N.y,T=N.x+N.width,C=N.y+N.height):(_=Math.min(_,N.x),b=Math.min(b,N.y),T=Math.max(T,N.x+N.width),C=Math.max(C,N.y+N.height)))});const O=this.find("Shape");let w=!1;for(let H=0;H<O.length;H++)if(O[H]._isVisible(this)){w=!0;break}return w&&_!==void 0?A={x:_,y:b,width:T-_,height:C-b}:A={x:0,y:0,width:0,height:0},p?A:this._transformedRect(A,v)}};return cf.Container=o,a.Factory.addComponentsGetterSetter(o,"clip",["x","y","width","height"]),a.Factory.addGetterSetter(o,"clipX",void 0,(0,s.getNumberValidator)()),a.Factory.addGetterSetter(o,"clipY",void 0,(0,s.getNumberValidator)()),a.Factory.addGetterSetter(o,"clipWidth",void 0,(0,s.getNumberValidator)()),a.Factory.addGetterSetter(o,"clipHeight",void 0,(0,s.getNumberValidator)()),a.Factory.addGetterSetter(o,"clipFunc"),cf}var kg={},jr={},Xp;function ry(){if(Xp)return jr;Xp=1,Object.defineProperty(jr,"__esModule",{value:!0}),jr.getCapturedShape=o,jr.createEvent=c,jr.hasPointerCapture=f,jr.setPointerCapture=d,jr.releaseCapture=p;const a=ne(),e=new Map,s=a.Konva._global.PointerEvent!==void 0;function o(v){return e.get(v)}function c(v){return{evt:v,pointerId:v.pointerId}}function f(v,_){return e.get(v)===_}function d(v,_){p(v),_.getStage()&&(e.set(v,_),s&&_._fire("gotpointercapture",c(new PointerEvent("gotpointercapture"))))}function p(v,_){const b=e.get(v);if(!b)return;const T=b.getStage();T&&T.content,e.delete(v),s&&b._fire("lostpointercapture",c(new PointerEvent("lostpointercapture")))}return jr}var Kp;function d6(){return Kp||(Kp=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.Stage=a.stages=void 0;const e=mn(),s=ce(),o=G1(),c=ne(),f=z1(),d=P2(),p=ne(),v=ry(),_="Stage",b="string",T="px",C="mouseout",A="mouseleave",E="mouseover",O="mouseenter",w="mousemove",H="mousedown",N="mouseup",R="pointermove",U="pointerdown",B="pointerup",k="pointercancel",J="lostpointercapture",X="pointerout",F="pointerleave",Y="pointerover",P="pointerenter",tt="contextmenu",x="touchstart",V="touchend",G="touchmove",D="touchcancel",L="wheel",Q=5,et=[[O,"_pointerenter"],[H,"_pointerdown"],[w,"_pointermove"],[N,"_pointerup"],[A,"_pointerleave"],[x,"_pointerdown"],[G,"_pointermove"],[V,"_pointerup"],[D,"_pointercancel"],[E,"_pointerover"],[L,"_wheel"],[tt,"_contextmenu"],[U,"_pointerdown"],[R,"_pointermove"],[B,"_pointerup"],[k,"_pointercancel"],[J,"_lostpointercapture"]],q={mouse:{[X]:C,[F]:A,[Y]:E,[P]:O,[R]:w,[U]:H,[B]:N,[k]:"mousecancel",pointerclick:"click",pointerdblclick:"dblclick"},touch:{[X]:"touchout",[F]:"touchleave",[Y]:"touchover",[P]:"touchenter",[R]:G,[U]:x,[B]:V,[k]:D,pointerclick:"tap",pointerdblclick:"dbltap"},pointer:{[X]:X,[F]:F,[Y]:Y,[P]:P,[R]:R,[U]:U,[B]:B,[k]:k,pointerclick:"pointerclick",pointerdblclick:"pointerdblclick"}},$=Et=>Et.indexOf("pointer")>=0?"pointer":Et.indexOf("touch")>=0?"touch":"mouse",ft=Et=>{const W=$(Et);if(W==="pointer")return c.Konva.pointerEventsEnabled&&q.pointer;if(W==="touch")return q.touch;if(W==="mouse")return q.mouse};function nt(Et={}){return(Et.clipFunc||Et.clipWidth||Et.clipHeight)&&e.Util.warn("Stage does not support clipping. Please use clip for Layers or Groups."),Et}const ut="Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);";a.stages=[];class yt extends o.Container{constructor(W){super(nt(W)),this._pointerPositions=[],this._changedPointerPositions=[],this._buildDOM(),this._bindContentEvents(),a.stages.push(this),this.on("widthChange.konva heightChange.konva",this._resizeDOM),this.on("visibleChange.konva",this._checkVisibility),this.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",()=>{nt(this.attrs)}),this._checkVisibility()}_validateAdd(W){const rt=W.getType()==="Layer",Ct=W.getType()==="FastLayer";rt||Ct||e.Util.throw("You may only add layers to the stage.")}_checkVisibility(){if(!this.content)return;const W=this.visible()?"":"none";this.content.style.display=W}setContainer(W){if(typeof W===b){if(W.charAt(0)==="."){const Ct=W.slice(1);W=document.getElementsByClassName(Ct)[0]}else{var rt;W.charAt(0)!=="#"?rt=W:rt=W.slice(1),W=document.getElementById(rt)}if(!W)throw"Can not find container in document with id "+rt}return this._setAttr("container",W),this.content&&(this.content.parentElement&&this.content.parentElement.removeChild(this.content),W.appendChild(this.content)),this}shouldDrawHit(){return!0}clear(){const W=this.children,rt=W.length;for(let Ct=0;Ct<rt;Ct++)W[Ct].clear();return this}clone(W){return W||(W={}),W.container=typeof document<"u"&&document.createElement("div"),o.Container.prototype.clone.call(this,W)}destroy(){super.destroy();const W=this.content;W&&e.Util._isInDocument(W)&&this.container().removeChild(W);const rt=a.stages.indexOf(this);return rt>-1&&a.stages.splice(rt,1),e.Util.releaseCanvas(this.bufferCanvas._canvas,this.bufferHitCanvas._canvas),this}getPointerPosition(){const W=this._pointerPositions[0]||this._changedPointerPositions[0];return W?{x:W.x,y:W.y}:(e.Util.warn(ut),null)}_getPointerById(W){return this._pointerPositions.find(rt=>rt.id===W)}getPointersPositions(){return this._pointerPositions}getStage(){return this}getContent(){return this.content}_toKonvaCanvas(W){W=W||{},W.x=W.x||0,W.y=W.y||0,W.width=W.width||this.width(),W.height=W.height||this.height();const rt=new f.SceneCanvas({width:W.width,height:W.height,pixelRatio:W.pixelRatio||1}),Ct=rt.getContext()._context,Rt=this.children;return(W.x||W.y)&&Ct.translate(-1*W.x,-1*W.y),Rt.forEach(function(Mt){if(!Mt.isVisible())return;const xt=Mt._toKonvaCanvas(W);Ct.drawImage(xt._canvas,W.x,W.y,xt.getWidth()/xt.getPixelRatio(),xt.getHeight()/xt.getPixelRatio())}),rt}getIntersection(W){if(!W)return null;const rt=this.children,Ct=rt.length,Rt=Ct-1;for(let Mt=Rt;Mt>=0;Mt--){const xt=rt[Mt].getIntersection(W);if(xt)return xt}return null}_resizeDOM(){const W=this.width(),rt=this.height();this.content&&(this.content.style.width=W+T,this.content.style.height=rt+T),this.bufferCanvas.setSize(W,rt),this.bufferHitCanvas.setSize(W,rt),this.children.forEach(Ct=>{Ct.setSize({width:W,height:rt}),Ct.draw()})}add(W,...rt){if(arguments.length>1){for(let Rt=0;Rt<arguments.length;Rt++)this.add(arguments[Rt]);return this}super.add(W);const Ct=this.children.length;return Ct>Q&&e.Util.warn("The stage has "+Ct+" layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),W.setSize({width:this.width(),height:this.height()}),W.draw(),c.Konva.isBrowser&&this.content.appendChild(W.canvas._canvas),this}getParent(){return null}getLayer(){return null}hasPointerCapture(W){return v.hasPointerCapture(W,this)}setPointerCapture(W){v.setPointerCapture(W,this)}releaseCapture(W){v.releaseCapture(W,this)}getLayers(){return this.children}_bindContentEvents(){c.Konva.isBrowser&&et.forEach(([W,rt])=>{this.content.addEventListener(W,Ct=>{this[rt](Ct)},{passive:!1})})}_pointerenter(W){this.setPointersPositions(W);const rt=ft(W.type);rt&&this._fire(rt.pointerenter,{evt:W,target:this,currentTarget:this})}_pointerover(W){this.setPointersPositions(W);const rt=ft(W.type);rt&&this._fire(rt.pointerover,{evt:W,target:this,currentTarget:this})}_getTargetShape(W){let rt=this[W+"targetShape"];return rt&&!rt.getStage()&&(rt=null),rt}_pointerleave(W){const rt=ft(W.type),Ct=$(W.type);if(!rt)return;this.setPointersPositions(W);const Rt=this._getTargetShape(Ct),Mt=!(c.Konva.isDragging()||c.Konva.isTransforming())||c.Konva.hitOnDragEnabled;Rt&&Mt?(Rt._fireAndBubble(rt.pointerout,{evt:W}),Rt._fireAndBubble(rt.pointerleave,{evt:W}),this._fire(rt.pointerleave,{evt:W,target:this,currentTarget:this}),this[Ct+"targetShape"]=null):Mt&&(this._fire(rt.pointerleave,{evt:W,target:this,currentTarget:this}),this._fire(rt.pointerout,{evt:W,target:this,currentTarget:this})),this.pointerPos=null,this._pointerPositions=[]}_pointerdown(W){const rt=ft(W.type),Ct=$(W.type);if(!rt)return;this.setPointersPositions(W);let Rt=!1;this._changedPointerPositions.forEach(Mt=>{const xt=this.getIntersection(Mt);if(d.DD.justDragged=!1,c.Konva["_"+Ct+"ListenClick"]=!0,!xt||!xt.isListening()){this[Ct+"ClickStartShape"]=void 0;return}c.Konva.capturePointerEventsEnabled&&xt.setPointerCapture(Mt.id),this[Ct+"ClickStartShape"]=xt,xt._fireAndBubble(rt.pointerdown,{evt:W,pointerId:Mt.id}),Rt=!0;const te=W.type.indexOf("touch")>=0;xt.preventDefault()&&W.cancelable&&te&&W.preventDefault()}),Rt||this._fire(rt.pointerdown,{evt:W,target:this,currentTarget:this,pointerId:this._pointerPositions[0].id})}_pointermove(W){const rt=ft(W.type),Ct=$(W.type);if(!rt||(c.Konva.isDragging()&&d.DD.node.preventDefault()&&W.cancelable&&W.preventDefault(),this.setPointersPositions(W),!(!(c.Konva.isDragging()||c.Konva.isTransforming())||c.Konva.hitOnDragEnabled)))return;const Mt={};let xt=!1;const te=this._getTargetShape(Ct);this._changedPointerPositions.forEach(re=>{const Xt=v.getCapturedShape(re.id)||this.getIntersection(re),on=re.id,kt={evt:W,pointerId:on},Be=te!==Xt;if(Be&&te&&(te._fireAndBubble(rt.pointerout,{...kt},Xt),te._fireAndBubble(rt.pointerleave,{...kt},Xt)),Xt){if(Mt[Xt._id])return;Mt[Xt._id]=!0}Xt&&Xt.isListening()?(xt=!0,Be&&(Xt._fireAndBubble(rt.pointerover,{...kt},te),Xt._fireAndBubble(rt.pointerenter,{...kt},te),this[Ct+"targetShape"]=Xt),Xt._fireAndBubble(rt.pointermove,{...kt})):te&&(this._fire(rt.pointerover,{evt:W,target:this,currentTarget:this,pointerId:on}),this[Ct+"targetShape"]=null)}),xt||this._fire(rt.pointermove,{evt:W,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id})}_pointerup(W){const rt=ft(W.type),Ct=$(W.type);if(!rt)return;this.setPointersPositions(W);const Rt=this[Ct+"ClickStartShape"],Mt=this[Ct+"ClickEndShape"],xt={};let te=!1;this._changedPointerPositions.forEach(re=>{const Xt=v.getCapturedShape(re.id)||this.getIntersection(re);if(Xt){if(Xt.releaseCapture(re.id),xt[Xt._id])return;xt[Xt._id]=!0}const on=re.id,kt={evt:W,pointerId:on};let Be=!1;c.Konva["_"+Ct+"InDblClickWindow"]?(Be=!0,clearTimeout(this[Ct+"DblTimeout"])):d.DD.justDragged||(c.Konva["_"+Ct+"InDblClickWindow"]=!0,clearTimeout(this[Ct+"DblTimeout"])),this[Ct+"DblTimeout"]=setTimeout(function(){c.Konva["_"+Ct+"InDblClickWindow"]=!1},c.Konva.dblClickWindow),Xt&&Xt.isListening()?(te=!0,this[Ct+"ClickEndShape"]=Xt,Xt._fireAndBubble(rt.pointerup,{...kt}),c.Konva["_"+Ct+"ListenClick"]&&Rt&&Rt===Xt&&(Xt._fireAndBubble(rt.pointerclick,{...kt}),Be&&Mt&&Mt===Xt&&Xt._fireAndBubble(rt.pointerdblclick,{...kt}))):(this[Ct+"ClickEndShape"]=null,c.Konva["_"+Ct+"ListenClick"]&&this._fire(rt.pointerclick,{evt:W,target:this,currentTarget:this,pointerId:on}),Be&&this._fire(rt.pointerdblclick,{evt:W,target:this,currentTarget:this,pointerId:on}))}),te||this._fire(rt.pointerup,{evt:W,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),c.Konva["_"+Ct+"ListenClick"]=!1,W.cancelable&&Ct!=="touch"&&Ct!=="pointer"&&W.preventDefault()}_contextmenu(W){this.setPointersPositions(W);const rt=this.getIntersection(this.getPointerPosition());rt&&rt.isListening()?rt._fireAndBubble(tt,{evt:W}):this._fire(tt,{evt:W,target:this,currentTarget:this})}_wheel(W){this.setPointersPositions(W);const rt=this.getIntersection(this.getPointerPosition());rt&&rt.isListening()?rt._fireAndBubble(L,{evt:W}):this._fire(L,{evt:W,target:this,currentTarget:this})}_pointercancel(W){this.setPointersPositions(W);const rt=v.getCapturedShape(W.pointerId)||this.getIntersection(this.getPointerPosition());rt&&rt._fireAndBubble(B,v.createEvent(W)),v.releaseCapture(W.pointerId)}_lostpointercapture(W){v.releaseCapture(W.pointerId)}setPointersPositions(W){const rt=this._getContentPosition();let Ct=null,Rt=null;W=W||window.event,W.touches!==void 0?(this._pointerPositions=[],this._changedPointerPositions=[],Array.prototype.forEach.call(W.touches,Mt=>{this._pointerPositions.push({id:Mt.identifier,x:(Mt.clientX-rt.left)/rt.scaleX,y:(Mt.clientY-rt.top)/rt.scaleY})}),Array.prototype.forEach.call(W.changedTouches||W.touches,Mt=>{this._changedPointerPositions.push({id:Mt.identifier,x:(Mt.clientX-rt.left)/rt.scaleX,y:(Mt.clientY-rt.top)/rt.scaleY})})):(Ct=(W.clientX-rt.left)/rt.scaleX,Rt=(W.clientY-rt.top)/rt.scaleY,this.pointerPos={x:Ct,y:Rt},this._pointerPositions=[{x:Ct,y:Rt,id:e.Util._getFirstPointerId(W)}],this._changedPointerPositions=[{x:Ct,y:Rt,id:e.Util._getFirstPointerId(W)}])}_setPointerPosition(W){e.Util.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(W)}_getContentPosition(){if(!this.content||!this.content.getBoundingClientRect)return{top:0,left:0,scaleX:1,scaleY:1};const W=this.content.getBoundingClientRect();return{top:W.top,left:W.left,scaleX:W.width/this.content.clientWidth||1,scaleY:W.height/this.content.clientHeight||1}}_buildDOM(){if(this.bufferCanvas=new f.SceneCanvas({width:this.width(),height:this.height()}),this.bufferHitCanvas=new f.HitCanvas({pixelRatio:1,width:this.width(),height:this.height()}),!c.Konva.isBrowser)return;const W=this.container();if(!W)throw"Stage has no container. A container is required.";W.innerHTML="",this.content=document.createElement("div"),this.content.style.position="relative",this.content.style.userSelect="none",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),W.appendChild(this.content),this._resizeDOM()}cache(){return e.Util.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this}clearCache(){return this}batchDraw(){return this.getChildren().forEach(function(W){W.batchDraw()}),this}}a.Stage=yt,yt.prototype.nodeType=_,(0,p._registerNode)(yt),s.Factory.addGetterSetter(yt,"container"),c.Konva.isBrowser&&document.addEventListener("visibilitychange",()=>{a.stages.forEach(Et=>{Et.batchDraw()})})}(kg)),kg}var hf={},Xg={},Pp;function In(){return Pp||(Pp=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.Shape=a.shapes=void 0;const e=ne(),s=mn(),o=ce(),c=bn(),f=fe(),d=ne(),p=ry(),v="hasShadow",_="shadowRGBA",b="patternImage",T="linearGradient",C="radialGradient";let A;function E(){return A||(A=s.Util.createCanvasElement().getContext("2d"),A)}a.shapes={};function O(F){const Y=this.attrs.fillRule;Y?F.fill(Y):F.fill()}function w(F){F.stroke()}function H(F){const Y=this.attrs.fillRule;Y?F.fill(Y):F.fill()}function N(F){F.stroke()}function R(){this._clearCache(v)}function U(){this._clearCache(_)}function B(){this._clearCache(b)}function k(){this._clearCache(T)}function J(){this._clearCache(C)}class X extends c.Node{constructor(Y){super(Y);let P;for(;P=s.Util.getRandomColor(),!(P&&!(P in a.shapes)););this.colorKey=P,a.shapes[P]=this}getContext(){return s.Util.warn("shape.getContext() method is deprecated. Please do not use it."),this.getLayer().getContext()}getCanvas(){return s.Util.warn("shape.getCanvas() method is deprecated. Please do not use it."),this.getLayer().getCanvas()}getSceneFunc(){return this.attrs.sceneFunc||this._sceneFunc}getHitFunc(){return this.attrs.hitFunc||this._hitFunc}hasShadow(){return this._getCache(v,this._hasShadow)}_hasShadow(){return this.shadowEnabled()&&this.shadowOpacity()!==0&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())}_getFillPattern(){return this._getCache(b,this.__getFillPattern)}__getFillPattern(){if(this.fillPatternImage()){const P=E().createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat");if(P&&P.setTransform){const tt=new s.Transform;tt.translate(this.fillPatternX(),this.fillPatternY()),tt.rotate(e.Konva.getAngle(this.fillPatternRotation())),tt.scale(this.fillPatternScaleX(),this.fillPatternScaleY()),tt.translate(-1*this.fillPatternOffsetX(),-1*this.fillPatternOffsetY());const x=tt.getMatrix(),V=typeof DOMMatrix>"u"?{a:x[0],b:x[1],c:x[2],d:x[3],e:x[4],f:x[5]}:new DOMMatrix(x);P.setTransform(V)}return P}}_getLinearGradient(){return this._getCache(T,this.__getLinearGradient)}__getLinearGradient(){const Y=this.fillLinearGradientColorStops();if(Y){const P=E(),tt=this.fillLinearGradientStartPoint(),x=this.fillLinearGradientEndPoint(),V=P.createLinearGradient(tt.x,tt.y,x.x,x.y);for(let G=0;G<Y.length;G+=2)V.addColorStop(Y[G],Y[G+1]);return V}}_getRadialGradient(){return this._getCache(C,this.__getRadialGradient)}__getRadialGradient(){const Y=this.fillRadialGradientColorStops();if(Y){const P=E(),tt=this.fillRadialGradientStartPoint(),x=this.fillRadialGradientEndPoint(),V=P.createRadialGradient(tt.x,tt.y,this.fillRadialGradientStartRadius(),x.x,x.y,this.fillRadialGradientEndRadius());for(let G=0;G<Y.length;G+=2)V.addColorStop(Y[G],Y[G+1]);return V}}getShadowRGBA(){return this._getCache(_,this._getShadowRGBA)}_getShadowRGBA(){if(!this.hasShadow())return;const Y=s.Util.colorToRGBA(this.shadowColor());if(Y)return"rgba("+Y.r+","+Y.g+","+Y.b+","+Y.a*(this.shadowOpacity()||1)+")"}hasFill(){return this._calculate("hasFill",["fillEnabled","fill","fillPatternImage","fillLinearGradientColorStops","fillRadialGradientColorStops"],()=>this.fillEnabled()&&!!(this.fill()||this.fillPatternImage()||this.fillLinearGradientColorStops()||this.fillRadialGradientColorStops()))}hasStroke(){return this._calculate("hasStroke",["strokeEnabled","strokeWidth","stroke","strokeLinearGradientColorStops"],()=>this.strokeEnabled()&&this.strokeWidth()&&!!(this.stroke()||this.strokeLinearGradientColorStops()))}hasHitStroke(){const Y=this.hitStrokeWidth();return Y==="auto"?this.hasStroke():this.strokeEnabled()&&!!Y}intersects(Y){const P=this.getStage();if(!P)return!1;const tt=P.bufferHitCanvas;return tt.getContext().clear(),this.drawHit(tt,void 0,!0),tt.context.getImageData(Math.round(Y.x),Math.round(Y.y),1,1).data[3]>0}destroy(){return c.Node.prototype.destroy.call(this),delete a.shapes[this.colorKey],delete this.colorKey,this}_useBufferCanvas(Y){var P;if(!((P=this.attrs.perfectDrawEnabled)!==null&&P!==void 0?P:!0))return!1;const x=Y||this.hasFill(),V=this.hasStroke(),G=this.getAbsoluteOpacity()!==1;if(x&&V&&G)return!0;const D=this.hasShadow(),L=this.shadowForStrokeEnabled();return!!(x&&V&&D&&L)}setStrokeHitEnabled(Y){s.Util.warn("strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead."),Y?this.hitStrokeWidth("auto"):this.hitStrokeWidth(0)}getStrokeHitEnabled(){return this.hitStrokeWidth()!==0}getSelfRect(){const Y=this.size();return{x:this._centroid?-Y.width/2:0,y:this._centroid?-Y.height/2:0,width:Y.width,height:Y.height}}getClientRect(Y={}){let P=!1,tt=this.getParent();for(;tt;){if(tt.isCached()){P=!0;break}tt=tt.getParent()}const x=Y.skipTransform,V=Y.relativeTo||P&&this.getStage()||void 0,G=this.getSelfRect(),L=!Y.skipStroke&&this.hasStroke()&&this.strokeWidth()||0,Q=G.width+L,et=G.height+L,q=!Y.skipShadow&&this.hasShadow(),$=q?this.shadowOffsetX():0,ft=q?this.shadowOffsetY():0,nt=Q+Math.abs($),ut=et+Math.abs(ft),yt=q&&this.shadowBlur()||0,Et=nt+yt*2,W=ut+yt*2,rt={width:Et,height:W,x:-(L/2+yt)+Math.min($,0)+G.x,y:-(L/2+yt)+Math.min(ft,0)+G.y};return x?rt:this._transformedRect(rt,V)}drawScene(Y,P,tt){const x=this.getLayer();let V=Y||x.getCanvas(),G=V.getContext(),D=this._getCanvasCache(),L=this.getSceneFunc(),Q=this.hasShadow(),et,q;const $=V.isCache,ft=P===this;if(!this.isVisible()&&!ft)return this;if(D){G.save();const ut=this.getAbsoluteTransform(P).getMatrix();return G.transform(ut[0],ut[1],ut[2],ut[3],ut[4],ut[5]),this._drawCachedSceneCanvas(G),G.restore(),this}if(!L)return this;if(G.save(),this._useBufferCanvas()&&!$){et=this.getStage();const ut=tt||et.bufferCanvas;q=ut.getContext(),q.clear(),q.save(),q._applyLineJoin(this);var nt=this.getAbsoluteTransform(P).getMatrix();q.transform(nt[0],nt[1],nt[2],nt[3],nt[4],nt[5]),L.call(this,q,this),q.restore();const yt=ut.pixelRatio;Q&&G._applyShadow(this),G._applyOpacity(this),G._applyGlobalCompositeOperation(this),G.drawImage(ut._canvas,0,0,ut.width/yt,ut.height/yt)}else{if(G._applyLineJoin(this),!ft){var nt=this.getAbsoluteTransform(P).getMatrix();G.transform(nt[0],nt[1],nt[2],nt[3],nt[4],nt[5]),G._applyOpacity(this),G._applyGlobalCompositeOperation(this)}Q&&G._applyShadow(this),L.call(this,G,this)}return G.restore(),this}drawHit(Y,P,tt=!1){if(!this.shouldDrawHit(P,tt))return this;const x=this.getLayer(),V=Y||x.hitCanvas,G=V&&V.getContext(),D=this.hitFunc()||this.sceneFunc(),L=this._getCanvasCache(),Q=L&&L.hit;if(this.colorKey||s.Util.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. If you want to reuse shape you should call remove() instead of destroy()"),Q){G.save();const q=this.getAbsoluteTransform(P).getMatrix();return G.transform(q[0],q[1],q[2],q[3],q[4],q[5]),this._drawCachedHitCanvas(G),G.restore(),this}if(!D)return this;if(G.save(),G._applyLineJoin(this),!(this===P)){const q=this.getAbsoluteTransform(P).getMatrix();G.transform(q[0],q[1],q[2],q[3],q[4],q[5])}return D.call(this,G,this),G.restore(),this}drawHitFromCache(Y=0){const P=this._getCanvasCache(),tt=this._getCachedSceneCanvas(),x=P.hit,V=x.getContext(),G=x.getWidth(),D=x.getHeight();V.clear(),V.drawImage(tt._canvas,0,0,G,D);try{const L=V.getImageData(0,0,G,D),Q=L.data,et=Q.length,q=s.Util._hexToRgb(this.colorKey);for(let $=0;$<et;$+=4)Q[$+3]>Y?(Q[$]=q.r,Q[$+1]=q.g,Q[$+2]=q.b,Q[$+3]=255):Q[$+3]=0;V.putImageData(L,0,0)}catch(L){s.Util.error("Unable to draw hit graph from cached scene canvas. "+L.message)}return this}hasPointerCapture(Y){return p.hasPointerCapture(Y,this)}setPointerCapture(Y){p.setPointerCapture(Y,this)}releaseCapture(Y){p.releaseCapture(Y,this)}}a.Shape=X,X.prototype._fillFunc=O,X.prototype._strokeFunc=w,X.prototype._fillFuncHit=H,X.prototype._strokeFuncHit=N,X.prototype._centroid=!1,X.prototype.nodeType="Shape",(0,d._registerNode)(X),X.prototype.eventListeners={},X.prototype.on.call(X.prototype,"shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",R),X.prototype.on.call(X.prototype,"shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",U),X.prototype.on.call(X.prototype,"fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva fillPatternOffsetXChange.konva fillPatternOffsetYChange.konva fillPatternXChange.konva fillPatternYChange.konva fillPatternRotationChange.konva",B),X.prototype.on.call(X.prototype,"fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",k),X.prototype.on.call(X.prototype,"fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",J),o.Factory.addGetterSetter(X,"stroke",void 0,(0,f.getStringOrGradientValidator)()),o.Factory.addGetterSetter(X,"strokeWidth",2,(0,f.getNumberValidator)()),o.Factory.addGetterSetter(X,"fillAfterStrokeEnabled",!1),o.Factory.addGetterSetter(X,"hitStrokeWidth","auto",(0,f.getNumberOrAutoValidator)()),o.Factory.addGetterSetter(X,"strokeHitEnabled",!0,(0,f.getBooleanValidator)()),o.Factory.addGetterSetter(X,"perfectDrawEnabled",!0,(0,f.getBooleanValidator)()),o.Factory.addGetterSetter(X,"shadowForStrokeEnabled",!0,(0,f.getBooleanValidator)()),o.Factory.addGetterSetter(X,"lineJoin"),o.Factory.addGetterSetter(X,"lineCap"),o.Factory.addGetterSetter(X,"sceneFunc"),o.Factory.addGetterSetter(X,"hitFunc"),o.Factory.addGetterSetter(X,"dash"),o.Factory.addGetterSetter(X,"dashOffset",0,(0,f.getNumberValidator)()),o.Factory.addGetterSetter(X,"shadowColor",void 0,(0,f.getStringValidator)()),o.Factory.addGetterSetter(X,"shadowBlur",0,(0,f.getNumberValidator)()),o.Factory.addGetterSetter(X,"shadowOpacity",1,(0,f.getNumberValidator)()),o.Factory.addComponentsGetterSetter(X,"shadowOffset",["x","y"]),o.Factory.addGetterSetter(X,"shadowOffsetX",0,(0,f.getNumberValidator)()),o.Factory.addGetterSetter(X,"shadowOffsetY",0,(0,f.getNumberValidator)()),o.Factory.addGetterSetter(X,"fillPatternImage"),o.Factory.addGetterSetter(X,"fill",void 0,(0,f.getStringOrGradientValidator)()),o.Factory.addGetterSetter(X,"fillPatternX",0,(0,f.getNumberValidator)()),o.Factory.addGetterSetter(X,"fillPatternY",0,(0,f.getNumberValidator)()),o.Factory.addGetterSetter(X,"fillLinearGradientColorStops"),o.Factory.addGetterSetter(X,"strokeLinearGradientColorStops"),o.Factory.addGetterSetter(X,"fillRadialGradientStartRadius",0),o.Factory.addGetterSetter(X,"fillRadialGradientEndRadius",0),o.Factory.addGetterSetter(X,"fillRadialGradientColorStops"),o.Factory.addGetterSetter(X,"fillPatternRepeat","repeat"),o.Factory.addGetterSetter(X,"fillEnabled",!0),o.Factory.addGetterSetter(X,"strokeEnabled",!0),o.Factory.addGetterSetter(X,"shadowEnabled",!0),o.Factory.addGetterSetter(X,"dashEnabled",!0),o.Factory.addGetterSetter(X,"strokeScaleEnabled",!0),o.Factory.addGetterSetter(X,"fillPriority","color"),o.Factory.addComponentsGetterSetter(X,"fillPatternOffset",["x","y"]),o.Factory.addGetterSetter(X,"fillPatternOffsetX",0,(0,f.getNumberValidator)()),o.Factory.addGetterSetter(X,"fillPatternOffsetY",0,(0,f.getNumberValidator)()),o.Factory.addComponentsGetterSetter(X,"fillPatternScale",["x","y"]),o.Factory.addGetterSetter(X,"fillPatternScaleX",1,(0,f.getNumberValidator)()),o.Factory.addGetterSetter(X,"fillPatternScaleY",1,(0,f.getNumberValidator)()),o.Factory.addComponentsGetterSetter(X,"fillLinearGradientStartPoint",["x","y"]),o.Factory.addComponentsGetterSetter(X,"strokeLinearGradientStartPoint",["x","y"]),o.Factory.addGetterSetter(X,"fillLinearGradientStartPointX",0),o.Factory.addGetterSetter(X,"strokeLinearGradientStartPointX",0),o.Factory.addGetterSetter(X,"fillLinearGradientStartPointY",0),o.Factory.addGetterSetter(X,"strokeLinearGradientStartPointY",0),o.Factory.addComponentsGetterSetter(X,"fillLinearGradientEndPoint",["x","y"]),o.Factory.addComponentsGetterSetter(X,"strokeLinearGradientEndPoint",["x","y"]),o.Factory.addGetterSetter(X,"fillLinearGradientEndPointX",0),o.Factory.addGetterSetter(X,"strokeLinearGradientEndPointX",0),o.Factory.addGetterSetter(X,"fillLinearGradientEndPointY",0),o.Factory.addGetterSetter(X,"strokeLinearGradientEndPointY",0),o.Factory.addComponentsGetterSetter(X,"fillRadialGradientStartPoint",["x","y"]),o.Factory.addGetterSetter(X,"fillRadialGradientStartPointX",0),o.Factory.addGetterSetter(X,"fillRadialGradientStartPointY",0),o.Factory.addComponentsGetterSetter(X,"fillRadialGradientEndPoint",["x","y"]),o.Factory.addGetterSetter(X,"fillRadialGradientEndPointX",0),o.Factory.addGetterSetter(X,"fillRadialGradientEndPointY",0),o.Factory.addGetterSetter(X,"fillPatternRotation",0),o.Factory.addGetterSetter(X,"fillRule",void 0,(0,f.getStringValidator)()),o.Factory.backCompat(X,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"})}(Xg)),Xg}var Qp;function oy(){if(Qp)return hf;Qp=1,Object.defineProperty(hf,"__esModule",{value:!0}),hf.Layer=void 0;const a=mn(),e=G1(),s=bn(),o=ce(),c=z1(),f=fe(),d=In(),p=ne(),v="#",_="beforeDraw",b="draw",T=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],C=T.length;class A extends e.Container{constructor(O){super(O),this.canvas=new c.SceneCanvas,this.hitCanvas=new c.HitCanvas({pixelRatio:1}),this._waitingForDraw=!1,this.on("visibleChange.konva",this._checkVisibility),this._checkVisibility(),this.on("imageSmoothingEnabledChange.konva",this._setSmoothEnabled),this._setSmoothEnabled()}createPNGStream(){return this.canvas._canvas.createPNGStream()}getCanvas(){return this.canvas}getNativeCanvasElement(){return this.canvas._canvas}getHitCanvas(){return this.hitCanvas}getContext(){return this.getCanvas().getContext()}clear(O){return this.getContext().clear(O),this.getHitCanvas().getContext().clear(O),this}setZIndex(O){super.setZIndex(O);const w=this.getStage();return w&&w.content&&(w.content.removeChild(this.getNativeCanvasElement()),O<w.children.length-1?w.content.insertBefore(this.getNativeCanvasElement(),w.children[O+1].getCanvas()._canvas):w.content.appendChild(this.getNativeCanvasElement())),this}moveToTop(){s.Node.prototype.moveToTop.call(this);const O=this.getStage();return O&&O.content&&(O.content.removeChild(this.getNativeCanvasElement()),O.content.appendChild(this.getNativeCanvasElement())),!0}moveUp(){if(!s.Node.prototype.moveUp.call(this))return!1;const w=this.getStage();return!w||!w.content?!1:(w.content.removeChild(this.getNativeCanvasElement()),this.index<w.children.length-1?w.content.insertBefore(this.getNativeCanvasElement(),w.children[this.index+1].getCanvas()._canvas):w.content.appendChild(this.getNativeCanvasElement()),!0)}moveDown(){if(s.Node.prototype.moveDown.call(this)){const O=this.getStage();if(O){const w=O.children;O.content&&(O.content.removeChild(this.getNativeCanvasElement()),O.content.insertBefore(this.getNativeCanvasElement(),w[this.index+1].getCanvas()._canvas))}return!0}return!1}moveToBottom(){if(s.Node.prototype.moveToBottom.call(this)){const O=this.getStage();if(O){const w=O.children;O.content&&(O.content.removeChild(this.getNativeCanvasElement()),O.content.insertBefore(this.getNativeCanvasElement(),w[1].getCanvas()._canvas))}return!0}return!1}getLayer(){return this}remove(){const O=this.getNativeCanvasElement();return s.Node.prototype.remove.call(this),O&&O.parentNode&&a.Util._isInDocument(O)&&O.parentNode.removeChild(O),this}getStage(){return this.parent}setSize({width:O,height:w}){return this.canvas.setSize(O,w),this.hitCanvas.setSize(O,w),this._setSmoothEnabled(),this}_validateAdd(O){const w=O.getType();w!=="Group"&&w!=="Shape"&&a.Util.throw("You may only add groups and shapes to a layer.")}_toKonvaCanvas(O){return O=O||{},O.width=O.width||this.getWidth(),O.height=O.height||this.getHeight(),O.x=O.x!==void 0?O.x:this.x(),O.y=O.y!==void 0?O.y:this.y(),s.Node.prototype._toKonvaCanvas.call(this,O)}_checkVisibility(){this.visible()?this.canvas._canvas.style.display="block":this.canvas._canvas.style.display="none"}_setSmoothEnabled(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()}getWidth(){if(this.parent)return this.parent.width()}setWidth(){a.Util.warn('Can not change width of layer. Use "stage.width(value)" function instead.')}getHeight(){if(this.parent)return this.parent.height()}setHeight(){a.Util.warn('Can not change height of layer. Use "stage.height(value)" function instead.')}batchDraw(){return this._waitingForDraw||(this._waitingForDraw=!0,a.Util.requestAnimFrame(()=>{this.draw(),this._waitingForDraw=!1})),this}getIntersection(O){if(!this.isListening()||!this.isVisible())return null;let w=1,H=!1;for(;;){for(let N=0;N<C;N++){const R=T[N],U=this._getIntersection({x:O.x+R.x*w,y:O.y+R.y*w}),B=U.shape;if(B)return B;if(H=!!U.antialiased,!U.antialiased)break}if(H)w+=1;else return null}}_getIntersection(O){const w=this.hitCanvas.pixelRatio,H=this.hitCanvas.context.getImageData(Math.round(O.x*w),Math.round(O.y*w),1,1).data,N=H[3];if(N===255){const R=a.Util._rgbToHex(H[0],H[1],H[2]),U=d.shapes[v+R];return U?{shape:U}:{antialiased:!0}}else if(N>0)return{antialiased:!0};return{}}drawScene(O,w){const H=this.getLayer(),N=O||H&&H.getCanvas();return this._fire(_,{node:this}),this.clearBeforeDraw()&&N.getContext().clear(),e.Container.prototype.drawScene.call(this,N,w),this._fire(b,{node:this}),this}drawHit(O,w){const H=this.getLayer(),N=O||H&&H.hitCanvas;return H&&H.clearBeforeDraw()&&H.getHitCanvas().getContext().clear(),e.Container.prototype.drawHit.call(this,N,w),this}enableHitGraph(){return this.hitGraphEnabled(!0),this}disableHitGraph(){return this.hitGraphEnabled(!1),this}setHitGraphEnabled(O){a.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening(O)}getHitGraphEnabled(O){return a.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening()}toggleHitCanvas(){if(!this.parent||!this.parent.content)return;const O=this.parent;!!this.hitCanvas._canvas.parentNode?O.content.removeChild(this.hitCanvas._canvas):O.content.appendChild(this.hitCanvas._canvas)}destroy(){return a.Util.releaseCanvas(this.getNativeCanvasElement(),this.getHitCanvas()._canvas),super.destroy()}}return hf.Layer=A,A.prototype.nodeType="Layer",(0,p._registerNode)(A),o.Factory.addGetterSetter(A,"imageSmoothingEnabled",!0),o.Factory.addGetterSetter(A,"clearBeforeDraw",!0),o.Factory.addGetterSetter(A,"hitGraphEnabled",!0,(0,f.getBooleanValidator)()),hf}var ff={},Ip;function g6(){if(Ip)return ff;Ip=1,Object.defineProperty(ff,"__esModule",{value:!0}),ff.FastLayer=void 0;const a=mn(),e=oy(),s=ne();let o=class extends e.Layer{constructor(f){super(f),this.listening(!1),a.Util.warn('Konva.Fast layer is deprecated. Please use "new Konva.Layer({ listening: false })" instead.')}};return ff.FastLayer=o,o.prototype.nodeType="FastLayer",(0,s._registerNode)(o),ff}var df={},Zp;function Q2(){if(Zp)return df;Zp=1,Object.defineProperty(df,"__esModule",{value:!0}),df.Group=void 0;const a=mn(),e=G1(),s=ne();let o=class extends e.Container{_validateAdd(f){const d=f.getType();d!=="Group"&&d!=="Shape"&&a.Util.throw("You may only add groups and shapes to groups.")}};return df.Group=o,o.prototype.nodeType="Group",(0,s._registerNode)(o),df}var gf={},Jp;function I2(){if(Jp)return gf;Jp=1,Object.defineProperty(gf,"__esModule",{value:!0}),gf.Animation=void 0;const a=ne(),e=mn(),s=function(){return a.glob.performance&&a.glob.performance.now?function(){return a.glob.performance.now()}:function(){return new Date().getTime()}}();let o=class pc{constructor(f,d){this.id=pc.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:s(),frameRate:0},this.func=f,this.setLayers(d)}setLayers(f){let d=[];return f&&(d=Array.isArray(f)?f:[f]),this.layers=d,this}getLayers(){return this.layers}addLayer(f){const d=this.layers,p=d.length;for(let v=0;v<p;v++)if(d[v]._id===f._id)return!1;return this.layers.push(f),!0}isRunning(){const d=pc.animations,p=d.length;for(let v=0;v<p;v++)if(d[v].id===this.id)return!0;return!1}start(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=s(),pc._addAnimation(this),this}stop(){return pc._removeAnimation(this),this}_updateFrameObject(f){this.frame.timeDiff=f-this.frame.lastTime,this.frame.lastTime=f,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}static _addAnimation(f){this.animations.push(f),this._handleAnimation()}static _removeAnimation(f){const d=f.id,p=this.animations,v=p.length;for(let _=0;_<v;_++)if(p[_].id===d){this.animations.splice(_,1);break}}static _runFrames(){const f={},d=this.animations;for(let p=0;p<d.length;p++){const v=d[p],_=v.layers,b=v.func;v._updateFrameObject(s());const T=_.length;let C;if(b?C=b.call(v,v.frame)!==!1:C=!0,!!C)for(let A=0;A<T;A++){const E=_[A];E._id!==void 0&&(f[E._id]=E)}}for(const p in f)f.hasOwnProperty(p)&&f[p].batchDraw()}static _animationLoop(){const f=pc;f.animations.length?(f._runFrames(),e.Util.requestAnimFrame(f._animationLoop)):f.animRunning=!1}static _handleAnimation(){this.animRunning||(this.animRunning=!0,e.Util.requestAnimFrame(this._animationLoop))}};return gf.Animation=o,o.animations=[],o.animIdCounter=0,o.animRunning=!1,gf}var Kg={},Wp;function m6(){return Wp||(Wp=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.Easings=a.Tween=void 0;const e=mn(),s=I2(),o=bn(),c=ne(),f={node:1,duration:1,easing:1,onFinish:1,yoyo:1},d=1,p=2,v=3,_=["fill","stroke","shadowColor"];let b=0;class T{constructor(E,O,w,H,N,R,U){this.prop=E,this.propFunc=O,this.begin=H,this._pos=H,this.duration=R,this._change=0,this.prevPos=0,this.yoyo=U,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=w,this._change=N-this.begin,this.pause()}fire(E){const O=this[E];O&&O()}setTime(E){E>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():E<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=E,this.update())}getTime(){return this._time}setPosition(E){this.prevPos=this._pos,this.propFunc(E),this._pos=E}getPosition(E){return E===void 0&&(E=this._time),this.func(E,this.begin,this._change,this.duration)}play(){this.state=p,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")}reverse(){this.state=v,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")}seek(E){this.pause(),this._time=E,this.update(),this.fire("onSeek")}reset(){this.pause(),this._time=0,this.update(),this.fire("onReset")}finish(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")}update(){this.setPosition(this.getPosition(this._time)),this.fire("onUpdate")}onEnterFrame(){const E=this.getTimer()-this._startTime;this.state===p?this.setTime(E):this.state===v&&this.setTime(this.duration-E)}pause(){this.state=d,this.fire("onPause")}getTimer(){return new Date().getTime()}}class C{constructor(E){const O=this,w=E.node,H=w._id,N=E.easing||a.Easings.Linear,R=!!E.yoyo;let U,B;typeof E.duration>"u"?U=.3:E.duration===0?U=.001:U=E.duration,this.node=w,this._id=b++;const k=w.getLayer()||(w instanceof c.Konva.Stage?w.getLayers():null);k||e.Util.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new s.Animation(function(){O.tween.onEnterFrame()},k),this.tween=new T(B,function(J){O._tweenFunc(J)},N,0,1,U*1e3,R),this._addListeners(),C.attrs[H]||(C.attrs[H]={}),C.attrs[H][this._id]||(C.attrs[H][this._id]={}),C.tweens[H]||(C.tweens[H]={});for(B in E)f[B]===void 0&&this._addAttr(B,E[B]);this.reset(),this.onFinish=E.onFinish,this.onReset=E.onReset,this.onUpdate=E.onUpdate}_addAttr(E,O){const w=this.node,H=w._id;let N,R,U,B,k;const J=C.tweens[H][E];J&&delete C.attrs[H][J][E];let X=w.getAttr(E);if(e.Util._isArray(O))if(N=[],R=Math.max(O.length,X.length),E==="points"&&O.length!==X.length&&(O.length>X.length?(B=X,X=e.Util._prepareArrayForTween(X,O,w.closed())):(U=O,O=e.Util._prepareArrayForTween(O,X,w.closed()))),E.indexOf("fill")===0)for(let F=0;F<R;F++)if(F%2===0)N.push(O[F]-X[F]);else{const Y=e.Util.colorToRGBA(X[F]);k=e.Util.colorToRGBA(O[F]),X[F]=Y,N.push({r:k.r-Y.r,g:k.g-Y.g,b:k.b-Y.b,a:k.a-Y.a})}else for(let F=0;F<R;F++)N.push(O[F]-X[F]);else _.indexOf(E)!==-1?(X=e.Util.colorToRGBA(X),k=e.Util.colorToRGBA(O),N={r:k.r-X.r,g:k.g-X.g,b:k.b-X.b,a:k.a-X.a}):N=O-X;C.attrs[H][this._id][E]={start:X,diff:N,end:O,trueEnd:U,trueStart:B},C.tweens[H][E]=this._id}_tweenFunc(E){const O=this.node,w=C.attrs[O._id][this._id];let H,N,R,U,B,k,J,X;for(H in w){if(N=w[H],R=N.start,U=N.diff,X=N.end,e.Util._isArray(R))if(B=[],J=Math.max(R.length,X.length),H.indexOf("fill")===0)for(k=0;k<J;k++)k%2===0?B.push((R[k]||0)+U[k]*E):B.push("rgba("+Math.round(R[k].r+U[k].r*E)+","+Math.round(R[k].g+U[k].g*E)+","+Math.round(R[k].b+U[k].b*E)+","+(R[k].a+U[k].a*E)+")");else for(k=0;k<J;k++)B.push((R[k]||0)+U[k]*E);else _.indexOf(H)!==-1?B="rgba("+Math.round(R.r+U.r*E)+","+Math.round(R.g+U.g*E)+","+Math.round(R.b+U.b*E)+","+(R.a+U.a*E)+")":B=R+U*E;O.setAttr(H,B)}}_addListeners(){this.tween.onPlay=()=>{this.anim.start()},this.tween.onReverse=()=>{this.anim.start()},this.tween.onPause=()=>{this.anim.stop()},this.tween.onFinish=()=>{const E=this.node,O=C.attrs[E._id][this._id];O.points&&O.points.trueEnd&&E.setAttr("points",O.points.trueEnd),this.onFinish&&this.onFinish.call(this)},this.tween.onReset=()=>{const E=this.node,O=C.attrs[E._id][this._id];O.points&&O.points.trueStart&&E.points(O.points.trueStart),this.onReset&&this.onReset()},this.tween.onUpdate=()=>{this.onUpdate&&this.onUpdate.call(this)}}play(){return this.tween.play(),this}reverse(){return this.tween.reverse(),this}reset(){return this.tween.reset(),this}seek(E){return this.tween.seek(E*1e3),this}pause(){return this.tween.pause(),this}finish(){return this.tween.finish(),this}destroy(){const E=this.node._id,O=this._id,w=C.tweens[E];this.pause();for(const H in w)delete C.tweens[E][H];delete C.attrs[E][O]}}a.Tween=C,C.attrs={},C.tweens={},o.Node.prototype.to=function(A){const E=A.onFinish;A.node=this,A.onFinish=function(){this.destroy(),E&&E()},new C(A).play()},a.Easings={BackEaseIn(A,E,O,w){return O*(A/=w)*A*((1.70158+1)*A-1.70158)+E},BackEaseOut(A,E,O,w){return O*((A=A/w-1)*A*((1.70158+1)*A+1.70158)+1)+E},BackEaseInOut(A,E,O,w){let H=1.70158;return(A/=w/2)<1?O/2*(A*A*(((H*=1.525)+1)*A-H))+E:O/2*((A-=2)*A*(((H*=1.525)+1)*A+H)+2)+E},ElasticEaseIn(A,E,O,w,H,N){let R=0;return A===0?E:(A/=w)===1?E+O:(N||(N=w*.3),!H||H<Math.abs(O)?(H=O,R=N/4):R=N/(2*Math.PI)*Math.asin(O/H),-(H*Math.pow(2,10*(A-=1))*Math.sin((A*w-R)*(2*Math.PI)/N))+E)},ElasticEaseOut(A,E,O,w,H,N){let R=0;return A===0?E:(A/=w)===1?E+O:(N||(N=w*.3),!H||H<Math.abs(O)?(H=O,R=N/4):R=N/(2*Math.PI)*Math.asin(O/H),H*Math.pow(2,-10*A)*Math.sin((A*w-R)*(2*Math.PI)/N)+O+E)},ElasticEaseInOut(A,E,O,w,H,N){let R=0;return A===0?E:(A/=w/2)===2?E+O:(N||(N=w*(.3*1.5)),!H||H<Math.abs(O)?(H=O,R=N/4):R=N/(2*Math.PI)*Math.asin(O/H),A<1?-.5*(H*Math.pow(2,10*(A-=1))*Math.sin((A*w-R)*(2*Math.PI)/N))+E:H*Math.pow(2,-10*(A-=1))*Math.sin((A*w-R)*(2*Math.PI)/N)*.5+O+E)},BounceEaseOut(A,E,O,w){return(A/=w)<1/2.75?O*(7.5625*A*A)+E:A<2/2.75?O*(7.5625*(A-=1.5/2.75)*A+.75)+E:A<2.5/2.75?O*(7.5625*(A-=2.25/2.75)*A+.9375)+E:O*(7.5625*(A-=2.625/2.75)*A+.984375)+E},BounceEaseIn(A,E,O,w){return O-a.Easings.BounceEaseOut(w-A,0,O,w)+E},BounceEaseInOut(A,E,O,w){return A<w/2?a.Easings.BounceEaseIn(A*2,0,O,w)*.5+E:a.Easings.BounceEaseOut(A*2-w,0,O,w)*.5+O*.5+E},EaseIn(A,E,O,w){return O*(A/=w)*A+E},EaseOut(A,E,O,w){return-O*(A/=w)*(A-2)+E},EaseInOut(A,E,O,w){return(A/=w/2)<1?O/2*A*A+E:-O/2*(--A*(A-2)-1)+E},StrongEaseIn(A,E,O,w){return O*(A/=w)*A*A*A*A+E},StrongEaseOut(A,E,O,w){return O*((A=A/w-1)*A*A*A*A+1)+E},StrongEaseInOut(A,E,O,w){return(A/=w/2)<1?O/2*A*A*A*A*A+E:O/2*((A-=2)*A*A*A*A+2)+E},Linear(A,E,O,w){return O*A/w+E}}}(Kg)),Kg}var $p;function v2(){return $p||($p=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.Konva=void 0;const e=ne(),s=mn(),o=bn(),c=G1(),f=d6(),d=oy(),p=g6(),v=Q2(),_=P2(),b=In(),T=I2(),C=m6(),A=sy(),E=z1();a.Konva=s.Util._assign(e.Konva,{Util:s.Util,Transform:s.Transform,Node:o.Node,Container:c.Container,Stage:f.Stage,stages:f.stages,Layer:d.Layer,FastLayer:p.FastLayer,Group:v.Group,DD:_.DD,Shape:b.Shape,shapes:b.shapes,Animation:T.Animation,Tween:C.Tween,Easings:C.Easings,Context:A.Context,Canvas:E.Canvas}),a.default=a.Konva}(qg)),qg}var mf={},t_;function p6(){if(t_)return mf;t_=1,Object.defineProperty(mf,"__esModule",{value:!0}),mf.Arc=void 0;const a=ce(),e=In(),s=ne(),o=fe(),c=ne();let f=class extends e.Shape{_sceneFunc(p){const v=s.Konva.getAngle(this.angle()),_=this.clockwise();p.beginPath(),p.arc(0,0,this.outerRadius(),0,v,_),p.arc(0,0,this.innerRadius(),v,0,!_),p.closePath(),p.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(p){this.outerRadius(p/2)}setHeight(p){this.outerRadius(p/2)}getSelfRect(){const p=this.innerRadius(),v=this.outerRadius(),_=this.clockwise(),b=s.Konva.getAngle(_?360-this.angle():this.angle()),T=Math.cos(Math.min(b,Math.PI)),C=1,A=Math.sin(Math.min(Math.max(Math.PI,b),3*Math.PI/2)),E=Math.sin(Math.min(b,Math.PI/2)),O=T*(T>0?p:v),w=C*v,H=A*(A>0?p:v),N=E*(E>0?v:p);return{x:O,y:_?-1*N:H,width:w-O,height:N-H}}};return mf.Arc=f,f.prototype._centroid=!0,f.prototype.className="Arc",f.prototype._attrsAffectingSize=["innerRadius","outerRadius","angle","clockwise"],(0,c._registerNode)(f),a.Factory.addGetterSetter(f,"innerRadius",0,(0,o.getNumberValidator)()),a.Factory.addGetterSetter(f,"outerRadius",0,(0,o.getNumberValidator)()),a.Factory.addGetterSetter(f,"angle",0,(0,o.getNumberValidator)()),a.Factory.addGetterSetter(f,"clockwise",!1,(0,o.getBooleanValidator)()),mf}var pf={},_f={},e_;function uy(){if(e_)return _f;e_=1,Object.defineProperty(_f,"__esModule",{value:!0}),_f.Line=void 0;const a=ce(),e=ne(),s=In(),o=fe();function c(p,v,_,b,T,C,A){const E=Math.sqrt(Math.pow(_-p,2)+Math.pow(b-v,2)),O=Math.sqrt(Math.pow(T-_,2)+Math.pow(C-b,2)),w=A*E/(E+O),H=A*O/(E+O),N=_-w*(T-p),R=b-w*(C-v),U=_+H*(T-p),B=b+H*(C-v);return[N,R,U,B]}function f(p,v){const _=p.length,b=[];for(let T=2;T<_-2;T+=2){const C=c(p[T-2],p[T-1],p[T],p[T+1],p[T+2],p[T+3],v);isNaN(C[0])||(b.push(C[0]),b.push(C[1]),b.push(p[T]),b.push(p[T+1]),b.push(C[2]),b.push(C[3]))}return b}class d extends s.Shape{constructor(v){super(v),this.on("pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva",function(){this._clearCache("tensionPoints")})}_sceneFunc(v){let _=this.points(),b=_.length,T=this.tension(),C=this.closed(),A=this.bezier(),E,O,w;if(b){if(v.beginPath(),v.moveTo(_[0],_[1]),T!==0&&b>4){for(E=this.getTensionPoints(),O=E.length,w=C?0:4,C||v.quadraticCurveTo(E[0],E[1],E[2],E[3]);w<O-2;)v.bezierCurveTo(E[w++],E[w++],E[w++],E[w++],E[w++],E[w++]);C||v.quadraticCurveTo(E[O-2],E[O-1],_[b-2],_[b-1])}else if(A)for(w=2;w<b;)v.bezierCurveTo(_[w++],_[w++],_[w++],_[w++],_[w++],_[w++]);else for(w=2;w<b;w+=2)v.lineTo(_[w],_[w+1]);C?(v.closePath(),v.fillStrokeShape(this)):v.strokeShape(this)}}getTensionPoints(){return this._getCache("tensionPoints",this._getTensionPoints)}_getTensionPoints(){return this.closed()?this._getTensionPointsClosed():f(this.points(),this.tension())}_getTensionPointsClosed(){const v=this.points(),_=v.length,b=this.tension(),T=c(v[_-2],v[_-1],v[0],v[1],v[2],v[3],b),C=c(v[_-4],v[_-3],v[_-2],v[_-1],v[0],v[1],b),A=f(v,b);return[T[2],T[3]].concat(A).concat([C[0],C[1],v[_-2],v[_-1],C[2],C[3],T[0],T[1],v[0],v[1]])}getWidth(){return this.getSelfRect().width}getHeight(){return this.getSelfRect().height}getSelfRect(){let v=this.points();if(v.length<4)return{x:v[0]||0,y:v[1]||0,width:0,height:0};this.tension()!==0?v=[v[0],v[1],...this._getTensionPoints(),v[v.length-2],v[v.length-1]]:v=this.points();let _=v[0],b=v[0],T=v[1],C=v[1],A,E;for(let O=0;O<v.length/2;O++)A=v[O*2],E=v[O*2+1],_=Math.min(_,A),b=Math.max(b,A),T=Math.min(T,E),C=Math.max(C,E);return{x:_,y:T,width:b-_,height:C-T}}}return _f.Line=d,d.prototype.className="Line",d.prototype._attrsAffectingSize=["points","bezier","tension"],(0,e._registerNode)(d),a.Factory.addGetterSetter(d,"closed",!1),a.Factory.addGetterSetter(d,"bezier",!1),a.Factory.addGetterSetter(d,"tension",0,(0,o.getNumberValidator)()),a.Factory.addGetterSetter(d,"points",[],(0,o.getNumberArrayValidator)()),_f}var vf={},Pg={},n_;function _6(){return n_||(n_=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.t2length=a.getQuadraticArcLength=a.getCubicArcLength=a.binomialCoefficients=a.cValues=a.tValues=void 0,a.tValues=[[],[],[-.5773502691896257,.5773502691896257],[0,-.7745966692414834,.7745966692414834],[-.33998104358485626,.33998104358485626,-.8611363115940526,.8611363115940526],[0,-.5384693101056831,.5384693101056831,-.906179845938664,.906179845938664],[.6612093864662645,-.6612093864662645,-.2386191860831969,.2386191860831969,-.932469514203152,.932469514203152],[0,.4058451513773972,-.4058451513773972,-.7415311855993945,.7415311855993945,-.9491079123427585,.9491079123427585],[-.1834346424956498,.1834346424956498,-.525532409916329,.525532409916329,-.7966664774136267,.7966664774136267,-.9602898564975363,.9602898564975363],[0,-.8360311073266358,.8360311073266358,-.9681602395076261,.9681602395076261,-.3242534234038089,.3242534234038089,-.6133714327005904,.6133714327005904],[-.14887433898163122,.14887433898163122,-.4333953941292472,.4333953941292472,-.6794095682990244,.6794095682990244,-.8650633666889845,.8650633666889845,-.9739065285171717,.9739065285171717],[0,-.26954315595234496,.26954315595234496,-.5190961292068118,.5190961292068118,-.7301520055740494,.7301520055740494,-.8870625997680953,.8870625997680953,-.978228658146057,.978228658146057],[-.1252334085114689,.1252334085114689,-.3678314989981802,.3678314989981802,-.5873179542866175,.5873179542866175,-.7699026741943047,.7699026741943047,-.9041172563704749,.9041172563704749,-.9815606342467192,.9815606342467192],[0,-.2304583159551348,.2304583159551348,-.44849275103644687,.44849275103644687,-.6423493394403402,.6423493394403402,-.8015780907333099,.8015780907333099,-.9175983992229779,.9175983992229779,-.9841830547185881,.9841830547185881],[-.10805494870734367,.10805494870734367,-.31911236892788974,.31911236892788974,-.5152486363581541,.5152486363581541,-.6872929048116855,.6872929048116855,-.827201315069765,.827201315069765,-.9284348836635735,.9284348836635735,-.9862838086968123,.9862838086968123],[0,-.20119409399743451,.20119409399743451,-.3941513470775634,.3941513470775634,-.5709721726085388,.5709721726085388,-.7244177313601701,.7244177313601701,-.8482065834104272,.8482065834104272,-.937273392400706,.937273392400706,-.9879925180204854,.9879925180204854],[-.09501250983763744,.09501250983763744,-.2816035507792589,.2816035507792589,-.45801677765722737,.45801677765722737,-.6178762444026438,.6178762444026438,-.755404408355003,.755404408355003,-.8656312023878318,.8656312023878318,-.9445750230732326,.9445750230732326,-.9894009349916499,.9894009349916499],[0,-.17848418149584785,.17848418149584785,-.3512317634538763,.3512317634538763,-.5126905370864769,.5126905370864769,-.6576711592166907,.6576711592166907,-.7815140038968014,.7815140038968014,-.8802391537269859,.8802391537269859,-.9506755217687678,.9506755217687678,-.9905754753144174,.9905754753144174],[-.0847750130417353,.0847750130417353,-.2518862256915055,.2518862256915055,-.41175116146284263,.41175116146284263,-.5597708310739475,.5597708310739475,-.6916870430603532,.6916870430603532,-.8037049589725231,.8037049589725231,-.8926024664975557,.8926024664975557,-.9558239495713977,.9558239495713977,-.9915651684209309,.9915651684209309],[0,-.16035864564022537,.16035864564022537,-.31656409996362983,.31656409996362983,-.46457074137596094,.46457074137596094,-.600545304661681,.600545304661681,-.7209661773352294,.7209661773352294,-.8227146565371428,.8227146565371428,-.9031559036148179,.9031559036148179,-.96020815213483,.96020815213483,-.9924068438435844,.9924068438435844],[-.07652652113349734,.07652652113349734,-.22778585114164507,.22778585114164507,-.37370608871541955,.37370608871541955,-.5108670019508271,.5108670019508271,-.636053680726515,.636053680726515,-.7463319064601508,.7463319064601508,-.8391169718222188,.8391169718222188,-.912234428251326,.912234428251326,-.9639719272779138,.9639719272779138,-.9931285991850949,.9931285991850949],[0,-.1455618541608951,.1455618541608951,-.2880213168024011,.2880213168024011,-.4243421202074388,.4243421202074388,-.5516188358872198,.5516188358872198,-.6671388041974123,.6671388041974123,-.7684399634756779,.7684399634756779,-.8533633645833173,.8533633645833173,-.9200993341504008,.9200993341504008,-.9672268385663063,.9672268385663063,-.9937521706203895,.9937521706203895],[-.06973927331972223,.06973927331972223,-.20786042668822127,.20786042668822127,-.34193582089208424,.34193582089208424,-.469355837986757,.469355837986757,-.5876404035069116,.5876404035069116,-.6944872631866827,.6944872631866827,-.7878168059792081,.7878168059792081,-.8658125777203002,.8658125777203002,-.926956772187174,.926956772187174,-.9700604978354287,.9700604978354287,-.9942945854823992,.9942945854823992],[0,-.1332568242984661,.1332568242984661,-.26413568097034495,.26413568097034495,-.3903010380302908,.3903010380302908,-.5095014778460075,.5095014778460075,-.6196098757636461,.6196098757636461,-.7186613631319502,.7186613631319502,-.8048884016188399,.8048884016188399,-.8767523582704416,.8767523582704416,-.9329710868260161,.9329710868260161,-.9725424712181152,.9725424712181152,-.9947693349975522,.9947693349975522],[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213]],a.cValues=[[],[],[1,1],[.8888888888888888,.5555555555555556,.5555555555555556],[.6521451548625461,.6521451548625461,.34785484513745385,.34785484513745385],[.5688888888888889,.47862867049936647,.47862867049936647,.23692688505618908,.23692688505618908],[.3607615730481386,.3607615730481386,.46791393457269104,.46791393457269104,.17132449237917036,.17132449237917036],[.4179591836734694,.3818300505051189,.3818300505051189,.27970539148927664,.27970539148927664,.1294849661688697,.1294849661688697],[.362683783378362,.362683783378362,.31370664587788727,.31370664587788727,.22238103445337448,.22238103445337448,.10122853629037626,.10122853629037626],[.3302393550012598,.1806481606948574,.1806481606948574,.08127438836157441,.08127438836157441,.31234707704000286,.31234707704000286,.26061069640293544,.26061069640293544],[.29552422471475287,.29552422471475287,.26926671930999635,.26926671930999635,.21908636251598204,.21908636251598204,.1494513491505806,.1494513491505806,.06667134430868814,.06667134430868814],[.2729250867779006,.26280454451024665,.26280454451024665,.23319376459199048,.23319376459199048,.18629021092773426,.18629021092773426,.1255803694649046,.1255803694649046,.05566856711617366,.05566856711617366],[.24914704581340277,.24914704581340277,.2334925365383548,.2334925365383548,.20316742672306592,.20316742672306592,.16007832854334622,.16007832854334622,.10693932599531843,.10693932599531843,.04717533638651183,.04717533638651183],[.2325515532308739,.22628318026289723,.22628318026289723,.2078160475368885,.2078160475368885,.17814598076194574,.17814598076194574,.13887351021978725,.13887351021978725,.09212149983772845,.09212149983772845,.04048400476531588,.04048400476531588],[.2152638534631578,.2152638534631578,.2051984637212956,.2051984637212956,.18553839747793782,.18553839747793782,.15720316715819355,.15720316715819355,.12151857068790319,.12151857068790319,.08015808715976021,.08015808715976021,.03511946033175186,.03511946033175186],[.2025782419255613,.19843148532711158,.19843148532711158,.1861610000155622,.1861610000155622,.16626920581699392,.16626920581699392,.13957067792615432,.13957067792615432,.10715922046717194,.10715922046717194,.07036604748810812,.07036604748810812,.03075324199611727,.03075324199611727],[.1894506104550685,.1894506104550685,.18260341504492358,.18260341504492358,.16915651939500254,.16915651939500254,.14959598881657674,.14959598881657674,.12462897125553388,.12462897125553388,.09515851168249279,.09515851168249279,.062253523938647894,.062253523938647894,.027152459411754096,.027152459411754096],[.17944647035620653,.17656270536699264,.17656270536699264,.16800410215645004,.16800410215645004,.15404576107681028,.15404576107681028,.13513636846852548,.13513636846852548,.11188384719340397,.11188384719340397,.08503614831717918,.08503614831717918,.0554595293739872,.0554595293739872,.02414830286854793,.02414830286854793],[.1691423829631436,.1691423829631436,.16427648374583273,.16427648374583273,.15468467512626524,.15468467512626524,.14064291467065065,.14064291467065065,.12255520671147846,.12255520671147846,.10094204410628717,.10094204410628717,.07642573025488905,.07642573025488905,.0497145488949698,.0497145488949698,.02161601352648331,.02161601352648331],[.1610544498487837,.15896884339395434,.15896884339395434,.15276604206585967,.15276604206585967,.1426067021736066,.1426067021736066,.12875396253933621,.12875396253933621,.11156664554733399,.11156664554733399,.09149002162245,.09149002162245,.06904454273764123,.06904454273764123,.0448142267656996,.0448142267656996,.019461788229726478,.019461788229726478],[.15275338713072584,.15275338713072584,.14917298647260374,.14917298647260374,.14209610931838204,.14209610931838204,.13168863844917664,.13168863844917664,.11819453196151841,.11819453196151841,.10193011981724044,.10193011981724044,.08327674157670475,.08327674157670475,.06267204833410907,.06267204833410907,.04060142980038694,.04060142980038694,.017614007139152118,.017614007139152118],[.14608113364969041,.14452440398997005,.14452440398997005,.13988739479107315,.13988739479107315,.13226893863333747,.13226893863333747,.12183141605372853,.12183141605372853,.10879729916714838,.10879729916714838,.09344442345603386,.09344442345603386,.0761001136283793,.0761001136283793,.057134425426857205,.057134425426857205,.036953789770852494,.036953789770852494,.016017228257774335,.016017228257774335],[.13925187285563198,.13925187285563198,.13654149834601517,.13654149834601517,.13117350478706238,.13117350478706238,.12325237681051242,.12325237681051242,.11293229608053922,.11293229608053922,.10041414444288096,.10041414444288096,.08594160621706773,.08594160621706773,.06979646842452049,.06979646842452049,.052293335152683286,.052293335152683286,.03377490158481415,.03377490158481415,.0146279952982722,.0146279952982722],[.13365457218610619,.1324620394046966,.1324620394046966,.12890572218808216,.12890572218808216,.12304908430672953,.12304908430672953,.11499664022241136,.11499664022241136,.10489209146454141,.10489209146454141,.09291576606003515,.09291576606003515,.07928141177671895,.07928141177671895,.06423242140852585,.06423242140852585,.04803767173108467,.04803767173108467,.030988005856979445,.030988005856979445,.013411859487141771,.013411859487141771],[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872]],a.binomialCoefficients=[[1],[1,1],[1,2,1],[1,3,3,1]];const e=(d,p,v)=>{let _,b;const C=v/2;_=0;for(let A=0;A<20;A++)b=C*a.tValues[20][A]+C,_+=a.cValues[20][A]*o(d,p,b);return C*_};a.getCubicArcLength=e;const s=(d,p,v)=>{v===void 0&&(v=1);const _=d[0]-2*d[1]+d[2],b=p[0]-2*p[1]+p[2],T=2*d[1]-2*d[0],C=2*p[1]-2*p[0],A=4*(_*_+b*b),E=4*(_*T+b*C),O=T*T+C*C;if(A===0)return v*Math.sqrt(Math.pow(d[2]-d[0],2)+Math.pow(p[2]-p[0],2));const w=E/(2*A),H=O/A,N=v+w,R=H-w*w,U=N*N+R>0?Math.sqrt(N*N+R):0,B=w*w+R>0?Math.sqrt(w*w+R):0,k=w+Math.sqrt(w*w+R)!==0?R*Math.log(Math.abs((N+U)/(w+B))):0;return Math.sqrt(A)/2*(N*U-w*B+k)};a.getQuadraticArcLength=s;function o(d,p,v){const _=c(1,v,d),b=c(1,v,p),T=_*_+b*b;return Math.sqrt(T)}const c=(d,p,v)=>{const _=v.length-1;let b,T;if(_===0)return 0;if(d===0){T=0;for(let C=0;C<=_;C++)T+=a.binomialCoefficients[_][C]*Math.pow(1-p,_-C)*Math.pow(p,C)*v[C];return T}else{b=new Array(_);for(let C=0;C<_;C++)b[C]=_*(v[C+1]-v[C]);return c(d-1,p,b)}},f=(d,p,v)=>{let _=1,b=d/p,T=(d-v(b))/p,C=0;for(;_>.001;){const A=v(b+T),E=Math.abs(d-A)/p;if(E<_)_=E,b+=T;else{const O=v(b-T),w=Math.abs(d-O)/p;w<_?(_=w,b-=T):T/=2}if(C++,C>500)break}return b};a.t2length=f}(Pg)),Pg}var i_;function Z2(){if(i_)return vf;i_=1,Object.defineProperty(vf,"__esModule",{value:!0}),vf.Path=void 0;const a=ce(),e=In(),s=ne(),o=_6();class c extends e.Shape{constructor(d){super(d),this.dataArray=[],this.pathLength=0,this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute()})}_readDataAttribute(){this.dataArray=c.parsePathData(this.data()),this.pathLength=c.getPathLength(this.dataArray)}_sceneFunc(d){const p=this.dataArray;d.beginPath();let v=!1;for(let U=0;U<p.length;U++){const B=p[U].command,k=p[U].points;switch(B){case"L":d.lineTo(k[0],k[1]);break;case"M":d.moveTo(k[0],k[1]);break;case"C":d.bezierCurveTo(k[0],k[1],k[2],k[3],k[4],k[5]);break;case"Q":d.quadraticCurveTo(k[0],k[1],k[2],k[3]);break;case"A":var _=k[0],b=k[1],T=k[2],C=k[3],A=k[4],E=k[5],O=k[6],w=k[7],H=T>C?T:C,N=T>C?1:T/C,R=T>C?C/T:1;d.translate(_,b),d.rotate(O),d.scale(N,R),d.arc(0,0,H,A,A+E,1-w),d.scale(1/N,1/R),d.rotate(-O),d.translate(-_,-b);break;case"z":v=!0,d.closePath();break}}!v&&!this.hasFill()?d.strokeShape(this):d.fillStrokeShape(this)}getSelfRect(){let d=[];this.dataArray.forEach(function(A){if(A.command==="A"){const E=A.points[4],O=A.points[5],w=A.points[4]+O;let H=Math.PI/180;if(Math.abs(E-w)<H&&(H=Math.abs(E-w)),O<0)for(let N=E-H;N>w;N-=H){const R=c.getPointOnEllipticalArc(A.points[0],A.points[1],A.points[2],A.points[3],N,0);d.push(R.x,R.y)}else for(let N=E+H;N<w;N+=H){const R=c.getPointOnEllipticalArc(A.points[0],A.points[1],A.points[2],A.points[3],N,0);d.push(R.x,R.y)}}else if(A.command==="C")for(let E=0;E<=1;E+=.01){const O=c.getPointOnCubicBezier(E,A.start.x,A.start.y,A.points[0],A.points[1],A.points[2],A.points[3],A.points[4],A.points[5]);d.push(O.x,O.y)}else d=d.concat(A.points)});let p=d[0],v=d[0],_=d[1],b=d[1],T,C;for(let A=0;A<d.length/2;A++)T=d[A*2],C=d[A*2+1],isNaN(T)||(p=Math.min(p,T),v=Math.max(v,T)),isNaN(C)||(_=Math.min(_,C),b=Math.max(b,C));return{x:p,y:_,width:v-p,height:b-_}}getLength(){return this.pathLength}getPointAtLength(d){return c.getPointAtLengthOfDataArray(d,this.dataArray)}static getLineLength(d,p,v,_){return Math.sqrt((v-d)*(v-d)+(_-p)*(_-p))}static getPathLength(d){let p=0;for(let v=0;v<d.length;++v)p+=d[v].pathLength;return p}static getPointAtLengthOfDataArray(d,p){let v,_=0,b=p.length;if(!b)return null;for(;_<b&&d>p[_].pathLength;)d-=p[_].pathLength,++_;if(_===b)return v=p[_-1].points.slice(-2),{x:v[0],y:v[1]};if(d<.01)return v=p[_].points.slice(0,2),{x:v[0],y:v[1]};const T=p[_],C=T.points;switch(T.command){case"L":return c.getPointOnLine(d,T.start.x,T.start.y,C[0],C[1]);case"C":return c.getPointOnCubicBezier((0,o.t2length)(d,c.getPathLength(p),U=>(0,o.getCubicArcLength)([T.start.x,C[0],C[2],C[4]],[T.start.y,C[1],C[3],C[5]],U)),T.start.x,T.start.y,C[0],C[1],C[2],C[3],C[4],C[5]);case"Q":return c.getPointOnQuadraticBezier((0,o.t2length)(d,c.getPathLength(p),U=>(0,o.getQuadraticArcLength)([T.start.x,C[0],C[2]],[T.start.y,C[1],C[3]],U)),T.start.x,T.start.y,C[0],C[1],C[2],C[3]);case"A":var A=C[0],E=C[1],O=C[2],w=C[3],H=C[4],N=C[5],R=C[6];return H+=N*d/T.pathLength,c.getPointOnEllipticalArc(A,E,O,w,H,R)}return null}static getPointOnLine(d,p,v,_,b,T,C){T=T??p,C=C??v;const A=this.getLineLength(p,v,_,b);if(A<1e-10)return{x:p,y:v};if(_===p)return{x:T,y:C+(b>v?d:-d)};const E=(b-v)/(_-p),O=Math.sqrt(d*d/(1+E*E))*(_<p?-1:1),w=E*O;if(Math.abs(C-v-E*(T-p))<1e-10)return{x:T+O,y:C+w};const H=((T-p)*(_-p)+(C-v)*(b-v))/(A*A),N=p+H*(_-p),R=v+H*(b-v),U=this.getLineLength(T,C,N,R),B=Math.sqrt(d*d-U*U),k=Math.sqrt(B*B/(1+E*E))*(_<p?-1:1),J=E*k;return{x:N+k,y:R+J}}static getPointOnCubicBezier(d,p,v,_,b,T,C,A,E){function O(B){return B*B*B}function w(B){return 3*B*B*(1-B)}function H(B){return 3*B*(1-B)*(1-B)}function N(B){return(1-B)*(1-B)*(1-B)}const R=A*O(d)+T*w(d)+_*H(d)+p*N(d),U=E*O(d)+C*w(d)+b*H(d)+v*N(d);return{x:R,y:U}}static getPointOnQuadraticBezier(d,p,v,_,b,T,C){function A(N){return N*N}function E(N){return 2*N*(1-N)}function O(N){return(1-N)*(1-N)}const w=T*A(d)+_*E(d)+p*O(d),H=C*A(d)+b*E(d)+v*O(d);return{x:w,y:H}}static getPointOnEllipticalArc(d,p,v,_,b,T){const C=Math.cos(T),A=Math.sin(T),E={x:v*Math.cos(b),y:_*Math.sin(b)};return{x:d+(E.x*C-E.y*A),y:p+(E.x*A+E.y*C)}}static parsePathData(d){if(!d)return[];let p=d;const v=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];p=p.replace(new RegExp(" ","g"),",");for(var _=0;_<v.length;_++)p=p.replace(new RegExp(v[_],"g"),"|"+v[_]);const b=p.split("|"),T=[],C=[];let A=0,E=0;const O=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi;let w;for(_=1;_<b.length;_++){let x=b[_],V=x.charAt(0);for(x=x.slice(1),C.length=0;w=O.exec(x);)C.push(w[0]);const G=[];for(let D=0,L=C.length;D<L;D++){if(C[D]==="00"){G.push(0,0);continue}const Q=parseFloat(C[D]);isNaN(Q)?G.push(0):G.push(Q)}for(;G.length>0&&!isNaN(G[0]);){let D="",L=[];const Q=A,et=E;var H,N,R,U,B,k,J,X,F,Y;switch(V){case"l":A+=G.shift(),E+=G.shift(),D="L",L.push(A,E);break;case"L":A=G.shift(),E=G.shift(),L.push(A,E);break;case"m":var P=G.shift(),tt=G.shift();if(A+=P,E+=tt,D="M",T.length>2&&T[T.length-1].command==="z"){for(let q=T.length-2;q>=0;q--)if(T[q].command==="M"){A=T[q].points[0]+P,E=T[q].points[1]+tt;break}}L.push(A,E),V="l";break;case"M":A=G.shift(),E=G.shift(),D="M",L.push(A,E),V="L";break;case"h":A+=G.shift(),D="L",L.push(A,E);break;case"H":A=G.shift(),D="L",L.push(A,E);break;case"v":E+=G.shift(),D="L",L.push(A,E);break;case"V":E=G.shift(),D="L",L.push(A,E);break;case"C":L.push(G.shift(),G.shift(),G.shift(),G.shift()),A=G.shift(),E=G.shift(),L.push(A,E);break;case"c":L.push(A+G.shift(),E+G.shift(),A+G.shift(),E+G.shift()),A+=G.shift(),E+=G.shift(),D="C",L.push(A,E);break;case"S":N=A,R=E,H=T[T.length-1],H.command==="C"&&(N=A+(A-H.points[2]),R=E+(E-H.points[3])),L.push(N,R,G.shift(),G.shift()),A=G.shift(),E=G.shift(),D="C",L.push(A,E);break;case"s":N=A,R=E,H=T[T.length-1],H.command==="C"&&(N=A+(A-H.points[2]),R=E+(E-H.points[3])),L.push(N,R,A+G.shift(),E+G.shift()),A+=G.shift(),E+=G.shift(),D="C",L.push(A,E);break;case"Q":L.push(G.shift(),G.shift()),A=G.shift(),E=G.shift(),L.push(A,E);break;case"q":L.push(A+G.shift(),E+G.shift()),A+=G.shift(),E+=G.shift(),D="Q",L.push(A,E);break;case"T":N=A,R=E,H=T[T.length-1],H.command==="Q"&&(N=A+(A-H.points[0]),R=E+(E-H.points[1])),A=G.shift(),E=G.shift(),D="Q",L.push(N,R,A,E);break;case"t":N=A,R=E,H=T[T.length-1],H.command==="Q"&&(N=A+(A-H.points[0]),R=E+(E-H.points[1])),A+=G.shift(),E+=G.shift(),D="Q",L.push(N,R,A,E);break;case"A":U=G.shift(),B=G.shift(),k=G.shift(),J=G.shift(),X=G.shift(),F=A,Y=E,A=G.shift(),E=G.shift(),D="A",L=this.convertEndpointToCenterParameterization(F,Y,A,E,J,X,U,B,k);break;case"a":U=G.shift(),B=G.shift(),k=G.shift(),J=G.shift(),X=G.shift(),F=A,Y=E,A+=G.shift(),E+=G.shift(),D="A",L=this.convertEndpointToCenterParameterization(F,Y,A,E,J,X,U,B,k);break}T.push({command:D||V,points:L,start:{x:Q,y:et},pathLength:this.calcLength(Q,et,D||V,L)})}(V==="z"||V==="Z")&&T.push({command:"z",points:[],start:void 0,pathLength:0})}return T}static calcLength(d,p,v,_){let b,T,C,A;const E=c;switch(v){case"L":return E.getLineLength(d,p,_[0],_[1]);case"C":return(0,o.getCubicArcLength)([d,_[0],_[2],_[4]],[p,_[1],_[3],_[5]],1);case"Q":return(0,o.getQuadraticArcLength)([d,_[0],_[2]],[p,_[1],_[3]],1);case"A":b=0;var O=_[4],w=_[5],H=_[4]+w,N=Math.PI/180;if(Math.abs(O-H)<N&&(N=Math.abs(O-H)),T=E.getPointOnEllipticalArc(_[0],_[1],_[2],_[3],O,0),w<0)for(A=O-N;A>H;A-=N)C=E.getPointOnEllipticalArc(_[0],_[1],_[2],_[3],A,0),b+=E.getLineLength(T.x,T.y,C.x,C.y),T=C;else for(A=O+N;A<H;A+=N)C=E.getPointOnEllipticalArc(_[0],_[1],_[2],_[3],A,0),b+=E.getLineLength(T.x,T.y,C.x,C.y),T=C;return C=E.getPointOnEllipticalArc(_[0],_[1],_[2],_[3],H,0),b+=E.getLineLength(T.x,T.y,C.x,C.y),b}return 0}static convertEndpointToCenterParameterization(d,p,v,_,b,T,C,A,E){const O=E*(Math.PI/180),w=Math.cos(O)*(d-v)/2+Math.sin(O)*(p-_)/2,H=-1*Math.sin(O)*(d-v)/2+Math.cos(O)*(p-_)/2,N=w*w/(C*C)+H*H/(A*A);N>1&&(C*=Math.sqrt(N),A*=Math.sqrt(N));let R=Math.sqrt((C*C*(A*A)-C*C*(H*H)-A*A*(w*w))/(C*C*(H*H)+A*A*(w*w)));b===T&&(R*=-1),isNaN(R)&&(R=0);const U=R*C*H/A,B=R*-A*w/C,k=(d+v)/2+Math.cos(O)*U-Math.sin(O)*B,J=(p+_)/2+Math.sin(O)*U+Math.cos(O)*B,X=function(G){return Math.sqrt(G[0]*G[0]+G[1]*G[1])},F=function(G,D){return(G[0]*D[0]+G[1]*D[1])/(X(G)*X(D))},Y=function(G,D){return(G[0]*D[1]<G[1]*D[0]?-1:1)*Math.acos(F(G,D))},P=Y([1,0],[(w-U)/C,(H-B)/A]),tt=[(w-U)/C,(H-B)/A],x=[(-1*w-U)/C,(-1*H-B)/A];let V=Y(tt,x);return F(tt,x)<=-1&&(V=Math.PI),F(tt,x)>=1&&(V=0),T===0&&V>0&&(V=V-2*Math.PI),T===1&&V<0&&(V=V+2*Math.PI),[k,J,C,A,P,V,O,T]}}return vf.Path=c,c.prototype.className="Path",c.prototype._attrsAffectingSize=["data"],(0,s._registerNode)(c),a.Factory.addGetterSetter(c,"data"),vf}var a_;function v6(){if(a_)return pf;a_=1,Object.defineProperty(pf,"__esModule",{value:!0}),pf.Arrow=void 0;const a=ce(),e=uy(),s=fe(),o=ne(),c=Z2();let f=class extends e.Line{_sceneFunc(p){super._sceneFunc(p);const v=Math.PI*2,_=this.points();let b=_;const T=this.tension()!==0&&_.length>4;T&&(b=this.getTensionPoints());const C=this.pointerLength(),A=_.length;let E,O;if(T){const N=[b[b.length-4],b[b.length-3],b[b.length-2],b[b.length-1],_[A-2],_[A-1]],R=c.Path.calcLength(b[b.length-4],b[b.length-3],"C",N),U=c.Path.getPointOnQuadraticBezier(Math.min(1,1-C/R),N[0],N[1],N[2],N[3],N[4],N[5]);E=_[A-2]-U.x,O=_[A-1]-U.y}else E=_[A-2]-_[A-4],O=_[A-1]-_[A-3];const w=(Math.atan2(O,E)+v)%v,H=this.pointerWidth();this.pointerAtEnding()&&(p.save(),p.beginPath(),p.translate(_[A-2],_[A-1]),p.rotate(w),p.moveTo(0,0),p.lineTo(-C,H/2),p.lineTo(-C,-H/2),p.closePath(),p.restore(),this.__fillStroke(p)),this.pointerAtBeginning()&&(p.save(),p.beginPath(),p.translate(_[0],_[1]),T?(E=(b[0]+b[2])/2-_[0],O=(b[1]+b[3])/2-_[1]):(E=_[2]-_[0],O=_[3]-_[1]),p.rotate((Math.atan2(-O,-E)+v)%v),p.moveTo(0,0),p.lineTo(-C,H/2),p.lineTo(-C,-H/2),p.closePath(),p.restore(),this.__fillStroke(p))}__fillStroke(p){const v=this.dashEnabled();v&&(this.attrs.dashEnabled=!1,p.setLineDash([])),p.fillStrokeShape(this),v&&(this.attrs.dashEnabled=!0)}getSelfRect(){const p=super.getSelfRect(),v=this.pointerWidth()/2;return{x:p.x,y:p.y-v,width:p.width,height:p.height+v*2}}};return pf.Arrow=f,f.prototype.className="Arrow",(0,o._registerNode)(f),a.Factory.addGetterSetter(f,"pointerLength",10,(0,s.getNumberValidator)()),a.Factory.addGetterSetter(f,"pointerWidth",10,(0,s.getNumberValidator)()),a.Factory.addGetterSetter(f,"pointerAtBeginning",!1),a.Factory.addGetterSetter(f,"pointerAtEnding",!0),pf}var yf={},l_;function y6(){if(l_)return yf;l_=1,Object.defineProperty(yf,"__esModule",{value:!0}),yf.Circle=void 0;const a=ce(),e=In(),s=fe(),o=ne();let c=class extends e.Shape{_sceneFunc(d){d.beginPath(),d.arc(0,0,this.attrs.radius||0,0,Math.PI*2,!1),d.closePath(),d.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(d){this.radius()!==d/2&&this.radius(d/2)}setHeight(d){this.radius()!==d/2&&this.radius(d/2)}};return yf.Circle=c,c.prototype._centroid=!0,c.prototype.className="Circle",c.prototype._attrsAffectingSize=["radius"],(0,o._registerNode)(c),a.Factory.addGetterSetter(c,"radius",0,(0,s.getNumberValidator)()),yf}var Sf={},s_;function S6(){if(s_)return Sf;s_=1,Object.defineProperty(Sf,"__esModule",{value:!0}),Sf.Ellipse=void 0;const a=ce(),e=In(),s=fe(),o=ne();let c=class extends e.Shape{_sceneFunc(d){const p=this.radiusX(),v=this.radiusY();d.beginPath(),d.save(),p!==v&&d.scale(1,v/p),d.arc(0,0,p,0,Math.PI*2,!1),d.restore(),d.closePath(),d.fillStrokeShape(this)}getWidth(){return this.radiusX()*2}getHeight(){return this.radiusY()*2}setWidth(d){this.radiusX(d/2)}setHeight(d){this.radiusY(d/2)}};return Sf.Ellipse=c,c.prototype.className="Ellipse",c.prototype._centroid=!0,c.prototype._attrsAffectingSize=["radiusX","radiusY"],(0,o._registerNode)(c),a.Factory.addComponentsGetterSetter(c,"radius",["x","y"]),a.Factory.addGetterSetter(c,"radiusX",0,(0,s.getNumberValidator)()),a.Factory.addGetterSetter(c,"radiusY",0,(0,s.getNumberValidator)()),Sf}var bf={},r_;function b6(){if(r_)return bf;r_=1,Object.defineProperty(bf,"__esModule",{value:!0}),bf.Image=void 0;const a=mn(),e=ce(),s=In(),o=ne(),c=fe();let f=class cy extends s.Shape{constructor(p){super(p),this._loadListener=()=>{this._requestDraw()},this.on("imageChange.konva",v=>{this._removeImageLoad(v.oldVal),this._setImageLoad()}),this._setImageLoad()}_setImageLoad(){const p=this.image();p&&p.complete||p&&p.readyState===4||p&&p.addEventListener&&p.addEventListener("load",this._loadListener)}_removeImageLoad(p){p&&p.removeEventListener&&p.removeEventListener("load",this._loadListener)}destroy(){return this._removeImageLoad(this.image()),super.destroy(),this}_useBufferCanvas(){const p=!!this.cornerRadius(),v=this.hasShadow();return p&&v?!0:super._useBufferCanvas(!0)}_sceneFunc(p){const v=this.getWidth(),_=this.getHeight(),b=this.cornerRadius(),T=this.attrs.image;let C;if(T){const A=this.attrs.cropWidth,E=this.attrs.cropHeight;A&&E?C=[T,this.cropX(),this.cropY(),A,E,0,0,v,_]:C=[T,0,0,v,_]}(this.hasFill()||this.hasStroke()||b)&&(p.beginPath(),b?a.Util.drawRoundedRectPath(p,v,_,b):p.rect(0,0,v,_),p.closePath(),p.fillStrokeShape(this)),T&&(b&&p.clip(),p.drawImage.apply(p,C))}_hitFunc(p){const v=this.width(),_=this.height(),b=this.cornerRadius();p.beginPath(),b?a.Util.drawRoundedRectPath(p,v,_,b):p.rect(0,0,v,_),p.closePath(),p.fillStrokeShape(this)}getWidth(){var p,v;return(p=this.attrs.width)!==null&&p!==void 0?p:(v=this.image())===null||v===void 0?void 0:v.width}getHeight(){var p,v;return(p=this.attrs.height)!==null&&p!==void 0?p:(v=this.image())===null||v===void 0?void 0:v.height}static fromURL(p,v,_=null){const b=a.Util.createImageElement();b.onload=function(){const T=new cy({image:b});v(T)},b.onerror=_,b.crossOrigin="Anonymous",b.src=p}};return bf.Image=f,f.prototype.className="Image",(0,o._registerNode)(f),e.Factory.addGetterSetter(f,"cornerRadius",0,(0,c.getNumberOrArrayOfNumbersValidator)(4)),e.Factory.addGetterSetter(f,"image"),e.Factory.addComponentsGetterSetter(f,"crop",["x","y","width","height"]),e.Factory.addGetterSetter(f,"cropX",0,(0,c.getNumberValidator)()),e.Factory.addGetterSetter(f,"cropY",0,(0,c.getNumberValidator)()),e.Factory.addGetterSetter(f,"cropWidth",0,(0,c.getNumberValidator)()),e.Factory.addGetterSetter(f,"cropHeight",0,(0,c.getNumberValidator)()),bf}var Io={},o_;function E6(){if(o_)return Io;o_=1,Object.defineProperty(Io,"__esModule",{value:!0}),Io.Tag=Io.Label=void 0;const a=ce(),e=In(),s=Q2(),o=fe(),c=ne(),f=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width","height","pointerDirection","pointerWidth","pointerHeight"],d="Change.konva",p="none",v="up",_="right",b="down",T="left",C=f.length;let A=class extends s.Group{constructor(w){super(w),this.on("add.konva",function(H){this._addListeners(H.child),this._sync()})}getText(){return this.find("Text")[0]}getTag(){return this.find("Tag")[0]}_addListeners(w){let H=this,N;const R=function(){H._sync()};for(N=0;N<C;N++)w.on(f[N]+d,R)}getWidth(){return this.getText().width()}getHeight(){return this.getText().height()}_sync(){let w=this.getText(),H=this.getTag(),N,R,U,B,k,J,X;if(w&&H){switch(N=w.width(),R=w.height(),U=H.pointerDirection(),B=H.pointerWidth(),X=H.pointerHeight(),k=0,J=0,U){case v:k=N/2,J=-1*X;break;case _:k=N+B,J=R/2;break;case b:k=N/2,J=R+X;break;case T:k=-1*B,J=R/2;break}H.setAttrs({x:-1*k,y:-1*J,width:N,height:R}),w.setAttrs({x:-1*k,y:-1*J})}}};Io.Label=A,A.prototype.className="Label",(0,c._registerNode)(A);class E extends e.Shape{_sceneFunc(w){const H=this.width(),N=this.height(),R=this.pointerDirection(),U=this.pointerWidth(),B=this.pointerHeight(),k=this.cornerRadius();let J=0,X=0,F=0,Y=0;typeof k=="number"?J=X=F=Y=Math.min(k,H/2,N/2):(J=Math.min(k[0]||0,H/2,N/2),X=Math.min(k[1]||0,H/2,N/2),Y=Math.min(k[2]||0,H/2,N/2),F=Math.min(k[3]||0,H/2,N/2)),w.beginPath(),w.moveTo(J,0),R===v&&(w.lineTo((H-U)/2,0),w.lineTo(H/2,-1*B),w.lineTo((H+U)/2,0)),w.lineTo(H-X,0),w.arc(H-X,X,X,Math.PI*3/2,0,!1),R===_&&(w.lineTo(H,(N-B)/2),w.lineTo(H+U,N/2),w.lineTo(H,(N+B)/2)),w.lineTo(H,N-Y),w.arc(H-Y,N-Y,Y,0,Math.PI/2,!1),R===b&&(w.lineTo((H+U)/2,N),w.lineTo(H/2,N+B),w.lineTo((H-U)/2,N)),w.lineTo(F,N),w.arc(F,N-F,F,Math.PI/2,Math.PI,!1),R===T&&(w.lineTo(0,(N+B)/2),w.lineTo(-1*U,N/2),w.lineTo(0,(N-B)/2)),w.lineTo(0,J),w.arc(J,J,J,Math.PI,Math.PI*3/2,!1),w.closePath(),w.fillStrokeShape(this)}getSelfRect(){let w=0,H=0,N=this.pointerWidth(),R=this.pointerHeight(),U=this.pointerDirection(),B=this.width(),k=this.height();return U===v?(H-=R,k+=R):U===b?k+=R:U===T?(w-=N*1.5,B+=N):U===_&&(B+=N*1.5),{x:w,y:H,width:B,height:k}}}return Io.Tag=E,E.prototype.className="Tag",(0,c._registerNode)(E),a.Factory.addGetterSetter(E,"pointerDirection",p),a.Factory.addGetterSetter(E,"pointerWidth",0,(0,o.getNumberValidator)()),a.Factory.addGetterSetter(E,"pointerHeight",0,(0,o.getNumberValidator)()),a.Factory.addGetterSetter(E,"cornerRadius",0,(0,o.getNumberOrArrayOfNumbersValidator)(4)),Io}var Ef={},u_;function hy(){if(u_)return Ef;u_=1,Object.defineProperty(Ef,"__esModule",{value:!0}),Ef.Rect=void 0;const a=ce(),e=In(),s=ne(),o=mn(),c=fe();class f extends e.Shape{_sceneFunc(p){const v=this.cornerRadius(),_=this.width(),b=this.height();p.beginPath(),v?o.Util.drawRoundedRectPath(p,_,b,v):p.rect(0,0,_,b),p.closePath(),p.fillStrokeShape(this)}}return Ef.Rect=f,f.prototype.className="Rect",(0,s._registerNode)(f),a.Factory.addGetterSetter(f,"cornerRadius",0,(0,c.getNumberOrArrayOfNumbersValidator)(4)),Ef}var Cf={},c_;function C6(){if(c_)return Cf;c_=1,Object.defineProperty(Cf,"__esModule",{value:!0}),Cf.RegularPolygon=void 0;const a=ce(),e=In(),s=fe(),o=ne();let c=class extends e.Shape{_sceneFunc(d){const p=this._getPoints();d.beginPath(),d.moveTo(p[0].x,p[0].y);for(let v=1;v<p.length;v++)d.lineTo(p[v].x,p[v].y);d.closePath(),d.fillStrokeShape(this)}_getPoints(){const d=this.attrs.sides,p=this.attrs.radius||0,v=[];for(let _=0;_<d;_++)v.push({x:p*Math.sin(_*2*Math.PI/d),y:-1*p*Math.cos(_*2*Math.PI/d)});return v}getSelfRect(){const d=this._getPoints();let p=d[0].x,v=d[0].y,_=d[0].x,b=d[0].y;return d.forEach(T=>{p=Math.min(p,T.x),v=Math.max(v,T.x),_=Math.min(_,T.y),b=Math.max(b,T.y)}),{x:p,y:_,width:v-p,height:b-_}}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(d){this.radius(d/2)}setHeight(d){this.radius(d/2)}};return Cf.RegularPolygon=c,c.prototype.className="RegularPolygon",c.prototype._centroid=!0,c.prototype._attrsAffectingSize=["radius"],(0,o._registerNode)(c),a.Factory.addGetterSetter(c,"radius",0,(0,s.getNumberValidator)()),a.Factory.addGetterSetter(c,"sides",0,(0,s.getNumberValidator)()),Cf}var Tf={},h_;function T6(){if(h_)return Tf;h_=1,Object.defineProperty(Tf,"__esModule",{value:!0}),Tf.Ring=void 0;const a=ce(),e=In(),s=fe(),o=ne(),c=Math.PI*2;let f=class extends e.Shape{_sceneFunc(p){p.beginPath(),p.arc(0,0,this.innerRadius(),0,c,!1),p.moveTo(this.outerRadius(),0),p.arc(0,0,this.outerRadius(),c,0,!0),p.closePath(),p.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(p){this.outerRadius(p/2)}setHeight(p){this.outerRadius(p/2)}};return Tf.Ring=f,f.prototype.className="Ring",f.prototype._centroid=!0,f.prototype._attrsAffectingSize=["innerRadius","outerRadius"],(0,o._registerNode)(f),a.Factory.addGetterSetter(f,"innerRadius",0,(0,s.getNumberValidator)()),a.Factory.addGetterSetter(f,"outerRadius",0,(0,s.getNumberValidator)()),Tf}var Af={},f_;function A6(){if(f_)return Af;f_=1,Object.defineProperty(Af,"__esModule",{value:!0}),Af.Sprite=void 0;const a=ce(),e=In(),s=I2(),o=fe(),c=ne();let f=class extends e.Shape{constructor(p){super(p),this._updated=!0,this.anim=new s.Animation(()=>{const v=this._updated;return this._updated=!1,v}),this.on("animationChange.konva",function(){this.frameIndex(0)}),this.on("frameIndexChange.konva",function(){this._updated=!0}),this.on("frameRateChange.konva",function(){this.anim.isRunning()&&(clearInterval(this.interval),this._setInterval())})}_sceneFunc(p){const v=this.animation(),_=this.frameIndex(),b=_*4,T=this.animations()[v],C=this.frameOffsets(),A=T[b+0],E=T[b+1],O=T[b+2],w=T[b+3],H=this.image();if((this.hasFill()||this.hasStroke())&&(p.beginPath(),p.rect(0,0,O,w),p.closePath(),p.fillStrokeShape(this)),H)if(C){const N=C[v],R=_*2;p.drawImage(H,A,E,O,w,N[R+0],N[R+1],O,w)}else p.drawImage(H,A,E,O,w,0,0,O,w)}_hitFunc(p){const v=this.animation(),_=this.frameIndex(),b=_*4,T=this.animations()[v],C=this.frameOffsets(),A=T[b+2],E=T[b+3];if(p.beginPath(),C){const O=C[v],w=_*2;p.rect(O[w+0],O[w+1],A,E)}else p.rect(0,0,A,E);p.closePath(),p.fillShape(this)}_useBufferCanvas(){return super._useBufferCanvas(!0)}_setInterval(){const p=this;this.interval=setInterval(function(){p._updateIndex()},1e3/this.frameRate())}start(){if(this.isRunning())return;const p=this.getLayer();this.anim.setLayers(p),this._setInterval(),this.anim.start()}stop(){this.anim.stop(),clearInterval(this.interval)}isRunning(){return this.anim.isRunning()}_updateIndex(){const p=this.frameIndex(),v=this.animation(),_=this.animations(),b=_[v],T=b.length/4;p<T-1?this.frameIndex(p+1):this.frameIndex(0)}};return Af.Sprite=f,f.prototype.className="Sprite",(0,c._registerNode)(f),a.Factory.addGetterSetter(f,"animation"),a.Factory.addGetterSetter(f,"animations"),a.Factory.addGetterSetter(f,"frameOffsets"),a.Factory.addGetterSetter(f,"image"),a.Factory.addGetterSetter(f,"frameIndex",0,(0,o.getNumberValidator)()),a.Factory.addGetterSetter(f,"frameRate",17,(0,o.getNumberValidator)()),a.Factory.backCompat(f,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"}),Af}var Rf={},d_;function R6(){if(d_)return Rf;d_=1,Object.defineProperty(Rf,"__esModule",{value:!0}),Rf.Star=void 0;const a=ce(),e=In(),s=fe(),o=ne();let c=class extends e.Shape{_sceneFunc(d){const p=this.innerRadius(),v=this.outerRadius(),_=this.numPoints();d.beginPath(),d.moveTo(0,0-v);for(let b=1;b<_*2;b++){const T=b%2===0?v:p,C=T*Math.sin(b*Math.PI/_),A=-1*T*Math.cos(b*Math.PI/_);d.lineTo(C,A)}d.closePath(),d.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(d){this.outerRadius(d/2)}setHeight(d){this.outerRadius(d/2)}};return Rf.Star=c,c.prototype.className="Star",c.prototype._centroid=!0,c.prototype._attrsAffectingSize=["innerRadius","outerRadius"],(0,o._registerNode)(c),a.Factory.addGetterSetter(c,"numPoints",5,(0,s.getNumberValidator)()),a.Factory.addGetterSetter(c,"innerRadius",0,(0,s.getNumberValidator)()),a.Factory.addGetterSetter(c,"outerRadius",0,(0,s.getNumberValidator)()),Rf}var gc={},g_;function fy(){if(g_)return gc;g_=1,Object.defineProperty(gc,"__esModule",{value:!0}),gc.Text=void 0,gc.stringToArray=d;const a=mn(),e=ce(),s=In(),o=ne(),c=fe(),f=ne();function d(ft){return[...ft].reduce((nt,ut,yt,Et)=>{if(new RegExp("\\p{Emoji}","u").test(ut)){const W=Et[yt+1];W&&new RegExp("\\p{Emoji_Modifier}|\\u200D","u").test(W)?(nt.push(ut+W),Et[yt+1]=""):nt.push(ut)}else new RegExp("\\p{Regional_Indicator}{2}","u").test(ut+(Et[yt+1]||""))?nt.push(ut+Et[yt+1]):yt>0&&new RegExp("\\p{Mn}|\\p{Me}|\\p{Mc}","u").test(ut)?nt[nt.length-1]+=ut:ut&&nt.push(ut);return nt},[])}const p="auto",v="center",_="inherit",b="justify",T="Change.konva",C="2d",A="-",E="left",O="text",w="Text",H="top",N="bottom",R="middle",U="normal",B="px ",k=" ",J="right",X="rtl",F="word",Y="char",P="none",tt="…",x=["direction","fontFamily","fontSize","fontStyle","fontVariant","padding","align","verticalAlign","lineHeight","text","width","height","wrap","ellipsis","letterSpacing"],V=x.length;function G(ft){return ft.split(",").map(nt=>{nt=nt.trim();const ut=nt.indexOf(" ")>=0,yt=nt.indexOf('"')>=0||nt.indexOf("'")>=0;return ut&&!yt&&(nt=`"${nt}"`),nt}).join(", ")}let D;function L(){return D||(D=a.Util.createCanvasElement().getContext(C),D)}function Q(ft){ft.fillText(this._partialText,this._partialTextX,this._partialTextY)}function et(ft){ft.setAttr("miterLimit",2),ft.strokeText(this._partialText,this._partialTextX,this._partialTextY)}function q(ft){return ft=ft||{},!ft.fillLinearGradientColorStops&&!ft.fillRadialGradientColorStops&&!ft.fillPatternImage&&(ft.fill=ft.fill||"black"),ft}let $=class extends s.Shape{constructor(nt){super(q(nt)),this._partialTextX=0,this._partialTextY=0;for(let ut=0;ut<V;ut++)this.on(x[ut]+T,this._setTextData);this._setTextData()}_sceneFunc(nt){const ut=this.textArr,yt=ut.length;if(!this.text())return;let Et=this.padding(),W=this.fontSize(),rt=this.lineHeight()*W,Ct=this.verticalAlign(),Rt=this.direction(),Mt=0,xt=this.align(),te=this.getWidth(),re=this.letterSpacing(),Xt=this.fill(),on=this.textDecoration(),kt=on.indexOf("underline")!==-1,Be=on.indexOf("line-through")!==-1,Li;Rt=Rt===_?nt.direction:Rt;let Le=rt/2,Zn=R;if(o.Konva._fixTextRendering){const Sa=this.measureSize("M");Zn="alphabetic",Le=(Sa.fontBoundingBoxAscent-Sa.fontBoundingBoxDescent)/2+rt/2}var qe=0,qn=0;for(Rt===X&&nt.setAttr("direction",Rt),nt.setAttr("font",this._getContextFont()),nt.setAttr("textBaseline",Zn),nt.setAttr("textAlign",E),Ct===R?Mt=(this.getHeight()-yt*rt-Et*2)/2:Ct===N&&(Mt=this.getHeight()-yt*rt-Et*2),nt.translate(Et,Mt+Et),Li=0;Li<yt;Li++){var qe=0,qn=0,bi=ut[Li],qi=bi.text,un=bi.width,Ve=bi.lastInParagraph,En,Ze;if(nt.save(),xt===J?qe+=te-un-Et*2:xt===v&&(qe+=(te-un-Et*2)/2),kt){nt.save(),nt.beginPath();const Jn=o.Konva._fixTextRendering?Math.round(W/4):Math.round(W/2),ke=qe,Xe=Le+qn+Jn;nt.moveTo(ke,Xe),En=qi.split(" ").length-1,Ze=xt===b&&!Ve?te-Et*2:un,nt.lineTo(ke+Math.round(Ze),Xe),nt.lineWidth=W/15;const Wn=this._getLinearGradient();nt.strokeStyle=Wn||Xt,nt.stroke(),nt.restore()}if(Be){nt.save(),nt.beginPath();const Jn=o.Konva._fixTextRendering?-Math.round(W/4):0;nt.moveTo(qe,Le+qn+Jn),En=qi.split(" ").length-1,Ze=xt===b&&!Ve?te-Et*2:un,nt.lineTo(qe+Math.round(Ze),Le+qn+Jn),nt.lineWidth=W/15;const ke=this._getLinearGradient();nt.strokeStyle=ke||Xt,nt.stroke(),nt.restore()}if(Rt!==X&&(re!==0||xt===b)){En=qi.split(" ").length-1;const Jn=d(qi);for(let ke=0;ke<Jn.length;ke++){const Xe=Jn[ke];Xe===" "&&!Ve&&xt===b&&(qe+=(te-Et*2-un)/En),this._partialTextX=qe,this._partialTextY=Le+qn,this._partialText=Xe,nt.fillStrokeShape(this),qe+=this.measureSize(Xe).width+re}}else re!==0&&nt.setAttr("letterSpacing",`${re}px`),this._partialTextX=qe,this._partialTextY=Le+qn,this._partialText=qi,nt.fillStrokeShape(this);nt.restore(),yt>1&&(Le+=rt)}}_hitFunc(nt){const ut=this.getWidth(),yt=this.getHeight();nt.beginPath(),nt.rect(0,0,ut,yt),nt.closePath(),nt.fillStrokeShape(this)}setText(nt){const ut=a.Util._isString(nt)?nt:nt==null?"":nt+"";return this._setAttr(O,ut),this}getWidth(){return this.attrs.width===p||this.attrs.width===void 0?this.getTextWidth()+this.padding()*2:this.attrs.width}getHeight(){return this.attrs.height===p||this.attrs.height===void 0?this.fontSize()*this.textArr.length*this.lineHeight()+this.padding()*2:this.attrs.height}getTextWidth(){return this.textWidth}getTextHeight(){return a.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}measureSize(nt){var ut,yt,Et,W,rt,Ct,Rt,Mt,xt,te,re;let Xt=L(),on=this.fontSize(),kt;Xt.save(),Xt.font=this._getContextFont(),kt=Xt.measureText(nt),Xt.restore();const Be=on/100;return{actualBoundingBoxAscent:(ut=kt.actualBoundingBoxAscent)!==null&&ut!==void 0?ut:71.58203125*Be,actualBoundingBoxDescent:(yt=kt.actualBoundingBoxDescent)!==null&&yt!==void 0?yt:0,actualBoundingBoxLeft:(Et=kt.actualBoundingBoxLeft)!==null&&Et!==void 0?Et:-7.421875*Be,actualBoundingBoxRight:(W=kt.actualBoundingBoxRight)!==null&&W!==void 0?W:75.732421875*Be,alphabeticBaseline:(rt=kt.alphabeticBaseline)!==null&&rt!==void 0?rt:0,emHeightAscent:(Ct=kt.emHeightAscent)!==null&&Ct!==void 0?Ct:100*Be,emHeightDescent:(Rt=kt.emHeightDescent)!==null&&Rt!==void 0?Rt:-20*Be,fontBoundingBoxAscent:(Mt=kt.fontBoundingBoxAscent)!==null&&Mt!==void 0?Mt:91*Be,fontBoundingBoxDescent:(xt=kt.fontBoundingBoxDescent)!==null&&xt!==void 0?xt:21*Be,hangingBaseline:(te=kt.hangingBaseline)!==null&&te!==void 0?te:72.80000305175781*Be,ideographicBaseline:(re=kt.ideographicBaseline)!==null&&re!==void 0?re:-21*Be,width:kt.width,height:on}}_getContextFont(){return this.fontStyle()+k+this.fontVariant()+k+(this.fontSize()+B)+G(this.fontFamily())}_addTextLine(nt){this.align()===b&&(nt=nt.trim());const yt=this._getTextWidth(nt);return this.textArr.push({text:nt,width:yt,lastInParagraph:!1})}_getTextWidth(nt){const ut=this.letterSpacing(),yt=nt.length;return L().measureText(nt).width+ut*yt}_setTextData(){let nt=this.text().split(`
`),ut=+this.fontSize(),yt=0,Et=this.lineHeight()*ut,W=this.attrs.width,rt=this.attrs.height,Ct=W!==p&&W!==void 0,Rt=rt!==p&&rt!==void 0,Mt=this.padding(),xt=W-Mt*2,te=rt-Mt*2,re=0,Xt=this.wrap(),on=Xt!==P,kt=Xt!==Y&&on,Be=this.ellipsis();this.textArr=[],L().font=this._getContextFont();const Li=Be?this._getTextWidth(tt):0;for(let Le=0,Zn=nt.length;Le<Zn;++Le){let qe=nt[Le],qn=this._getTextWidth(qe);if(Ct&&qn>xt)for(;qe.length>0;){let bi=0,qi=d(qe).length,un="",Ve=0;for(;bi<qi;){const En=bi+qi>>>1,Ze=d(qe),Sa=Ze.slice(0,En+1).join(""),Vi=this._getTextWidth(Sa);(Be&&Rt&&re+Et>te?Vi+Li:Vi)<=xt?(bi=En+1,un=Sa,Ve=Vi):qi=En}if(un){if(kt){const Sa=d(qe),Vi=d(un),Jn=Sa[Vi.length],ke=Jn===k||Jn===A;let Xe;if(ke&&Ve<=xt)Xe=Vi.length;else{const Wn=Vi.lastIndexOf(k),Sl=Vi.lastIndexOf(A);Xe=Math.max(Wn,Sl)+1}Xe>0&&(bi=Xe,un=Sa.slice(0,bi).join(""),Ve=this._getTextWidth(un))}if(un=un.trimRight(),this._addTextLine(un),yt=Math.max(yt,Ve),re+=Et,this._shouldHandleEllipsis(re)){this._tryToAddEllipsisToLastLine();break}if(qe=d(qe).slice(bi).join("").trimLeft(),qe.length>0&&(qn=this._getTextWidth(qe),qn<=xt)){this._addTextLine(qe),re+=Et,yt=Math.max(yt,qn);break}}else break}else this._addTextLine(qe),re+=Et,yt=Math.max(yt,qn),this._shouldHandleEllipsis(re)&&Le<Zn-1&&this._tryToAddEllipsisToLastLine();if(this.textArr[this.textArr.length-1]&&(this.textArr[this.textArr.length-1].lastInParagraph=!0),Rt&&re+Et>te)break}this.textHeight=ut,this.textWidth=yt}_shouldHandleEllipsis(nt){const ut=+this.fontSize(),yt=this.lineHeight()*ut,Et=this.attrs.height,W=Et!==p&&Et!==void 0,rt=this.padding(),Ct=Et-rt*2;return!(this.wrap()!==P)||W&&nt+yt>Ct}_tryToAddEllipsisToLastLine(){const nt=this.attrs.width,ut=nt!==p&&nt!==void 0,yt=this.padding(),Et=nt-yt*2,W=this.ellipsis(),rt=this.textArr[this.textArr.length-1];!rt||!W||(ut&&(this._getTextWidth(rt.text+tt)<Et||(rt.text=rt.text.slice(0,rt.text.length-3))),this.textArr.splice(this.textArr.length-1,1),this._addTextLine(rt.text+tt))}getStrokeScaleEnabled(){return!0}_useBufferCanvas(){const nt=this.textDecoration().indexOf("underline")!==-1||this.textDecoration().indexOf("line-through")!==-1,ut=this.hasShadow();return nt&&ut?!0:super._useBufferCanvas()}};return gc.Text=$,$.prototype._fillFunc=Q,$.prototype._strokeFunc=et,$.prototype.className=w,$.prototype._attrsAffectingSize=["text","fontSize","padding","wrap","lineHeight","letterSpacing"],(0,f._registerNode)($),e.Factory.overWriteSetter($,"width",(0,c.getNumberOrAutoValidator)()),e.Factory.overWriteSetter($,"height",(0,c.getNumberOrAutoValidator)()),e.Factory.addGetterSetter($,"direction",_),e.Factory.addGetterSetter($,"fontFamily","Arial"),e.Factory.addGetterSetter($,"fontSize",12,(0,c.getNumberValidator)()),e.Factory.addGetterSetter($,"fontStyle",U),e.Factory.addGetterSetter($,"fontVariant",U),e.Factory.addGetterSetter($,"padding",0,(0,c.getNumberValidator)()),e.Factory.addGetterSetter($,"align",E),e.Factory.addGetterSetter($,"verticalAlign",H),e.Factory.addGetterSetter($,"lineHeight",1,(0,c.getNumberValidator)()),e.Factory.addGetterSetter($,"wrap",F),e.Factory.addGetterSetter($,"ellipsis",!1,(0,c.getBooleanValidator)()),e.Factory.addGetterSetter($,"letterSpacing",0,(0,c.getNumberValidator)()),e.Factory.addGetterSetter($,"text","",(0,c.getStringValidator)()),e.Factory.addGetterSetter($,"textDecoration",""),gc}var Nf={},m_;function N6(){if(m_)return Nf;m_=1,Object.defineProperty(Nf,"__esModule",{value:!0}),Nf.TextPath=void 0;const a=mn(),e=ce(),s=In(),o=Z2(),c=fy(),f=fe(),d=ne(),p="",v="normal";function _(C){C.fillText(this.partialText,0,0)}function b(C){C.strokeText(this.partialText,0,0)}let T=class extends s.Shape{constructor(A){super(A),this.dummyCanvas=a.Util.createCanvasElement(),this.dataArray=[],this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute(),this._setTextData()}),this.on("textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva fontSizeChange.konva fontFamilyChange.konva",this._setTextData),this._setTextData()}_getTextPathLength(){return o.Path.getPathLength(this.dataArray)}_getPointAtLength(A){if(!this.attrs.data)return null;const E=this.pathLength;return A-1>E?null:o.Path.getPointAtLengthOfDataArray(A,this.dataArray)}_readDataAttribute(){this.dataArray=o.Path.parsePathData(this.attrs.data),this.pathLength=this._getTextPathLength()}_sceneFunc(A){A.setAttr("font",this._getContextFont()),A.setAttr("textBaseline",this.textBaseline()),A.setAttr("textAlign","left"),A.save();const E=this.textDecoration(),O=this.fill(),w=this.fontSize(),H=this.glyphInfo;E==="underline"&&A.beginPath();for(let N=0;N<H.length;N++){A.save();const R=H[N].p0;A.translate(R.x,R.y),A.rotate(H[N].rotation),this.partialText=H[N].text,A.fillStrokeShape(this),E==="underline"&&(N===0&&A.moveTo(0,w/2+1),A.lineTo(w,w/2+1)),A.restore()}E==="underline"&&(A.strokeStyle=O,A.lineWidth=w/20,A.stroke()),A.restore()}_hitFunc(A){A.beginPath();const E=this.glyphInfo;if(E.length>=1){const O=E[0].p0;A.moveTo(O.x,O.y)}for(let O=0;O<E.length;O++){const w=E[O].p1;A.lineTo(w.x,w.y)}A.setAttr("lineWidth",this.fontSize()),A.setAttr("strokeStyle",this.colorKey),A.stroke()}getTextWidth(){return this.textWidth}getTextHeight(){return a.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}setText(A){return c.Text.prototype.setText.call(this,A)}_getContextFont(){return c.Text.prototype._getContextFont.call(this)}_getTextSize(A){const O=this.dummyCanvas.getContext("2d");O.save(),O.font=this._getContextFont();const w=O.measureText(A);return O.restore(),{width:w.width,height:parseInt(`${this.fontSize()}`,10)}}_setTextData(){const{width:A,height:E}=this._getTextSize(this.attrs.text);if(this.textWidth=A,this.textHeight=E,this.glyphInfo=[],!this.attrs.data)return null;const O=this.letterSpacing(),w=this.align(),H=this.kerningFunc(),N=Math.max(this.textWidth+((this.attrs.text||"").length-1)*O,0);let R=0;w==="center"&&(R=Math.max(0,this.pathLength/2-N/2)),w==="right"&&(R=Math.max(0,this.pathLength-N));const U=(0,c.stringToArray)(this.text());let B=R;for(let k=0;k<U.length;k++){const J=this._getPointAtLength(B);if(!J)return;let X=this._getTextSize(U[k]).width+O;if(U[k]===" "&&w==="justify"){const V=this.text().split(" ").length-1;X+=(this.pathLength-N)/V}const F=this._getPointAtLength(B+X);if(!F)return;const Y=o.Path.getLineLength(J.x,J.y,F.x,F.y);let P=0;if(H)try{P=H(U[k-1],U[k])*this.fontSize()}catch{P=0}J.x+=P,F.x+=P,this.textWidth+=P;const tt=o.Path.getPointOnLine(P+Y/2,J.x,J.y,F.x,F.y),x=Math.atan2(F.y-J.y,F.x-J.x);this.glyphInfo.push({transposeX:tt.x,transposeY:tt.y,text:U[k],rotation:x,p0:J,p1:F}),B+=X}}getSelfRect(){if(!this.glyphInfo.length)return{x:0,y:0,width:0,height:0};const A=[];this.glyphInfo.forEach(function(B){A.push(B.p0.x),A.push(B.p0.y),A.push(B.p1.x),A.push(B.p1.y)});let E=A[0]||0,O=A[0]||0,w=A[1]||0,H=A[1]||0,N,R;for(let B=0;B<A.length/2;B++)N=A[B*2],R=A[B*2+1],E=Math.min(E,N),O=Math.max(O,N),w=Math.min(w,R),H=Math.max(H,R);const U=this.fontSize();return{x:E-U/2,y:w-U/2,width:O-E+U,height:H-w+U}}destroy(){return a.Util.releaseCanvas(this.dummyCanvas),super.destroy()}};return Nf.TextPath=T,T.prototype._fillFunc=_,T.prototype._strokeFunc=b,T.prototype._fillFuncHit=_,T.prototype._strokeFuncHit=b,T.prototype.className="TextPath",T.prototype._attrsAffectingSize=["text","fontSize","data"],(0,d._registerNode)(T),e.Factory.addGetterSetter(T,"data"),e.Factory.addGetterSetter(T,"fontFamily","Arial"),e.Factory.addGetterSetter(T,"fontSize",12,(0,f.getNumberValidator)()),e.Factory.addGetterSetter(T,"fontStyle",v),e.Factory.addGetterSetter(T,"align","left"),e.Factory.addGetterSetter(T,"letterSpacing",0,(0,f.getNumberValidator)()),e.Factory.addGetterSetter(T,"textBaseline","middle"),e.Factory.addGetterSetter(T,"fontVariant",v),e.Factory.addGetterSetter(T,"text",p),e.Factory.addGetterSetter(T,"textDecoration",""),e.Factory.addGetterSetter(T,"kerningFunc",void 0),Nf}var Mf={},p_;function M6(){if(p_)return Mf;p_=1,Object.defineProperty(Mf,"__esModule",{value:!0}),Mf.Transformer=void 0;const a=mn(),e=ce(),s=bn(),o=In(),c=hy(),f=Q2(),d=ne(),p=fe(),v=ne(),_="tr-konva",b=["resizeEnabledChange","rotateAnchorOffsetChange","rotateEnabledChange","enabledAnchorsChange","anchorSizeChange","borderEnabledChange","borderStrokeChange","borderStrokeWidthChange","borderDashChange","anchorStrokeChange","anchorStrokeWidthChange","anchorFillChange","anchorCornerRadiusChange","ignoreStrokeChange","anchorStyleFuncChange"].map(X=>X+`.${_}`).join(" "),T="nodesRect",C=["widthChange","heightChange","scaleXChange","scaleYChange","skewXChange","skewYChange","rotationChange","offsetXChange","offsetYChange","transformsEnabledChange","strokeWidthChange"],A={"top-left":-45,"top-center":0,"top-right":45,"middle-right":-90,"middle-left":90,"bottom-left":-135,"bottom-center":180,"bottom-right":135},E="ontouchstart"in d.Konva._global;function O(X,F,Y){if(X==="rotater")return Y;F+=a.Util.degToRad(A[X]||0);const P=(a.Util.radToDeg(F)%360+360)%360;return a.Util._inRange(P,315+22.5,360)||a.Util._inRange(P,0,22.5)?"ns-resize":a.Util._inRange(P,45-22.5,45+22.5)?"nesw-resize":a.Util._inRange(P,90-22.5,90+22.5)?"ew-resize":a.Util._inRange(P,135-22.5,135+22.5)?"nwse-resize":a.Util._inRange(P,180-22.5,180+22.5)?"ns-resize":a.Util._inRange(P,225-22.5,225+22.5)?"nesw-resize":a.Util._inRange(P,270-22.5,270+22.5)?"ew-resize":a.Util._inRange(P,315-22.5,315+22.5)?"nwse-resize":(a.Util.error("Transformer has unknown angle for cursor detection: "+P),"pointer")}const w=["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"];function H(X){return{x:X.x+X.width/2*Math.cos(X.rotation)+X.height/2*Math.sin(-X.rotation),y:X.y+X.height/2*Math.cos(X.rotation)+X.width/2*Math.sin(X.rotation)}}function N(X,F,Y){const P=Y.x+(X.x-Y.x)*Math.cos(F)-(X.y-Y.y)*Math.sin(F),tt=Y.y+(X.x-Y.x)*Math.sin(F)+(X.y-Y.y)*Math.cos(F);return{...X,rotation:X.rotation+F,x:P,y:tt}}function R(X,F){const Y=H(X);return N(X,F,Y)}function U(X,F,Y){let P=F;for(let tt=0;tt<X.length;tt++){const x=d.Konva.getAngle(X[tt]),V=Math.abs(x-F)%(Math.PI*2);Math.min(V,Math.PI*2-V)<Y&&(P=x)}return P}let B=0,k=class extends f.Group{constructor(F){super(F),this._movingAnchorName=null,this._transforming=!1,this._createElements(),this._handleMouseMove=this._handleMouseMove.bind(this),this._handleMouseUp=this._handleMouseUp.bind(this),this.update=this.update.bind(this),this.on(b,this.update),this.getNode()&&this.update()}attachTo(F){return this.setNode(F),this}setNode(F){return a.Util.warn("tr.setNode(shape), tr.node(shape) and tr.attachTo(shape) methods are deprecated. Please use tr.nodes(nodesArray) instead."),this.setNodes([F])}getNode(){return this._nodes&&this._nodes[0]}_getEventNamespace(){return _+this._id}setNodes(F=[]){this._nodes&&this._nodes.length&&this.detach();const Y=F.filter(tt=>tt.isAncestorOf(this)?(a.Util.error("Konva.Transformer cannot be an a child of the node you are trying to attach"),!1):!0);return this._nodes=F=Y,F.length===1&&this.useSingleNodeRotation()?this.rotation(F[0].getAbsoluteRotation()):this.rotation(0),this._nodes.forEach(tt=>{const x=()=>{this.nodes().length===1&&this.useSingleNodeRotation()&&this.rotation(this.nodes()[0].getAbsoluteRotation()),this._resetTransformCache(),!this._transforming&&!this.isDragging()&&this.update()};if(tt._attrsAffectingSize.length){const V=tt._attrsAffectingSize.map(G=>G+"Change."+this._getEventNamespace()).join(" ");tt.on(V,x)}tt.on(C.map(V=>V+`.${this._getEventNamespace()}`).join(" "),x),tt.on(`absoluteTransformChange.${this._getEventNamespace()}`,x),this._proxyDrag(tt)}),this._resetTransformCache(),!!this.findOne(".top-left")&&this.update(),this}_proxyDrag(F){let Y;F.on(`dragstart.${this._getEventNamespace()}`,P=>{Y=F.getAbsolutePosition(),!this.isDragging()&&F!==this.findOne(".back")&&this.startDrag(P,!1)}),F.on(`dragmove.${this._getEventNamespace()}`,P=>{if(!Y)return;const tt=F.getAbsolutePosition(),x=tt.x-Y.x,V=tt.y-Y.y;this.nodes().forEach(G=>{if(G===F||G.isDragging())return;const D=G.getAbsolutePosition();G.setAbsolutePosition({x:D.x+x,y:D.y+V}),G.startDrag(P)}),Y=null})}getNodes(){return this._nodes||[]}getActiveAnchor(){return this._movingAnchorName}detach(){this._nodes&&this._nodes.forEach(F=>{F.off("."+this._getEventNamespace())}),this._nodes=[],this._resetTransformCache()}_resetTransformCache(){this._clearCache(T),this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")}_getNodeRect(){return this._getCache(T,this.__getNodeRect)}__getNodeShape(F,Y=this.rotation(),P){const tt=F.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),x=F.getAbsoluteScale(P),V=F.getAbsolutePosition(P),G=tt.x*x.x-F.offsetX()*x.x,D=tt.y*x.y-F.offsetY()*x.y,L=(d.Konva.getAngle(F.getAbsoluteRotation())+Math.PI*2)%(Math.PI*2),Q={x:V.x+G*Math.cos(L)+D*Math.sin(-L),y:V.y+D*Math.cos(L)+G*Math.sin(L),width:tt.width*x.x,height:tt.height*x.y,rotation:L};return N(Q,-d.Konva.getAngle(Y),{x:0,y:0})}__getNodeRect(){if(!this.getNode())return{x:-1e8,y:-1e8,width:0,height:0,rotation:0};const Y=[];this.nodes().map(L=>{const Q=L.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),et=[{x:Q.x,y:Q.y},{x:Q.x+Q.width,y:Q.y},{x:Q.x+Q.width,y:Q.y+Q.height},{x:Q.x,y:Q.y+Q.height}],q=L.getAbsoluteTransform();et.forEach(function($){const ft=q.point($);Y.push(ft)})});const P=new a.Transform;P.rotate(-d.Konva.getAngle(this.rotation()));let tt=1/0,x=1/0,V=-1/0,G=-1/0;Y.forEach(function(L){const Q=P.point(L);tt===void 0&&(tt=V=Q.x,x=G=Q.y),tt=Math.min(tt,Q.x),x=Math.min(x,Q.y),V=Math.max(V,Q.x),G=Math.max(G,Q.y)}),P.invert();const D=P.point({x:tt,y:x});return{x:D.x,y:D.y,width:V-tt,height:G-x,rotation:d.Konva.getAngle(this.rotation())}}getX(){return this._getNodeRect().x}getY(){return this._getNodeRect().y}getWidth(){return this._getNodeRect().width}getHeight(){return this._getNodeRect().height}_createElements(){this._createBack(),w.forEach(F=>{this._createAnchor(F)}),this._createAnchor("rotater")}_createAnchor(F){const Y=new c.Rect({stroke:"rgb(0, 161, 255)",fill:"white",strokeWidth:1,name:F+" _anchor",dragDistance:0,draggable:!0,hitStrokeWidth:E?10:"auto"}),P=this;Y.on("mousedown touchstart",function(tt){P._handleMouseDown(tt)}),Y.on("dragstart",tt=>{Y.stopDrag(),tt.cancelBubble=!0}),Y.on("dragend",tt=>{tt.cancelBubble=!0}),Y.on("mouseenter",()=>{const tt=d.Konva.getAngle(this.rotation()),x=this.rotateAnchorCursor(),V=O(F,tt,x);Y.getStage().content&&(Y.getStage().content.style.cursor=V),this._cursorChange=!0}),Y.on("mouseout",()=>{Y.getStage().content&&(Y.getStage().content.style.cursor=""),this._cursorChange=!1}),this.add(Y)}_createBack(){const F=new o.Shape({name:"back",width:0,height:0,draggable:!0,sceneFunc(Y,P){const tt=P.getParent(),x=tt.padding();Y.beginPath(),Y.rect(-x,-x,P.width()+x*2,P.height()+x*2),Y.moveTo(P.width()/2,-x),tt.rotateEnabled()&&tt.rotateLineVisible()&&Y.lineTo(P.width()/2,-tt.rotateAnchorOffset()*a.Util._sign(P.height())-x),Y.fillStrokeShape(P)},hitFunc:(Y,P)=>{if(!this.shouldOverdrawWholeArea())return;const tt=this.padding();Y.beginPath(),Y.rect(-tt,-tt,P.width()+tt*2,P.height()+tt*2),Y.fillStrokeShape(P)}});this.add(F),this._proxyDrag(F),F.on("dragstart",Y=>{Y.cancelBubble=!0}),F.on("dragmove",Y=>{Y.cancelBubble=!0}),F.on("dragend",Y=>{Y.cancelBubble=!0}),this.on("dragmove",Y=>{this.update()})}_handleMouseDown(F){if(this._transforming)return;this._movingAnchorName=F.target.name().split(" ")[0];const Y=this._getNodeRect(),P=Y.width,tt=Y.height,x=Math.sqrt(Math.pow(P,2)+Math.pow(tt,2));this.sin=Math.abs(tt/x),this.cos=Math.abs(P/x),typeof window<"u"&&(window.addEventListener("mousemove",this._handleMouseMove),window.addEventListener("touchmove",this._handleMouseMove),window.addEventListener("mouseup",this._handleMouseUp,!0),window.addEventListener("touchend",this._handleMouseUp,!0)),this._transforming=!0;const V=F.target.getAbsolutePosition(),G=F.target.getStage().getPointerPosition();this._anchorDragOffset={x:G.x-V.x,y:G.y-V.y},B++,this._fire("transformstart",{evt:F.evt,target:this.getNode()}),this._nodes.forEach(D=>{D._fire("transformstart",{evt:F.evt,target:D})})}_handleMouseMove(F){let Y,P,tt;const x=this.findOne("."+this._movingAnchorName),V=x.getStage();V.setPointersPositions(F);const G=V.getPointerPosition();let D={x:G.x-this._anchorDragOffset.x,y:G.y-this._anchorDragOffset.y};const L=x.getAbsolutePosition();this.anchorDragBoundFunc()&&(D=this.anchorDragBoundFunc()(L,D,F)),x.setAbsolutePosition(D);const Q=x.getAbsolutePosition();if(L.x===Q.x&&L.y===Q.y)return;if(this._movingAnchorName==="rotater"){const Ct=this._getNodeRect();Y=x.x()-Ct.width/2,P=-x.y()+Ct.height/2;let Rt=Math.atan2(-P,Y)+Math.PI/2;Ct.height<0&&(Rt-=Math.PI);const xt=d.Konva.getAngle(this.rotation())+Rt,te=d.Konva.getAngle(this.rotationSnapTolerance()),Xt=U(this.rotationSnaps(),xt,te)-Ct.rotation,on=R(Ct,Xt);this._fitNodesInto(on,F);return}const et=this.shiftBehavior();let q;et==="inverted"?q=this.keepRatio()&&!F.shiftKey:et==="none"?q=this.keepRatio():q=this.keepRatio()||F.shiftKey;var yt=this.centeredScaling()||F.altKey;if(this._movingAnchorName==="top-left"){if(q){var $=yt?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-right").x(),y:this.findOne(".bottom-right").y()};tt=Math.sqrt(Math.pow($.x-x.x(),2)+Math.pow($.y-x.y(),2));var ft=this.findOne(".top-left").x()>$.x?-1:1,nt=this.findOne(".top-left").y()>$.y?-1:1;Y=tt*this.cos*ft,P=tt*this.sin*nt,this.findOne(".top-left").x($.x-Y),this.findOne(".top-left").y($.y-P)}}else if(this._movingAnchorName==="top-center")this.findOne(".top-left").y(x.y());else if(this._movingAnchorName==="top-right"){if(q){var $=yt?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-left").x(),y:this.findOne(".bottom-left").y()};tt=Math.sqrt(Math.pow(x.x()-$.x,2)+Math.pow($.y-x.y(),2));var ft=this.findOne(".top-right").x()<$.x?-1:1,nt=this.findOne(".top-right").y()>$.y?-1:1;Y=tt*this.cos*ft,P=tt*this.sin*nt,this.findOne(".top-right").x($.x+Y),this.findOne(".top-right").y($.y-P)}var ut=x.position();this.findOne(".top-left").y(ut.y),this.findOne(".bottom-right").x(ut.x)}else if(this._movingAnchorName==="middle-left")this.findOne(".top-left").x(x.x());else if(this._movingAnchorName==="middle-right")this.findOne(".bottom-right").x(x.x());else if(this._movingAnchorName==="bottom-left"){if(q){var $=yt?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-right").x(),y:this.findOne(".top-right").y()};tt=Math.sqrt(Math.pow($.x-x.x(),2)+Math.pow(x.y()-$.y,2));var ft=$.x<x.x()?-1:1,nt=x.y()<$.y?-1:1;Y=tt*this.cos*ft,P=tt*this.sin*nt,x.x($.x-Y),x.y($.y+P)}ut=x.position(),this.findOne(".top-left").x(ut.x),this.findOne(".bottom-right").y(ut.y)}else if(this._movingAnchorName==="bottom-center")this.findOne(".bottom-right").y(x.y());else if(this._movingAnchorName==="bottom-right"){if(q){var $=yt?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-left").x(),y:this.findOne(".top-left").y()};tt=Math.sqrt(Math.pow(x.x()-$.x,2)+Math.pow(x.y()-$.y,2));var ft=this.findOne(".bottom-right").x()<$.x?-1:1,nt=this.findOne(".bottom-right").y()<$.y?-1:1;Y=tt*this.cos*ft,P=tt*this.sin*nt,this.findOne(".bottom-right").x($.x+Y),this.findOne(".bottom-right").y($.y+P)}}else console.error(new Error("Wrong position argument of selection resizer: "+this._movingAnchorName));var yt=this.centeredScaling()||F.altKey;if(yt){const Ct=this.findOne(".top-left"),Rt=this.findOne(".bottom-right"),Mt=Ct.x(),xt=Ct.y(),te=this.getWidth()-Rt.x(),re=this.getHeight()-Rt.y();Rt.move({x:-Mt,y:-xt}),Ct.move({x:te,y:re})}const Et=this.findOne(".top-left").getAbsolutePosition();Y=Et.x,P=Et.y;const W=this.findOne(".bottom-right").x()-this.findOne(".top-left").x(),rt=this.findOne(".bottom-right").y()-this.findOne(".top-left").y();this._fitNodesInto({x:Y,y:P,width:W,height:rt,rotation:d.Konva.getAngle(this.rotation())},F)}_handleMouseUp(F){this._removeEvents(F)}getAbsoluteTransform(){return this.getTransform()}_removeEvents(F){var Y;if(this._transforming){this._transforming=!1,typeof window<"u"&&(window.removeEventListener("mousemove",this._handleMouseMove),window.removeEventListener("touchmove",this._handleMouseMove),window.removeEventListener("mouseup",this._handleMouseUp,!0),window.removeEventListener("touchend",this._handleMouseUp,!0));const P=this.getNode();B--,this._fire("transformend",{evt:F,target:P}),(Y=this.getLayer())===null||Y===void 0||Y.batchDraw(),P&&this._nodes.forEach(tt=>{var x;tt._fire("transformend",{evt:F,target:tt}),(x=tt.getLayer())===null||x===void 0||x.batchDraw()}),this._movingAnchorName=null}}_fitNodesInto(F,Y){const P=this._getNodeRect(),tt=1;if(a.Util._inRange(F.width,-this.padding()*2-tt,tt)){this.update();return}if(a.Util._inRange(F.height,-this.padding()*2-tt,tt)){this.update();return}const x=new a.Transform;if(x.rotate(d.Konva.getAngle(this.rotation())),this._movingAnchorName&&F.width<0&&this._movingAnchorName.indexOf("left")>=0){const q=x.point({x:-this.padding()*2,y:0});F.x+=q.x,F.y+=q.y,F.width+=this.padding()*2,this._movingAnchorName=this._movingAnchorName.replace("left","right"),this._anchorDragOffset.x-=q.x,this._anchorDragOffset.y-=q.y}else if(this._movingAnchorName&&F.width<0&&this._movingAnchorName.indexOf("right")>=0){const q=x.point({x:this.padding()*2,y:0});this._movingAnchorName=this._movingAnchorName.replace("right","left"),this._anchorDragOffset.x-=q.x,this._anchorDragOffset.y-=q.y,F.width+=this.padding()*2}if(this._movingAnchorName&&F.height<0&&this._movingAnchorName.indexOf("top")>=0){const q=x.point({x:0,y:-this.padding()*2});F.x+=q.x,F.y+=q.y,this._movingAnchorName=this._movingAnchorName.replace("top","bottom"),this._anchorDragOffset.x-=q.x,this._anchorDragOffset.y-=q.y,F.height+=this.padding()*2}else if(this._movingAnchorName&&F.height<0&&this._movingAnchorName.indexOf("bottom")>=0){const q=x.point({x:0,y:this.padding()*2});this._movingAnchorName=this._movingAnchorName.replace("bottom","top"),this._anchorDragOffset.x-=q.x,this._anchorDragOffset.y-=q.y,F.height+=this.padding()*2}if(this.boundBoxFunc()){const q=this.boundBoxFunc()(P,F);q?F=q:a.Util.warn("boundBoxFunc returned falsy. You should return new bound rect from it!")}const V=1e7,G=new a.Transform;G.translate(P.x,P.y),G.rotate(P.rotation),G.scale(P.width/V,P.height/V);const D=new a.Transform,L=F.width/V,Q=F.height/V;this.flipEnabled()===!1?(D.translate(F.x,F.y),D.rotate(F.rotation),D.translate(F.width<0?F.width:0,F.height<0?F.height:0),D.scale(Math.abs(L),Math.abs(Q))):(D.translate(F.x,F.y),D.rotate(F.rotation),D.scale(L,Q));const et=D.multiply(G.invert());this._nodes.forEach(q=>{var $;const ft=q.getParent().getAbsoluteTransform(),nt=q.getTransform().copy();nt.translate(q.offsetX(),q.offsetY());const ut=new a.Transform;ut.multiply(ft.copy().invert()).multiply(et).multiply(ft).multiply(nt);const yt=ut.decompose();q.setAttrs(yt),($=q.getLayer())===null||$===void 0||$.batchDraw()}),this.rotation(a.Util._getRotation(F.rotation)),this._nodes.forEach(q=>{this._fire("transform",{evt:Y,target:q}),q._fire("transform",{evt:Y,target:q})}),this._resetTransformCache(),this.update(),this.getLayer().batchDraw()}forceUpdate(){this._resetTransformCache(),this.update()}_batchChangeChild(F,Y){this.findOne(F).setAttrs(Y)}update(){var F;const Y=this._getNodeRect();this.rotation(a.Util._getRotation(Y.rotation));const P=Y.width,tt=Y.height,x=this.enabledAnchors(),V=this.resizeEnabled(),G=this.padding(),D=this.anchorSize(),L=this.find("._anchor");L.forEach(et=>{et.setAttrs({width:D,height:D,offsetX:D/2,offsetY:D/2,stroke:this.anchorStroke(),strokeWidth:this.anchorStrokeWidth(),fill:this.anchorFill(),cornerRadius:this.anchorCornerRadius()})}),this._batchChangeChild(".top-left",{x:0,y:0,offsetX:D/2+G,offsetY:D/2+G,visible:V&&x.indexOf("top-left")>=0}),this._batchChangeChild(".top-center",{x:P/2,y:0,offsetY:D/2+G,visible:V&&x.indexOf("top-center")>=0}),this._batchChangeChild(".top-right",{x:P,y:0,offsetX:D/2-G,offsetY:D/2+G,visible:V&&x.indexOf("top-right")>=0}),this._batchChangeChild(".middle-left",{x:0,y:tt/2,offsetX:D/2+G,visible:V&&x.indexOf("middle-left")>=0}),this._batchChangeChild(".middle-right",{x:P,y:tt/2,offsetX:D/2-G,visible:V&&x.indexOf("middle-right")>=0}),this._batchChangeChild(".bottom-left",{x:0,y:tt,offsetX:D/2+G,offsetY:D/2-G,visible:V&&x.indexOf("bottom-left")>=0}),this._batchChangeChild(".bottom-center",{x:P/2,y:tt,offsetY:D/2-G,visible:V&&x.indexOf("bottom-center")>=0}),this._batchChangeChild(".bottom-right",{x:P,y:tt,offsetX:D/2-G,offsetY:D/2-G,visible:V&&x.indexOf("bottom-right")>=0}),this._batchChangeChild(".rotater",{x:P/2,y:-this.rotateAnchorOffset()*a.Util._sign(tt)-G,visible:this.rotateEnabled()}),this._batchChangeChild(".back",{width:P,height:tt,visible:this.borderEnabled(),stroke:this.borderStroke(),strokeWidth:this.borderStrokeWidth(),dash:this.borderDash(),x:0,y:0});const Q=this.anchorStyleFunc();Q&&L.forEach(et=>{Q(et)}),(F=this.getLayer())===null||F===void 0||F.batchDraw()}isTransforming(){return this._transforming}stopTransform(){if(this._transforming){this._removeEvents();const F=this.findOne("."+this._movingAnchorName);F&&F.stopDrag()}}destroy(){return this.getStage()&&this._cursorChange&&this.getStage().content&&(this.getStage().content.style.cursor=""),f.Group.prototype.destroy.call(this),this.detach(),this._removeEvents(),this}toObject(){return s.Node.prototype.toObject.call(this)}clone(F){return s.Node.prototype.clone.call(this,F)}getClientRect(){return this.nodes().length>0?super.getClientRect():{x:0,y:0,width:0,height:0}}};Mf.Transformer=k,k.isTransforming=()=>B>0;function J(X){return X instanceof Array||a.Util.warn("enabledAnchors value should be an array"),X instanceof Array&&X.forEach(function(F){w.indexOf(F)===-1&&a.Util.warn("Unknown anchor name: "+F+". Available names are: "+w.join(", "))}),X||[]}return k.prototype.className="Transformer",(0,v._registerNode)(k),e.Factory.addGetterSetter(k,"enabledAnchors",w,J),e.Factory.addGetterSetter(k,"flipEnabled",!0,(0,p.getBooleanValidator)()),e.Factory.addGetterSetter(k,"resizeEnabled",!0),e.Factory.addGetterSetter(k,"anchorSize",10,(0,p.getNumberValidator)()),e.Factory.addGetterSetter(k,"rotateEnabled",!0),e.Factory.addGetterSetter(k,"rotateLineVisible",!0),e.Factory.addGetterSetter(k,"rotationSnaps",[]),e.Factory.addGetterSetter(k,"rotateAnchorOffset",50,(0,p.getNumberValidator)()),e.Factory.addGetterSetter(k,"rotateAnchorCursor","crosshair"),e.Factory.addGetterSetter(k,"rotationSnapTolerance",5,(0,p.getNumberValidator)()),e.Factory.addGetterSetter(k,"borderEnabled",!0),e.Factory.addGetterSetter(k,"anchorStroke","rgb(0, 161, 255)"),e.Factory.addGetterSetter(k,"anchorStrokeWidth",1,(0,p.getNumberValidator)()),e.Factory.addGetterSetter(k,"anchorFill","white"),e.Factory.addGetterSetter(k,"anchorCornerRadius",0,(0,p.getNumberValidator)()),e.Factory.addGetterSetter(k,"borderStroke","rgb(0, 161, 255)"),e.Factory.addGetterSetter(k,"borderStrokeWidth",1,(0,p.getNumberValidator)()),e.Factory.addGetterSetter(k,"borderDash"),e.Factory.addGetterSetter(k,"keepRatio",!0),e.Factory.addGetterSetter(k,"shiftBehavior","default"),e.Factory.addGetterSetter(k,"centeredScaling",!1),e.Factory.addGetterSetter(k,"ignoreStroke",!1),e.Factory.addGetterSetter(k,"padding",0,(0,p.getNumberValidator)()),e.Factory.addGetterSetter(k,"nodes"),e.Factory.addGetterSetter(k,"node"),e.Factory.addGetterSetter(k,"boundBoxFunc"),e.Factory.addGetterSetter(k,"anchorDragBoundFunc"),e.Factory.addGetterSetter(k,"anchorStyleFunc"),e.Factory.addGetterSetter(k,"shouldOverdrawWholeArea",!1),e.Factory.addGetterSetter(k,"useSingleNodeRotation",!0),e.Factory.backCompat(k,{lineEnabled:"borderEnabled",rotateHandlerOffset:"rotateAnchorOffset",enabledHandlers:"enabledAnchors"}),Mf}var Df={},__;function D6(){if(__)return Df;__=1,Object.defineProperty(Df,"__esModule",{value:!0}),Df.Wedge=void 0;const a=ce(),e=In(),s=ne(),o=fe(),c=ne();let f=class extends e.Shape{_sceneFunc(p){p.beginPath(),p.arc(0,0,this.radius(),0,s.Konva.getAngle(this.angle()),this.clockwise()),p.lineTo(0,0),p.closePath(),p.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(p){this.radius(p/2)}setHeight(p){this.radius(p/2)}};return Df.Wedge=f,f.prototype.className="Wedge",f.prototype._centroid=!0,f.prototype._attrsAffectingSize=["radius"],(0,c._registerNode)(f),a.Factory.addGetterSetter(f,"radius",0,(0,o.getNumberValidator)()),a.Factory.addGetterSetter(f,"angle",0,(0,o.getNumberValidator)()),a.Factory.addGetterSetter(f,"clockwise",!1),a.Factory.backCompat(f,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"}),Df}var Of={},v_;function O6(){if(v_)return Of;v_=1,Object.defineProperty(Of,"__esModule",{value:!0}),Of.Blur=void 0;const a=ce(),e=bn(),s=fe();function o(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}const c=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],f=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function d(v,_){const b=v.data,T=v.width,C=v.height;let A,E,O,w,H,N,R,U,B,k,J,X,F,Y,P,tt,x,V,G,D,L,Q,et,q;const $=_+_+1,ft=T-1,nt=C-1,ut=_+1,yt=ut*(ut+1)/2,Et=new o,W=c[_],rt=f[_];let Ct=null,Rt=Et,Mt=null,xt=null;for(O=1;O<$;O++)Rt=Rt.next=new o,O===ut&&(Ct=Rt);for(Rt.next=Et,R=N=0,E=0;E<C;E++){for(tt=x=V=G=U=B=k=J=0,X=ut*(D=b[N]),F=ut*(L=b[N+1]),Y=ut*(Q=b[N+2]),P=ut*(et=b[N+3]),U+=yt*D,B+=yt*L,k+=yt*Q,J+=yt*et,Rt=Et,O=0;O<ut;O++)Rt.r=D,Rt.g=L,Rt.b=Q,Rt.a=et,Rt=Rt.next;for(O=1;O<ut;O++)w=N+((ft<O?ft:O)<<2),U+=(Rt.r=D=b[w])*(q=ut-O),B+=(Rt.g=L=b[w+1])*q,k+=(Rt.b=Q=b[w+2])*q,J+=(Rt.a=et=b[w+3])*q,tt+=D,x+=L,V+=Q,G+=et,Rt=Rt.next;for(Mt=Et,xt=Ct,A=0;A<T;A++)b[N+3]=et=J*W>>rt,et!==0?(et=255/et,b[N]=(U*W>>rt)*et,b[N+1]=(B*W>>rt)*et,b[N+2]=(k*W>>rt)*et):b[N]=b[N+1]=b[N+2]=0,U-=X,B-=F,k-=Y,J-=P,X-=Mt.r,F-=Mt.g,Y-=Mt.b,P-=Mt.a,w=R+((w=A+_+1)<ft?w:ft)<<2,tt+=Mt.r=b[w],x+=Mt.g=b[w+1],V+=Mt.b=b[w+2],G+=Mt.a=b[w+3],U+=tt,B+=x,k+=V,J+=G,Mt=Mt.next,X+=D=xt.r,F+=L=xt.g,Y+=Q=xt.b,P+=et=xt.a,tt-=D,x-=L,V-=Q,G-=et,xt=xt.next,N+=4;R+=T}for(A=0;A<T;A++){for(x=V=G=tt=B=k=J=U=0,N=A<<2,X=ut*(D=b[N]),F=ut*(L=b[N+1]),Y=ut*(Q=b[N+2]),P=ut*(et=b[N+3]),U+=yt*D,B+=yt*L,k+=yt*Q,J+=yt*et,Rt=Et,O=0;O<ut;O++)Rt.r=D,Rt.g=L,Rt.b=Q,Rt.a=et,Rt=Rt.next;for(H=T,O=1;O<=_;O++)N=H+A<<2,U+=(Rt.r=D=b[N])*(q=ut-O),B+=(Rt.g=L=b[N+1])*q,k+=(Rt.b=Q=b[N+2])*q,J+=(Rt.a=et=b[N+3])*q,tt+=D,x+=L,V+=Q,G+=et,Rt=Rt.next,O<nt&&(H+=T);for(N=A,Mt=Et,xt=Ct,E=0;E<C;E++)w=N<<2,b[w+3]=et=J*W>>rt,et>0?(et=255/et,b[w]=(U*W>>rt)*et,b[w+1]=(B*W>>rt)*et,b[w+2]=(k*W>>rt)*et):b[w]=b[w+1]=b[w+2]=0,U-=X,B-=F,k-=Y,J-=P,X-=Mt.r,F-=Mt.g,Y-=Mt.b,P-=Mt.a,w=A+((w=E+ut)<nt?w:nt)*T<<2,U+=tt+=Mt.r=b[w],B+=x+=Mt.g=b[w+1],k+=V+=Mt.b=b[w+2],J+=G+=Mt.a=b[w+3],Mt=Mt.next,X+=D=xt.r,F+=L=xt.g,Y+=Q=xt.b,P+=et=xt.a,tt-=D,x-=L,V-=Q,G-=et,xt=xt.next,N+=T}}const p=function(_){const b=Math.round(this.blurRadius());b>0&&d(_,b)};return Of.Blur=p,a.Factory.addGetterSetter(e.Node,"blurRadius",0,(0,s.getNumberValidator)(),a.Factory.afterSetFilter),Of}var xf={},y_;function x6(){if(y_)return xf;y_=1,Object.defineProperty(xf,"__esModule",{value:!0}),xf.Brighten=void 0;const a=ce(),e=bn(),s=fe(),o=function(c){const f=this.brightness()*255,d=c.data,p=d.length;for(let v=0;v<p;v+=4)d[v]+=f,d[v+1]+=f,d[v+2]+=f};return xf.Brighten=o,a.Factory.addGetterSetter(e.Node,"brightness",0,(0,s.getNumberValidator)(),a.Factory.afterSetFilter),xf}var wf={},S_;function w6(){if(S_)return wf;S_=1,Object.defineProperty(wf,"__esModule",{value:!0}),wf.Contrast=void 0;const a=ce(),e=bn(),s=fe(),o=function(c){const f=Math.pow((this.contrast()+100)/100,2),d=c.data,p=d.length;let v=150,_=150,b=150;for(let T=0;T<p;T+=4)v=d[T],_=d[T+1],b=d[T+2],v/=255,v-=.5,v*=f,v+=.5,v*=255,_/=255,_-=.5,_*=f,_+=.5,_*=255,b/=255,b-=.5,b*=f,b+=.5,b*=255,v=v<0?0:v>255?255:v,_=_<0?0:_>255?255:_,b=b<0?0:b>255?255:b,d[T]=v,d[T+1]=_,d[T+2]=b};return wf.Contrast=o,a.Factory.addGetterSetter(e.Node,"contrast",0,(0,s.getNumberValidator)(),a.Factory.afterSetFilter),wf}var Uf={},b_;function U6(){if(b_)return Uf;b_=1,Object.defineProperty(Uf,"__esModule",{value:!0}),Uf.Emboss=void 0;const a=ce(),e=bn(),s=mn(),o=fe(),c=function(f){const d=this.embossStrength()*10,p=this.embossWhiteLevel()*255,v=this.embossDirection(),_=this.embossBlend(),b=f.data,T=f.width,C=f.height,A=T*4;let E=0,O=0,w=C;switch(v){case"top-left":E=-1,O=-1;break;case"top":E=-1,O=0;break;case"top-right":E=-1,O=1;break;case"right":E=0,O=1;break;case"bottom-right":E=1,O=1;break;case"bottom":E=1,O=0;break;case"bottom-left":E=1,O=-1;break;case"left":E=0,O=-1;break;default:s.Util.error("Unknown emboss direction: "+v)}do{const H=(w-1)*A;let N=E;w+N<1&&(N=0),w+N>C&&(N=0);const R=(w-1+N)*T*4;let U=T;do{const B=H+(U-1)*4;let k=O;U+k<1&&(k=0),U+k>T&&(k=0);const J=R+(U-1+k)*4,X=b[B]-b[J],F=b[B+1]-b[J+1],Y=b[B+2]-b[J+2];let P=X;const tt=P>0?P:-P,x=F>0?F:-F,V=Y>0?Y:-Y;if(x>tt&&(P=F),V>tt&&(P=Y),P*=d,_){const G=b[B]+P,D=b[B+1]+P,L=b[B+2]+P;b[B]=G>255?255:G<0?0:G,b[B+1]=D>255?255:D<0?0:D,b[B+2]=L>255?255:L<0?0:L}else{let G=p-P;G<0?G=0:G>255&&(G=255),b[B]=b[B+1]=b[B+2]=G}}while(--U)}while(--w)};return Uf.Emboss=c,a.Factory.addGetterSetter(e.Node,"embossStrength",.5,(0,o.getNumberValidator)(),a.Factory.afterSetFilter),a.Factory.addGetterSetter(e.Node,"embossWhiteLevel",.5,(0,o.getNumberValidator)(),a.Factory.afterSetFilter),a.Factory.addGetterSetter(e.Node,"embossDirection","top-left",void 0,a.Factory.afterSetFilter),a.Factory.addGetterSetter(e.Node,"embossBlend",!1,void 0,a.Factory.afterSetFilter),Uf}var zf={},E_;function z6(){if(E_)return zf;E_=1,Object.defineProperty(zf,"__esModule",{value:!0}),zf.Enhance=void 0;const a=ce(),e=bn(),s=fe();function o(f,d,p,v,_){const b=p-d,T=_-v;if(b===0)return v+T/2;if(T===0)return v;let C=(f-d)/b;return C=T*C+v,C}const c=function(f){const d=f.data,p=d.length;let v=d[0],_=v,b,T=d[1],C=T,A,E=d[2],O=E,w;const H=this.enhance();if(H===0)return;for(let P=0;P<p;P+=4)b=d[P+0],b<v?v=b:b>_&&(_=b),A=d[P+1],A<T?T=A:A>C&&(C=A),w=d[P+2],w<E?E=w:w>O&&(O=w);_===v&&(_=255,v=0),C===T&&(C=255,T=0),O===E&&(O=255,E=0);let N,R,U,B,k,J,X,F,Y;H>0?(R=_+H*(255-_),U=v-H*(v-0),k=C+H*(255-C),J=T-H*(T-0),F=O+H*(255-O),Y=E-H*(E-0)):(N=(_+v)*.5,R=_+H*(_-N),U=v+H*(v-N),B=(C+T)*.5,k=C+H*(C-B),J=T+H*(T-B),X=(O+E)*.5,F=O+H*(O-X),Y=E+H*(E-X));for(let P=0;P<p;P+=4)d[P+0]=o(d[P+0],v,_,U,R),d[P+1]=o(d[P+1],T,C,J,k),d[P+2]=o(d[P+2],E,O,Y,F)};return zf.Enhance=c,a.Factory.addGetterSetter(e.Node,"enhance",0,(0,s.getNumberValidator)(),a.Factory.afterSetFilter),zf}var Gf={},C_;function G6(){if(C_)return Gf;C_=1,Object.defineProperty(Gf,"__esModule",{value:!0}),Gf.Grayscale=void 0;const a=function(e){const s=e.data,o=s.length;for(let c=0;c<o;c+=4){const f=.34*s[c]+.5*s[c+1]+.16*s[c+2];s[c]=f,s[c+1]=f,s[c+2]=f}};return Gf.Grayscale=a,Gf}var Hf={},T_;function H6(){if(T_)return Hf;T_=1,Object.defineProperty(Hf,"__esModule",{value:!0}),Hf.HSL=void 0;const a=ce(),e=bn(),s=fe();a.Factory.addGetterSetter(e.Node,"hue",0,(0,s.getNumberValidator)(),a.Factory.afterSetFilter),a.Factory.addGetterSetter(e.Node,"saturation",0,(0,s.getNumberValidator)(),a.Factory.afterSetFilter),a.Factory.addGetterSetter(e.Node,"luminance",0,(0,s.getNumberValidator)(),a.Factory.afterSetFilter);const o=function(c){const f=c.data,d=f.length,p=1,v=Math.pow(2,this.saturation()),_=Math.abs(this.hue()+360)%360,b=this.luminance()*127,T=p*v*Math.cos(_*Math.PI/180),C=p*v*Math.sin(_*Math.PI/180),A=.299*p+.701*T+.167*C,E=.587*p-.587*T+.33*C,O=.114*p-.114*T-.497*C,w=.299*p-.299*T-.328*C,H=.587*p+.413*T+.035*C,N=.114*p-.114*T+.293*C,R=.299*p-.3*T+1.25*C,U=.587*p-.586*T-1.05*C,B=.114*p+.886*T-.2*C;let k,J,X,F;for(let Y=0;Y<d;Y+=4)k=f[Y+0],J=f[Y+1],X=f[Y+2],F=f[Y+3],f[Y+0]=A*k+E*J+O*X+b,f[Y+1]=w*k+H*J+N*X+b,f[Y+2]=R*k+U*J+B*X+b,f[Y+3]=F};return Hf.HSL=o,Hf}var Bf={},A_;function B6(){if(A_)return Bf;A_=1,Object.defineProperty(Bf,"__esModule",{value:!0}),Bf.HSV=void 0;const a=ce(),e=bn(),s=fe(),o=function(c){const f=c.data,d=f.length,p=Math.pow(2,this.value()),v=Math.pow(2,this.saturation()),_=Math.abs(this.hue()+360)%360,b=p*v*Math.cos(_*Math.PI/180),T=p*v*Math.sin(_*Math.PI/180),C=.299*p+.701*b+.167*T,A=.587*p-.587*b+.33*T,E=.114*p-.114*b-.497*T,O=.299*p-.299*b-.328*T,w=.587*p+.413*b+.035*T,H=.114*p-.114*b+.293*T,N=.299*p-.3*b+1.25*T,R=.587*p-.586*b-1.05*T,U=.114*p+.886*b-.2*T;let B,k,J,X;for(let F=0;F<d;F+=4)B=f[F+0],k=f[F+1],J=f[F+2],X=f[F+3],f[F+0]=C*B+A*k+E*J,f[F+1]=O*B+w*k+H*J,f[F+2]=N*B+R*k+U*J,f[F+3]=X};return Bf.HSV=o,a.Factory.addGetterSetter(e.Node,"hue",0,(0,s.getNumberValidator)(),a.Factory.afterSetFilter),a.Factory.addGetterSetter(e.Node,"saturation",0,(0,s.getNumberValidator)(),a.Factory.afterSetFilter),a.Factory.addGetterSetter(e.Node,"value",0,(0,s.getNumberValidator)(),a.Factory.afterSetFilter),Bf}var Lf={},R_;function L6(){if(R_)return Lf;R_=1,Object.defineProperty(Lf,"__esModule",{value:!0}),Lf.Invert=void 0;const a=function(e){const s=e.data,o=s.length;for(let c=0;c<o;c+=4)s[c]=255-s[c],s[c+1]=255-s[c+1],s[c+2]=255-s[c+2]};return Lf.Invert=a,Lf}var qf={},N_;function q6(){if(N_)return qf;N_=1,Object.defineProperty(qf,"__esModule",{value:!0}),qf.Kaleidoscope=void 0;const a=ce(),e=bn(),s=mn(),o=fe(),c=function(p,v,_){const b=p.data,T=v.data,C=p.width,A=p.height,E=_.polarCenterX||C/2,O=_.polarCenterY||A/2;let w=Math.sqrt(E*E+O*O),H=C-E,N=A-O;const R=Math.sqrt(H*H+N*N);w=R>w?R:w;const U=A,B=C,k=360/B*Math.PI/180;for(let J=0;J<B;J+=1){const X=Math.sin(J*k),F=Math.cos(J*k);for(let Y=0;Y<U;Y+=1){H=Math.floor(E+w*Y/U*F),N=Math.floor(O+w*Y/U*X);let P=(N*C+H)*4;const tt=b[P+0],x=b[P+1],V=b[P+2],G=b[P+3];P=(J+Y*C)*4,T[P+0]=tt,T[P+1]=x,T[P+2]=V,T[P+3]=G}}},f=function(p,v,_){const b=p.data,T=v.data,C=p.width,A=p.height,E=_.polarCenterX||C/2,O=_.polarCenterY||A/2;let w=Math.sqrt(E*E+O*O),H=C-E,N=A-O;const R=Math.sqrt(H*H+N*N);w=R>w?R:w;const U=A,B=C,k=0;let J,X;for(H=0;H<C;H+=1)for(N=0;N<A;N+=1){const F=H-E,Y=N-O,P=Math.sqrt(F*F+Y*Y)*U/w;let tt=(Math.atan2(Y,F)*180/Math.PI+360+k)%360;tt=tt*B/360,J=Math.floor(tt),X=Math.floor(P);let x=(X*C+J)*4;const V=b[x+0],G=b[x+1],D=b[x+2],L=b[x+3];x=(N*C+H)*4,T[x+0]=V,T[x+1]=G,T[x+2]=D,T[x+3]=L}},d=function(p){const v=p.width,_=p.height;let b,T,C,A,E,O,w,H,N,R,U=Math.round(this.kaleidoscopePower());const B=Math.round(this.kaleidoscopeAngle()),k=Math.floor(v*(B%360)/360);if(U<1)return;const J=s.Util.createCanvasElement();J.width=v,J.height=_;const X=J.getContext("2d").getImageData(0,0,v,_);s.Util.releaseCanvas(J),c(p,X,{polarCenterX:v/2,polarCenterY:_/2});let F=v/Math.pow(2,U);for(;F<=8;)F=F*2,U-=1;F=Math.ceil(F);let Y=F,P=0,tt=Y,x=1;for(k+F>v&&(P=Y,tt=0,x=-1),T=0;T<_;T+=1)for(b=P;b!==tt;b+=x)C=Math.round(b+k)%v,N=(v*T+C)*4,E=X.data[N+0],O=X.data[N+1],w=X.data[N+2],H=X.data[N+3],R=(v*T+b)*4,X.data[R+0]=E,X.data[R+1]=O,X.data[R+2]=w,X.data[R+3]=H;for(T=0;T<_;T+=1)for(Y=Math.floor(F),A=0;A<U;A+=1){for(b=0;b<Y+1;b+=1)N=(v*T+b)*4,E=X.data[N+0],O=X.data[N+1],w=X.data[N+2],H=X.data[N+3],R=(v*T+Y*2-b-1)*4,X.data[R+0]=E,X.data[R+1]=O,X.data[R+2]=w,X.data[R+3]=H;Y*=2}f(X,p,{})};return qf.Kaleidoscope=d,a.Factory.addGetterSetter(e.Node,"kaleidoscopePower",2,(0,o.getNumberValidator)(),a.Factory.afterSetFilter),a.Factory.addGetterSetter(e.Node,"kaleidoscopeAngle",0,(0,o.getNumberValidator)(),a.Factory.afterSetFilter),qf}var Vf={},M_;function V6(){if(M_)return Vf;M_=1,Object.defineProperty(Vf,"__esModule",{value:!0}),Vf.Mask=void 0;const a=ce(),e=bn(),s=fe();function o(C,A,E){let O=(E*C.width+A)*4;const w=[];return w.push(C.data[O++],C.data[O++],C.data[O++],C.data[O++]),w}function c(C,A){return Math.sqrt(Math.pow(C[0]-A[0],2)+Math.pow(C[1]-A[1],2)+Math.pow(C[2]-A[2],2))}function f(C){const A=[0,0,0];for(let E=0;E<C.length;E++)A[0]+=C[E][0],A[1]+=C[E][1],A[2]+=C[E][2];return A[0]/=C.length,A[1]/=C.length,A[2]/=C.length,A}function d(C,A){const E=o(C,0,0),O=o(C,C.width-1,0),w=o(C,0,C.height-1),H=o(C,C.width-1,C.height-1),N=A||10;if(c(E,O)<N&&c(O,H)<N&&c(H,w)<N&&c(w,E)<N){const R=f([O,E,H,w]),U=[];for(let B=0;B<C.width*C.height;B++){const k=c(R,[C.data[B*4],C.data[B*4+1],C.data[B*4+2]]);U[B]=k<N?0:255}return U}}function p(C,A){for(let E=0;E<C.width*C.height;E++)C.data[4*E+3]=A[E]}function v(C,A,E){const O=[1,1,1,1,0,1,1,1,1],w=Math.round(Math.sqrt(O.length)),H=Math.floor(w/2),N=[];for(let R=0;R<E;R++)for(let U=0;U<A;U++){const B=R*A+U;let k=0;for(let J=0;J<w;J++)for(let X=0;X<w;X++){const F=R+J-H,Y=U+X-H;if(F>=0&&F<E&&Y>=0&&Y<A){const P=F*A+Y,tt=O[J*w+X];k+=C[P]*tt}}N[B]=k===255*8?255:0}return N}function _(C,A,E){const O=[1,1,1,1,1,1,1,1,1],w=Math.round(Math.sqrt(O.length)),H=Math.floor(w/2),N=[];for(let R=0;R<E;R++)for(let U=0;U<A;U++){const B=R*A+U;let k=0;for(let J=0;J<w;J++)for(let X=0;X<w;X++){const F=R+J-H,Y=U+X-H;if(F>=0&&F<E&&Y>=0&&Y<A){const P=F*A+Y,tt=O[J*w+X];k+=C[P]*tt}}N[B]=k>=255*4?255:0}return N}function b(C,A,E){const O=[.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111],w=Math.round(Math.sqrt(O.length)),H=Math.floor(w/2),N=[];for(let R=0;R<E;R++)for(let U=0;U<A;U++){const B=R*A+U;let k=0;for(let J=0;J<w;J++)for(let X=0;X<w;X++){const F=R+J-H,Y=U+X-H;if(F>=0&&F<E&&Y>=0&&Y<A){const P=F*A+Y,tt=O[J*w+X];k+=C[P]*tt}}N[B]=k}return N}const T=function(C){const A=this.threshold();let E=d(C,A);return E&&(E=v(E,C.width,C.height),E=_(E,C.width,C.height),E=b(E,C.width,C.height),p(C,E)),C};return Vf.Mask=T,a.Factory.addGetterSetter(e.Node,"threshold",0,(0,s.getNumberValidator)(),a.Factory.afterSetFilter),Vf}var Yf={},D_;function Y6(){if(D_)return Yf;D_=1,Object.defineProperty(Yf,"__esModule",{value:!0}),Yf.Noise=void 0;const a=ce(),e=bn(),s=fe(),o=function(c){const f=this.noise()*255,d=c.data,p=d.length,v=f/2;for(let _=0;_<p;_+=4)d[_+0]+=v-2*v*Math.random(),d[_+1]+=v-2*v*Math.random(),d[_+2]+=v-2*v*Math.random()};return Yf.Noise=o,a.Factory.addGetterSetter(e.Node,"noise",.2,(0,s.getNumberValidator)(),a.Factory.afterSetFilter),Yf}var jf={},O_;function j6(){if(O_)return jf;O_=1,Object.defineProperty(jf,"__esModule",{value:!0}),jf.Pixelate=void 0;const a=ce(),e=mn(),s=bn(),o=fe(),c=function(f){let d=Math.ceil(this.pixelSize()),p=f.width,v=f.height,_,b,T,C,A,E,O,w=Math.ceil(p/d),H=Math.ceil(v/d),N,R,U,B,k,J,X,F=f.data;if(d<=0){e.Util.error("pixelSize value can not be <= 0");return}for(k=0;k<w;k+=1)for(J=0;J<H;J+=1){for(C=0,A=0,E=0,O=0,N=k*d,R=N+d,U=J*d,B=U+d,X=0,_=N;_<R;_+=1)if(!(_>=p))for(b=U;b<B;b+=1)b>=v||(T=(p*b+_)*4,C+=F[T+0],A+=F[T+1],E+=F[T+2],O+=F[T+3],X+=1);for(C=C/X,A=A/X,E=E/X,O=O/X,_=N;_<R;_+=1)if(!(_>=p))for(b=U;b<B;b+=1)b>=v||(T=(p*b+_)*4,F[T+0]=C,F[T+1]=A,F[T+2]=E,F[T+3]=O)}};return jf.Pixelate=c,a.Factory.addGetterSetter(s.Node,"pixelSize",8,(0,o.getNumberValidator)(),a.Factory.afterSetFilter),jf}var Ff={},x_;function F6(){if(x_)return Ff;x_=1,Object.defineProperty(Ff,"__esModule",{value:!0}),Ff.Posterize=void 0;const a=ce(),e=bn(),s=fe(),o=function(c){const f=Math.round(this.levels()*254)+1,d=c.data,p=d.length,v=255/f;for(let _=0;_<p;_+=1)d[_]=Math.floor(d[_]/v)*v};return Ff.Posterize=o,a.Factory.addGetterSetter(e.Node,"levels",.5,(0,s.getNumberValidator)(),a.Factory.afterSetFilter),Ff}var kf={},w_;function k6(){if(w_)return kf;w_=1,Object.defineProperty(kf,"__esModule",{value:!0}),kf.RGB=void 0;const a=ce(),e=bn(),s=fe(),o=function(c){const f=c.data,d=f.length,p=this.red(),v=this.green(),_=this.blue();for(let b=0;b<d;b+=4){const T=(.34*f[b]+.5*f[b+1]+.16*f[b+2])/255;f[b]=T*p,f[b+1]=T*v,f[b+2]=T*_,f[b+3]=f[b+3]}};return kf.RGB=o,a.Factory.addGetterSetter(e.Node,"red",0,function(c){return this._filterUpToDate=!1,c>255?255:c<0?0:Math.round(c)}),a.Factory.addGetterSetter(e.Node,"green",0,function(c){return this._filterUpToDate=!1,c>255?255:c<0?0:Math.round(c)}),a.Factory.addGetterSetter(e.Node,"blue",0,s.RGBComponent,a.Factory.afterSetFilter),kf}var Xf={},U_;function X6(){if(U_)return Xf;U_=1,Object.defineProperty(Xf,"__esModule",{value:!0}),Xf.RGBA=void 0;const a=ce(),e=bn(),s=fe(),o=function(c){const f=c.data,d=f.length,p=this.red(),v=this.green(),_=this.blue(),b=this.alpha();for(let T=0;T<d;T+=4){const C=1-b;f[T]=p*b+f[T]*C,f[T+1]=v*b+f[T+1]*C,f[T+2]=_*b+f[T+2]*C}};return Xf.RGBA=o,a.Factory.addGetterSetter(e.Node,"red",0,function(c){return this._filterUpToDate=!1,c>255?255:c<0?0:Math.round(c)}),a.Factory.addGetterSetter(e.Node,"green",0,function(c){return this._filterUpToDate=!1,c>255?255:c<0?0:Math.round(c)}),a.Factory.addGetterSetter(e.Node,"blue",0,s.RGBComponent,a.Factory.afterSetFilter),a.Factory.addGetterSetter(e.Node,"alpha",1,function(c){return this._filterUpToDate=!1,c>1?1:c<0?0:c}),Xf}var Kf={},z_;function K6(){if(z_)return Kf;z_=1,Object.defineProperty(Kf,"__esModule",{value:!0}),Kf.Sepia=void 0;const a=function(e){const s=e.data,o=s.length;for(let c=0;c<o;c+=4){const f=s[c+0],d=s[c+1],p=s[c+2];s[c+0]=Math.min(255,f*.393+d*.769+p*.189),s[c+1]=Math.min(255,f*.349+d*.686+p*.168),s[c+2]=Math.min(255,f*.272+d*.534+p*.131)}};return Kf.Sepia=a,Kf}var Pf={},G_;function P6(){if(G_)return Pf;G_=1,Object.defineProperty(Pf,"__esModule",{value:!0}),Pf.Solarize=void 0;const a=function(e){const s=e.data,o=e.width,c=e.height,f=o*4;let d=c;do{const p=(d-1)*f;let v=o;do{const _=p+(v-1)*4;let b=s[_],T=s[_+1],C=s[_+2];b>127&&(b=255-b),T>127&&(T=255-T),C>127&&(C=255-C),s[_]=b,s[_+1]=T,s[_+2]=C}while(--v)}while(--d)};return Pf.Solarize=a,Pf}var Qf={},H_;function Q6(){if(H_)return Qf;H_=1,Object.defineProperty(Qf,"__esModule",{value:!0}),Qf.Threshold=void 0;const a=ce(),e=bn(),s=fe(),o=function(c){const f=this.threshold()*255,d=c.data,p=d.length;for(let v=0;v<p;v+=1)d[v]=d[v]<f?0:255};return Qf.Threshold=o,a.Factory.addGetterSetter(e.Node,"threshold",.5,(0,s.getNumberValidator)(),a.Factory.afterSetFilter),Qf}var B_;function I6(){if(B_)return of;B_=1,Object.defineProperty(of,"__esModule",{value:!0}),of.Konva=void 0;const a=v2(),e=p6(),s=v6(),o=y6(),c=S6(),f=b6(),d=E6(),p=uy(),v=Z2(),_=hy(),b=C6(),T=T6(),C=A6(),A=R6(),E=fy(),O=N6(),w=M6(),H=D6(),N=O6(),R=x6(),U=w6(),B=U6(),k=z6(),J=G6(),X=H6(),F=B6(),Y=L6(),P=q6(),tt=V6(),x=Y6(),V=j6(),G=F6(),D=k6(),L=X6(),Q=K6(),et=P6(),q=Q6();return of.Konva=a.Konva.Util._assign(a.Konva,{Arc:e.Arc,Arrow:s.Arrow,Circle:o.Circle,Ellipse:c.Ellipse,Image:f.Image,Label:d.Label,Tag:d.Tag,Line:p.Line,Path:v.Path,Rect:_.Rect,RegularPolygon:b.RegularPolygon,Ring:T.Ring,Sprite:C.Sprite,Star:A.Star,Text:E.Text,TextPath:O.TextPath,Transformer:w.Transformer,Wedge:H.Wedge,Filters:{Blur:N.Blur,Brighten:R.Brighten,Contrast:U.Contrast,Emboss:B.Emboss,Enhance:k.Enhance,Grayscale:J.Grayscale,HSL:X.HSL,HSV:F.HSV,Invert:Y.Invert,Kaleidoscope:P.Kaleidoscope,Mask:tt.Mask,Noise:x.Noise,Pixelate:V.Pixelate,Posterize:G.Posterize,RGB:D.RGB,RGBA:L.RGBA,Sepia:Q.Sepia,Solarize:et.Solarize,Threshold:q.Threshold}}),of}var Z6=u1.exports,L_;function J6(){if(L_)return u1.exports;L_=1,Object.defineProperty(Z6,"__esModule",{value:!0});const a=I6();return u1.exports=a.Konva,u1.exports}J6();var i1={exports:{}},q_;function W6(){return q_||(q_=1,function(a,e){Object.defineProperty(e,"__esModule",{value:!0}),e.Konva=void 0;var s=v2();Object.defineProperty(e,"Konva",{enumerable:!0,get:function(){return s.Konva}});const o=v2();a.exports=o.Konva}(i1,i1.exports)),i1.exports}var $6=W6();const f1=L2($6);var Qg={exports:{}},Ig={exports:{}},Zg={exports:{}},Jg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V_;function t8(){return V_||(V_=1,function(a){function e(D,L){var Q=D.length;D.push(L);t:for(;0<Q;){var et=Q-1>>>1,q=D[et];if(0<c(q,L))D[et]=L,D[Q]=q,Q=et;else break t}}function s(D){return D.length===0?null:D[0]}function o(D){if(D.length===0)return null;var L=D[0],Q=D.pop();if(Q!==L){D[0]=Q;t:for(var et=0,q=D.length,$=q>>>1;et<$;){var ft=2*(et+1)-1,nt=D[ft],ut=ft+1,yt=D[ut];if(0>c(nt,Q))ut<q&&0>c(yt,nt)?(D[et]=yt,D[ut]=Q,et=ut):(D[et]=nt,D[ft]=Q,et=ft);else if(ut<q&&0>c(yt,Q))D[et]=yt,D[ut]=Q,et=ut;else break t}}return L}function c(D,L){var Q=D.sortIndex-L.sortIndex;return Q!==0?Q:D.id-L.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;a.unstable_now=function(){return f.now()}}else{var d=Date,p=d.now();a.unstable_now=function(){return d.now()-p}}var v=[],_=[],b=1,T=null,C=3,A=!1,E=!1,O=!1,w=typeof setTimeout=="function"?setTimeout:null,H=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;function R(D){for(var L=s(_);L!==null;){if(L.callback===null)o(_);else if(L.startTime<=D)o(_),L.sortIndex=L.expirationTime,e(v,L);else break;L=s(_)}}function U(D){if(O=!1,R(D),!E)if(s(v)!==null)E=!0,V();else{var L=s(_);L!==null&&G(U,L.startTime-D)}}var B=!1,k=-1,J=5,X=-1;function F(){return!(a.unstable_now()-X<J)}function Y(){if(B){var D=a.unstable_now();X=D;var L=!0;try{t:{E=!1,O&&(O=!1,H(k),k=-1),A=!0;var Q=C;try{e:{for(R(D),T=s(v);T!==null&&!(T.expirationTime>D&&F());){var et=T.callback;if(typeof et=="function"){T.callback=null,C=T.priorityLevel;var q=et(T.expirationTime<=D);if(D=a.unstable_now(),typeof q=="function"){T.callback=q,R(D),L=!0;break e}T===s(v)&&o(v),R(D)}else o(v);T=s(v)}if(T!==null)L=!0;else{var $=s(_);$!==null&&G(U,$.startTime-D),L=!1}}break t}finally{T=null,C=Q,A=!1}L=void 0}}finally{L?P():B=!1}}}var P;if(typeof N=="function")P=function(){N(Y)};else if(typeof MessageChannel<"u"){var tt=new MessageChannel,x=tt.port2;tt.port1.onmessage=Y,P=function(){x.postMessage(null)}}else P=function(){w(Y,0)};function V(){B||(B=!0,P())}function G(D,L){k=w(function(){D(a.unstable_now())},L)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(D){D.callback=null},a.unstable_continueExecution=function(){E||A||(E=!0,V())},a.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):J=0<D?Math.floor(1e3/D):5},a.unstable_getCurrentPriorityLevel=function(){return C},a.unstable_getFirstCallbackNode=function(){return s(v)},a.unstable_next=function(D){switch(C){case 1:case 2:case 3:var L=3;break;default:L=C}var Q=C;C=L;try{return D()}finally{C=Q}},a.unstable_pauseExecution=function(){},a.unstable_requestPaint=function(){},a.unstable_runWithPriority=function(D,L){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var Q=C;C=D;try{return L()}finally{C=Q}},a.unstable_scheduleCallback=function(D,L,Q){var et=a.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?et+Q:et):Q=et,D){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=Q+q,D={id:b++,callback:L,priorityLevel:D,startTime:Q,expirationTime:q,sortIndex:-1},Q>et?(D.sortIndex=Q,e(_,D),s(v)===null&&D===s(_)&&(O?(H(k),k=-1):O=!0,G(U,Q-et))):(D.sortIndex=q,e(v,D),E||A||(E=!0,V())),D},a.unstable_shouldYield=F,a.unstable_wrapCallback=function(D){var L=C;return function(){var Q=C;C=L;try{return D.apply(this,arguments)}finally{C=Q}}}}(Jg)),Jg}var Y_;function e8(){return Y_||(Y_=1,Zg.exports=t8()),Zg.exports}/**
 * @license React
 * react-reconciler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j_;function n8(){return j_||(j_=1,function(a){a.exports=function(e){function s(i,l,h,m){return new vh(i,l,h,m)}function o(){}function c(i){var l="https://react.dev/errors/"+i;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)l+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+i+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function f(i){return i===null||typeof i!="object"?null:(i=il&&i[il]||i["@@iterator"],typeof i=="function"?i:null)}function d(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===Eh?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case Yl:return"Fragment";case Xi:return"Portal";case Hu:return"Profiler";case xo:return"StrictMode";case Bu:return"Suspense";case pr:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case ca:return(i.displayName||"Context")+".Provider";case Sh:return(i._context.displayName||"Context")+".Consumer";case Uo:var l=i.render;return i=i.displayName,i||(i=l.displayName||l.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case Lu:return l=i.displayName||null,l!==null?l:d(i.type)||"Memo";case Ki:l=i._payload,i=i._init;try{return d(i(l))}catch{}}return null}function p(i){if(Na===void 0)try{throw Error()}catch(h){var l=h.stack.trim().match(/\n( *(at )?)/);Na=l&&l[1]||"",al=-1<h.stack.indexOf(`
    at`)?" (<anonymous>)":-1<h.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Na+i+al}function v(i,l){if(!i||ps)return"";ps=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(l){var Dt=function(){throw Error()};if(Object.defineProperty(Dt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Dt,[])}catch(Pt){var Ot=Pt}Reflect.construct(i,[],Dt)}else{try{Dt.call()}catch(Pt){Ot=Pt}i.call(Dt.prototype)}}else{try{throw Error()}catch(Pt){Ot=Pt}(Dt=i())&&typeof Dt.catch=="function"&&Dt.catch(function(){})}}catch(Pt){if(Pt&&Ot&&typeof Pt.stack=="string")return[Pt.stack,Ot.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var S=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");S&&S.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var M=m.DetermineComponentFrameRoot(),K=M[0],Z=M[1];if(K&&Z){var st=K.split(`
`),_t=Z.split(`
`);for(S=m=0;m<st.length&&!st[m].includes("DetermineComponentFrameRoot");)m++;for(;S<_t.length&&!_t[S].includes("DetermineComponentFrameRoot");)S++;if(m===st.length||S===_t.length)for(m=st.length-1,S=_t.length-1;1<=m&&0<=S&&st[m]!==_t[S];)S--;for(;1<=m&&0<=S;m--,S--)if(st[m]!==_t[S]){if(m!==1||S!==1)do if(m--,S--,0>S||st[m]!==_t[S]){var At=`
`+st[m].replace(" at new "," at ");return i.displayName&&At.includes("<anonymous>")&&(At=At.replace("<anonymous>",i.displayName)),At}while(1<=m&&0<=S);break}}}finally{ps=!1,Error.prepareStackTrace=h}return(h=i?i.displayName||i.name:"")?p(h):""}function _(i){switch(i.tag){case 26:case 27:case 5:return p(i.type);case 16:return p("Lazy");case 13:return p("Suspense");case 19:return p("SuspenseList");case 0:case 15:return i=v(i.type,!1),i;case 11:return i=v(i.type.render,!1),i;case 1:return i=v(i.type,!0),i;default:return""}}function b(i){try{var l="";do l+=_(i),i=i.return;while(i);return l}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}function T(i){var l=i,h=i;if(i.alternate)for(;l.return;)l=l.return;else{i=l;do l=i,(l.flags&4098)!==0&&(h=l.return),i=l.return;while(i)}return l.tag===3?h:null}function C(i){if(T(i)!==i)throw Error(c(188))}function A(i){var l=i.alternate;if(!l){if(l=T(i),l===null)throw Error(c(188));return l!==i?null:i}for(var h=i,m=l;;){var S=h.return;if(S===null)break;var M=S.alternate;if(M===null){if(m=S.return,m!==null){h=m;continue}break}if(S.child===M.child){for(M=S.child;M;){if(M===h)return C(S),i;if(M===m)return C(S),l;M=M.sibling}throw Error(c(188))}if(h.return!==m.return)h=S,m=M;else{for(var K=!1,Z=S.child;Z;){if(Z===h){K=!0,h=S,m=M;break}if(Z===m){K=!0,m=S,h=M;break}Z=Z.sibling}if(!K){for(Z=M.child;Z;){if(Z===h){K=!0,h=M,m=S;break}if(Z===m){K=!0,m=M,h=S;break}Z=Z.sibling}if(!K)throw Error(c(189))}}if(h.alternate!==m)throw Error(c(190))}if(h.tag!==3)throw Error(c(188));return h.stateNode.current===h?i:l}function E(i){var l=i.tag;if(l===5||l===26||l===27||l===6)return i;for(i=i.child;i!==null;){if(l=E(i),l!==null)return l;i=i.sibling}return null}function O(i){var l=i.tag;if(l===5||l===26||l===27||l===6)return i;for(i=i.child;i!==null;){if(i.tag!==4&&(l=O(i),l!==null))return l;i=i.sibling}return null}function w(i){return{current:i}}function H(i){0>ol||(i.current=ln[ol],ln[ol]=null,ol--)}function N(i,l){ol++,ln[ol]=i.current,i.current=l}function R(i){return i>>>=0,i===0?32:31-(U0(i)/z0|0)|0}function U(i){var l=i&42;if(l!==0)return l;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function B(i,l){var h=i.pendingLanes;if(h===0)return 0;var m=0,S=i.suspendedLanes,M=i.pingedLanes,K=i.warmLanes;i=i.finishedLanes!==0;var Z=h&134217727;return Z!==0?(h=Z&~S,h!==0?m=U(h):(M&=Z,M!==0?m=U(M):i||(K=Z&~K,K!==0&&(m=U(K))))):(Z=h&~S,Z!==0?m=U(Z):M!==0?m=U(M):i||(K=h&~K,K!==0&&(m=U(K)))),m===0?0:l!==0&&l!==m&&(l&S)===0&&(S=m&-m,K=l&-l,S>=K||S===32&&(K&4194176)!==0)?l:m}function k(i,l){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&l)===0}function J(i,l){switch(i){case 1:case 2:case 4:case 8:return l+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function X(){var i=Da;return Da<<=1,(Da&4194176)===0&&(Da=128),i}function F(){var i=ys;return ys<<=1,(ys&62914560)===0&&(ys=4194304),i}function Y(i){for(var l=[],h=0;31>h;h++)l.push(i);return l}function P(i,l){i.pendingLanes|=l,l!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function tt(i,l,h,m,S,M){var K=i.pendingLanes;i.pendingLanes=h,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=h,i.entangledLanes&=h,i.errorRecoveryDisabledLanes&=h,i.shellSuspendCounter=0;var Z=i.entanglements,st=i.expirationTimes,_t=i.hiddenUpdates;for(h=K&~h;0<h;){var At=31-ai(h),Dt=1<<At;Z[At]=0,st[At]=-1;var Ot=_t[At];if(Ot!==null)for(_t[At]=null,At=0;At<Ot.length;At++){var Pt=Ot[At];Pt!==null&&(Pt.lane&=-536870913)}h&=~Dt}m!==0&&x(i,m,0),M!==0&&S===0&&i.tag!==0&&(i.suspendedLanes|=M&~(K&~l))}function x(i,l,h){i.pendingLanes|=l,i.suspendedLanes&=~l;var m=31-ai(l);i.entangledLanes|=l,i.entanglements[m]=i.entanglements[m]|1073741824|h&4194218}function V(i,l){var h=i.entangledLanes|=l;for(i=i.entanglements;h;){var m=31-ai(h),S=1<<m;S&l|i[m]&l&&(i[m]|=l),h&=~S}}function G(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function D(i){if(pi&&typeof pi.onCommitFiberRoot=="function")try{pi.onCommitFiberRoot(sn,i,void 0,(i.current.flags&128)===128)}catch{}}function L(i){if(typeof B0=="function"&&Rn(i),pi&&typeof pi.setStrictMode=="function")try{pi.setStrictMode(sn,i)}catch{}}function Q(i,l){return i===l&&(i!==0||1/i===1/l)||i!==i&&l!==l}function et(i,l){if(typeof i=="object"&&i!==null){var h=Yh.get(i);return h!==void 0?h:(l={value:i,source:l,stack:b(l)},Yh.set(i,l),l)}return{value:i,source:l,stack:b(l)}}function q(i,l){Ss[bs++]=Ar,Ss[bs++]=Es,Es=i,Ar=l}function $(i,l,h){Ni[Mi++]=da,Ni[Mi++]=ga,Ni[Mi++]=Ql,Ql=i;var m=da;i=ga;var S=32-ai(m)-1;m&=~(1<<S),h+=1;var M=32-ai(l)+S;if(30<M){var K=S-S%5;M=(m&(1<<K)-1).toString(32),m>>=K,S-=K,da=1<<32-ai(l)+S|h<<S|m,ga=M+i}else da=1<<M|h<<S|m,ga=i}function ft(i){i.return!==null&&(q(i,1),$(i,1,0))}function nt(i){for(;i===Es;)Es=Ss[--bs],Ss[bs]=null,Ar=Ss[--bs],Ss[bs]=null;for(;i===Ql;)Ql=Ni[--Mi],Ni[Mi]=null,ga=Ni[--Mi],Ni[Mi]=null,da=Ni[--Mi],Ni[Mi]=null}function ut(i,l){N(Oa,l),N(Rr,i),N(vn,null),i=Wd(l),H(vn),N(vn,i)}function yt(){H(vn),H(Rr),H(Oa)}function Et(i){i.memoizedState!==null&&N(Cs,i);var l=vn.current,h=Sr(l,i.type);l!==h&&(N(Rr,i),N(vn,h))}function W(i){Rr.current===i&&(H(vn),H(Rr)),Cs.current===i&&(H(Cs),ni?ha._currentValue=Fl:ha._currentValue2=Fl)}function rt(i){var l=Error(c(418,""));throw te(et(l,i)),jo}function Ct(i,l){if(!Gn)throw Error(c(175));C0(i.stateNode,i.type,i.memoizedProps,l,i)||rt(i)}function Rt(i){for(Hn=i.return;Hn;)switch(Hn.tag){case 3:case 27:Nn=!0;return;case 5:case 13:Nn=!1;return;default:Hn=Hn.return}}function Mt(i){if(!Gn||i!==Hn)return!1;if(!he)return Rt(i),he=!0,!1;var l=!1;if(Ae?i.tag!==3&&i.tag!==27&&(i.tag!==5||Pu(i.type)&&!It(i.type,i.memoizedProps))&&(l=!0):i.tag!==3&&(i.tag!==5||Pu(i.type)&&!It(i.type,i.memoizedProps))&&(l=!0),l&&Bn&&rt(i),Rt(i),i.tag===13){if(!Gn)throw Error(c(316));if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(c(317));Bn=A0(i)}else Bn=Hn?Bh(i.stateNode):null;return!0}function xt(){Gn&&(Bn=Hn=null,he=!1)}function te(i){Ii===null?Ii=[i]:Ii.push(i)}function re(){for(var i=Ts,l=ma=Ts=0;l<i;){var h=Zi[l];Zi[l++]=null;var m=Zi[l];Zi[l++]=null;var S=Zi[l];Zi[l++]=null;var M=Zi[l];if(Zi[l++]=null,m!==null&&S!==null){var K=m.pending;K===null?S.next=S:(S.next=K.next,K.next=S),m.pending=S}M!==0&&Be(h,S,M)}}function Xt(i,l,h,m){Zi[Ts++]=i,Zi[Ts++]=l,Zi[Ts++]=h,Zi[Ts++]=m,ma|=m,i.lanes|=m,i=i.alternate,i!==null&&(i.lanes|=m)}function on(i,l,h,m){return Xt(i,l,h,m),Li(i)}function kt(i,l){return Xt(i,null,null,l),Li(i)}function Be(i,l,h){i.lanes|=h;var m=i.alternate;m!==null&&(m.lanes|=h);for(var S=!1,M=i.return;M!==null;)M.childLanes|=h,m=M.alternate,m!==null&&(m.childLanes|=h),M.tag===22&&(i=M.stateNode,i===null||i._visibility&1||(S=!0)),i=M,M=M.return;S&&l!==null&&i.tag===3&&(M=i.stateNode,S=31-ai(h),M=M.hiddenUpdates,i=M[S],i===null?M[S]=[l]:i.push(l),l.lane=h|536870912)}function Li(i){if(50<Gr)throw Gr=0,oc=null,Error(c(185));for(var l=i.return;l!==null;)i=l,l=i.return;return i.tag===3?i.stateNode:null}function Le(i){i!==ul&&i.next===null&&(ul===null?Fo=ul=i:ul=ul.next=i),De=!0,As||(As=!0,un(qe))}function Zn(i,l){if(!jh&&De){jh=!0;do for(var h=!1,m=Fo;m!==null;){if(i!==0){var S=m.pendingLanes;if(S===0)var M=0;else{var K=m.suspendedLanes,Z=m.pingedLanes;M=(1<<31-ai(42|i)+1)-1,M&=S&~(K&~Z),M=M&201326677?M&201326677|1:M?M|2:0}M!==0&&(h=!0,qi(m,M))}else M=ie,M=B(m,m===ye?M:0),(M&3)===0||k(m,M)||(h=!0,qi(m,M));m=m.next}while(h);jh=!1}}function qe(){De=As=!1;var i=0;Nr!==0&&(n0()&&(i=Nr),Nr=0);for(var l=Qi(),h=null,m=Fo;m!==null;){var S=m.next,M=qn(m,l);M===0?(m.next=null,h===null?Fo=S:h.next=S,S===null&&(ul=h)):(h=m,(i!==0||(M&3)!==0)&&(De=!0)),m=S}Zn(i)}function qn(i,l){for(var h=i.suspendedLanes,m=i.pingedLanes,S=i.expirationTimes,M=i.pendingLanes&-62914561;0<M;){var K=31-ai(M),Z=1<<K,st=S[K];st===-1?((Z&h)===0||(Z&m)!==0)&&(S[K]=J(Z,l)):st<=l&&(i.expiredLanes|=Z),M&=~Z}if(l=ye,h=ie,h=B(i,i===l?h:0),m=i.callbackNode,h===0||i===l&&Ce===2||i.cancelPendingCommit!==null)return m!==null&&m!==null&&Ju(m),i.callbackNode=null,i.callbackPriority=0;if((h&3)===0||k(i,h)){if(l=h&-h,l===i.callbackPriority)return l;switch(m!==null&&Ju(m),G(h)){case 2:case 8:h=H0;break;case 32:h=tc;break;case 268435456:h=sg;break;default:h=tc}return m=bi.bind(null,i),h=Yo(h,m),i.callbackPriority=l,i.callbackNode=h,l}return m!==null&&m!==null&&Ju(m),i.callbackPriority=2,i.callbackNode=null,2}function bi(i,l){var h=i.callbackNode;if(ua()&&i.callbackNode!==h)return null;var m=ie;return m=B(i,i===ye?m:0),m===0?null:(Hl(i,m,l),qn(i,Qi()),i.callbackNode!=null&&i.callbackNode===h?bi.bind(null,i):null)}function qi(i,l){if(ua())return null;Hl(i,l,!0)}function un(i){Nh?rl(function(){(ge&6)!==0?Yo($u,i):i()}):Yo($u,i)}function Ve(){return Nr===0&&(Nr=X()),Nr}function En(i,l){if(Mr===null){var h=Mr=[];Rs=0,Di=Ve(),Ns={status:"pending",value:void 0,then:function(m){h.push(m)}}}return Rs++,l.then(Ze,Ze),l}function Ze(){if(--Rs===0&&Mr!==null){Ns!==null&&(Ns.status="fulfilled");var i=Mr;Mr=null,Di=0,Ns=null;for(var l=0;l<i.length;l++)(0,i[l])()}}function Sa(i,l){var h=[],m={status:"pending",value:null,reason:null,then:function(S){h.push(S)}};return i.then(function(){m.status="fulfilled",m.value=l;for(var S=0;S<h.length;S++)(0,h[S])(l)},function(S){for(m.status="rejected",m.reason=S,S=0;S<h.length;S++)(0,h[S])(void 0)}),m}function Vi(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Jn(i,l){i=i.updateQueue,l.updateQueue===i&&(l.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function ke(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Xe(i,l,h){var m=i.updateQueue;if(m===null)return null;if(m=m.shared,(ge&2)!==0){var S=m.pending;return S===null?l.next=l:(l.next=S.next,S.next=l),m.pending=l,l=Li(i),Be(i,null,h),l}return Xt(i,m,l,h),Li(i)}function Wn(i,l,h){if(l=l.updateQueue,l!==null&&(l=l.shared,(h&4194176)!==0)){var m=l.lanes;m&=i.pendingLanes,h|=m,l.lanes=h,V(i,h)}}function Sl(i,l){var h=i.updateQueue,m=i.alternate;if(m!==null&&(m=m.updateQueue,h===m)){var S=null,M=null;if(h=h.firstBaseUpdate,h!==null){do{var K={lane:h.lane,tag:h.tag,payload:h.payload,callback:null,next:null};M===null?S=M=K:M=M.next=K,h=h.next}while(h!==null);M===null?S=M=l:M=M.next=l}else S=M=l;h={baseState:m.baseState,firstBaseUpdate:S,lastBaseUpdate:M,shared:m.shared,callbacks:m.callbacks},i.updateQueue=h;return}i=h.lastBaseUpdate,i===null?h.firstBaseUpdate=l:i.next=l,h.lastBaseUpdate=l}function ja(){if(Ms){var i=Ns;if(i!==null)throw i}}function Jr(i,l,h,m){Ms=!1;var S=i.updateQueue;cl=!1;var M=S.firstBaseUpdate,K=S.lastBaseUpdate,Z=S.shared.pending;if(Z!==null){S.shared.pending=null;var st=Z,_t=st.next;st.next=null,K===null?M=_t:K.next=_t,K=st;var At=i.alternate;At!==null&&(At=At.updateQueue,Z=At.lastBaseUpdate,Z!==K&&(Z===null?At.firstBaseUpdate=_t:Z.next=_t,At.lastBaseUpdate=st))}if(M!==null){var Dt=S.baseState;K=0,At=_t=st=null,Z=M;do{var Ot=Z.lane&-536870913,Pt=Ot!==Z.lane;if(Pt?(ie&Ot)===Ot:(m&Ot)===Ot){Ot!==0&&Ot===Di&&(Ms=!0),At!==null&&(At=At.next={lane:0,tag:Z.tag,payload:Z.payload,callback:null,next:null});t:{var Bi=i,is=Z;Ot=l;var as=h;switch(is.tag){case 1:if(Bi=is.payload,typeof Bi=="function"){Dt=Bi.call(as,Dt,Ot);break t}Dt=Bi;break t;case 3:Bi.flags=Bi.flags&-65537|128;case 0:if(Bi=is.payload,Ot=typeof Bi=="function"?Bi.call(as,Dt,Ot):Bi,Ot==null)break t;Dt=Gu({},Dt,Ot);break t;case 2:cl=!0}}Ot=Z.callback,Ot!==null&&(i.flags|=64,Pt&&(i.flags|=8192),Pt=S.callbacks,Pt===null?S.callbacks=[Ot]:Pt.push(Ot))}else Pt={lane:Ot,tag:Z.tag,payload:Z.payload,callback:Z.callback,next:null},At===null?(_t=At=Pt,st=Dt):At=At.next=Pt,K|=Ot;if(Z=Z.next,Z===null){if(Z=S.shared.pending,Z===null)break;Pt=Z,Z=Pt.next,Pt.next=null,S.lastBaseUpdate=Pt,S.shared.pending=null}}while(!0);At===null&&(st=Dt),S.baseState=st,S.firstBaseUpdate=_t,S.lastBaseUpdate=At,M===null&&(S.shared.lanes=0),Gi|=K,i.lanes=K,i.memoizedState=Dt}}function wc(i,l){if(typeof i!="function")throw Error(c(191,i));i.call(l)}function Uc(i,l){var h=i.callbacks;if(h!==null)for(i.callbacks=null,i=0;i<h.length;i++)wc(h[i],l)}function Ks(i,l){if(_i(i,l))return!0;if(typeof i!="object"||i===null||typeof l!="object"||l===null)return!1;var h=Object.keys(i),m=Object.keys(l);if(h.length!==m.length)return!1;for(m=0;m<h.length;m++){var S=h[m];if(!xa.call(l,S)||!_i(i[S],l[S]))return!1}return!0}function Ps(i){return i=i.status,i==="fulfilled"||i==="rejected"}function su(){}function zc(i,l,h){switch(h=i[h],h===void 0?i.push(l):h!==l&&(l.then(su,su),l=h),l.status){case"fulfilled":return l.value;case"rejected":throw i=l.reason,i===Dr?Error(c(483)):i;default:if(typeof l.status=="string")l.then(su,su);else{if(i=ye,i!==null&&100<i.shellSuspendCounter)throw Error(c(482));i=l,i.status="pending",i.then(function(m){if(l.status==="pending"){var S=l;S.status="fulfilled",S.value=m}},function(m){if(l.status==="pending"){var S=l;S.status="rejected",S.reason=m}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw i=l.reason,i===Dr?Error(c(483)):i}throw Il=l,Dr}}function Gc(){if(Il===null)throw Error(c(459));var i=Il;return Il=null,i}function Qs(i){var l=Jl;return Jl+=1,Zl===null&&(Zl=[]),zc(Zl,i,l)}function rs(i,l){l=l.props.ref,i.ref=l!==void 0?l:null}function Wr(i,l){throw l.$$typeof===$1?Error(c(525)):(i=Object.prototype.toString.call(l),Error(c(31,i==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":i)))}function Td(i){var l=i._init;return l(i._payload)}function Fa(i){function l(ht,it){if(i){var mt=ht.deletions;mt===null?(ht.deletions=[it],ht.flags|=16):mt.push(it)}}function h(ht,it){if(!i)return null;for(;it!==null;)l(ht,it),it=it.sibling;return null}function m(ht){for(var it=new Map;ht!==null;)ht.key!==null?it.set(ht.key,ht):it.set(ht.index,ht),ht=ht.sibling;return it}function S(ht,it){return ht=ki(ht,it),ht.index=0,ht.sibling=null,ht}function M(ht,it,mt){return ht.index=mt,i?(mt=ht.alternate,mt!==null?(mt=mt.index,mt<it?(ht.flags|=33554434,it):mt):(ht.flags|=33554434,it)):(ht.flags|=1048576,it)}function K(ht){return i&&ht.alternate===null&&(ht.flags|=33554434),ht}function Z(ht,it,mt,Tt){return it===null||it.tag!==6?(it=Uu(mt,ht.mode,Tt),it.return=ht,it):(it=S(it,mt),it.return=ht,it)}function st(ht,it,mt,Tt){var Ut=mt.type;return Ut===Yl?At(ht,it,mt.props.children,Tt,mt.key):it!==null&&(it.elementType===Ut||typeof Ut=="object"&&Ut!==null&&Ut.$$typeof===Ki&&Td(Ut)===it.type)?(it=S(it,mt.props),rs(it,mt),it.return=ht,it):(it=Ra(mt.type,mt.key,mt.props,null,ht.mode,Tt),rs(it,mt),it.return=ht,it)}function _t(ht,it,mt,Tt){return it===null||it.tag!==4||it.stateNode.containerInfo!==mt.containerInfo||it.stateNode.implementation!==mt.implementation?(it=yh(mt,ht.mode,Tt),it.return=ht,it):(it=S(it,mt.children||[]),it.return=ht,it)}function At(ht,it,mt,Tt,Ut){return it===null||it.tag!==7?(it=Je(mt,ht.mode,Tt,Ut),it.return=ht,it):(it=S(it,mt),it.return=ht,it)}function Dt(ht,it,mt){if(typeof it=="string"&&it!==""||typeof it=="number"||typeof it=="bigint")return it=Uu(""+it,ht.mode,mt),it.return=ht,it;if(typeof it=="object"&&it!==null){switch(it.$$typeof){case Oo:return mt=Ra(it.type,it.key,it.props,null,ht.mode,mt),rs(mt,it),mt.return=ht,mt;case Xi:return it=yh(it,ht.mode,mt),it.return=ht,it;case Ki:var Tt=it._init;return it=Tt(it._payload),Dt(ht,it,mt)}if(_r(it)||f(it))return it=Je(it,ht.mode,mt,null),it.return=ht,it;if(typeof it.then=="function")return Dt(ht,Qs(it),mt);if(it.$$typeof===ca)return Dt(ht,mo(ht,it),mt);Wr(ht,it)}return null}function Ot(ht,it,mt,Tt){var Ut=it!==null?it.key:null;if(typeof mt=="string"&&mt!==""||typeof mt=="number"||typeof mt=="bigint")return Ut!==null?null:Z(ht,it,""+mt,Tt);if(typeof mt=="object"&&mt!==null){switch(mt.$$typeof){case Oo:return mt.key===Ut?st(ht,it,mt,Tt):null;case Xi:return mt.key===Ut?_t(ht,it,mt,Tt):null;case Ki:return Ut=mt._init,mt=Ut(mt._payload),Ot(ht,it,mt,Tt)}if(_r(mt)||f(mt))return Ut!==null?null:At(ht,it,mt,Tt,null);if(typeof mt.then=="function")return Ot(ht,it,Qs(mt),Tt);if(mt.$$typeof===ca)return Ot(ht,it,mo(ht,mt),Tt);Wr(ht,mt)}return null}function Pt(ht,it,mt,Tt,Ut){if(typeof Tt=="string"&&Tt!==""||typeof Tt=="number"||typeof Tt=="bigint")return ht=ht.get(mt)||null,Z(it,ht,""+Tt,Ut);if(typeof Tt=="object"&&Tt!==null){switch(Tt.$$typeof){case Oo:return ht=ht.get(Tt.key===null?mt:Tt.key)||null,st(it,ht,Tt,Ut);case Xi:return ht=ht.get(Tt.key===null?mt:Tt.key)||null,_t(it,ht,Tt,Ut);case Ki:var Ge=Tt._init;return Tt=Ge(Tt._payload),Pt(ht,it,mt,Tt,Ut)}if(_r(Tt)||f(Tt))return ht=ht.get(mt)||null,At(it,ht,Tt,Ut,null);if(typeof Tt.then=="function")return Pt(ht,it,mt,Qs(Tt),Ut);if(Tt.$$typeof===ca)return Pt(ht,it,mt,mo(it,Tt),Ut);Wr(it,Tt)}return null}function Bi(ht,it,mt,Tt){for(var Ut=null,Ge=null,Yt=it,pe=it=0,rn=null;Yt!==null&&pe<mt.length;pe++){Yt.index>pe?(rn=Yt,Yt=null):rn=Yt.sibling;var ee=Ot(ht,Yt,mt[pe],Tt);if(ee===null){Yt===null&&(Yt=rn);break}i&&Yt&&ee.alternate===null&&l(ht,Yt),it=M(ee,it,pe),Ge===null?Ut=ee:Ge.sibling=ee,Ge=ee,Yt=rn}if(pe===mt.length)return h(ht,Yt),he&&q(ht,pe),Ut;if(Yt===null){for(;pe<mt.length;pe++)Yt=Dt(ht,mt[pe],Tt),Yt!==null&&(it=M(Yt,it,pe),Ge===null?Ut=Yt:Ge.sibling=Yt,Ge=Yt);return he&&q(ht,pe),Ut}for(Yt=m(Yt);pe<mt.length;pe++)rn=Pt(Yt,ht,pe,mt[pe],Tt),rn!==null&&(i&&rn.alternate!==null&&Yt.delete(rn.key===null?pe:rn.key),it=M(rn,it,pe),Ge===null?Ut=rn:Ge.sibling=rn,Ge=rn);return i&&Yt.forEach(function(qa){return l(ht,qa)}),he&&q(ht,pe),Ut}function is(ht,it,mt,Tt){if(mt==null)throw Error(c(151));for(var Ut=null,Ge=null,Yt=it,pe=it=0,rn=null,ee=mt.next();Yt!==null&&!ee.done;pe++,ee=mt.next()){Yt.index>pe?(rn=Yt,Yt=null):rn=Yt.sibling;var qa=Ot(ht,Yt,ee.value,Tt);if(qa===null){Yt===null&&(Yt=rn);break}i&&Yt&&qa.alternate===null&&l(ht,Yt),it=M(qa,it,pe),Ge===null?Ut=qa:Ge.sibling=qa,Ge=qa,Yt=rn}if(ee.done)return h(ht,Yt),he&&q(ht,pe),Ut;if(Yt===null){for(;!ee.done;pe++,ee=mt.next())ee=Dt(ht,ee.value,Tt),ee!==null&&(it=M(ee,it,pe),Ge===null?Ut=ee:Ge.sibling=ee,Ge=ee);return he&&q(ht,pe),Ut}for(Yt=m(Yt);!ee.done;pe++,ee=mt.next())ee=Pt(Yt,ht,pe,ee.value,Tt),ee!==null&&(i&&ee.alternate!==null&&Yt.delete(ee.key===null?pe:ee.key),it=M(ee,it,pe),Ge===null?Ut=ee:Ge.sibling=ee,Ge=ee);return i&&Yt.forEach(function(uc){return l(ht,uc)}),he&&q(ht,pe),Ut}function as(ht,it,mt,Tt){if(typeof mt=="object"&&mt!==null&&mt.type===Yl&&mt.key===null&&(mt=mt.props.children),typeof mt=="object"&&mt!==null){switch(mt.$$typeof){case Oo:t:{for(var Ut=mt.key;it!==null;){if(it.key===Ut){if(Ut=mt.type,Ut===Yl){if(it.tag===7){h(ht,it.sibling),Tt=S(it,mt.props.children),Tt.return=ht,ht=Tt;break t}}else if(it.elementType===Ut||typeof Ut=="object"&&Ut!==null&&Ut.$$typeof===Ki&&Td(Ut)===it.type){h(ht,it.sibling),Tt=S(it,mt.props),rs(Tt,mt),Tt.return=ht,ht=Tt;break t}h(ht,it);break}else l(ht,it);it=it.sibling}mt.type===Yl?(Tt=Je(mt.props.children,ht.mode,Tt,mt.key),Tt.return=ht,ht=Tt):(Tt=Ra(mt.type,mt.key,mt.props,null,ht.mode,Tt),rs(Tt,mt),Tt.return=ht,ht=Tt)}return K(ht);case Xi:t:{for(Ut=mt.key;it!==null;){if(it.key===Ut)if(it.tag===4&&it.stateNode.containerInfo===mt.containerInfo&&it.stateNode.implementation===mt.implementation){h(ht,it.sibling),Tt=S(it,mt.children||[]),Tt.return=ht,ht=Tt;break t}else{h(ht,it);break}else l(ht,it);it=it.sibling}Tt=yh(mt,ht.mode,Tt),Tt.return=ht,ht=Tt}return K(ht);case Ki:return Ut=mt._init,mt=Ut(mt._payload),as(ht,it,mt,Tt)}if(_r(mt))return Bi(ht,it,mt,Tt);if(f(mt)){if(Ut=f(mt),typeof Ut!="function")throw Error(c(150));return mt=Ut.call(mt),is(ht,it,mt,Tt)}if(typeof mt.then=="function")return as(ht,it,Qs(mt),Tt);if(mt.$$typeof===ca)return as(ht,it,mo(ht,mt),Tt);Wr(ht,mt)}return typeof mt=="string"&&mt!==""||typeof mt=="number"||typeof mt=="bigint"?(mt=""+mt,it!==null&&it.tag===6?(h(ht,it.sibling),Tt=S(it,mt),Tt.return=ht,ht=Tt):(h(ht,it),Tt=Uu(mt,ht.mode,Tt),Tt.return=ht,ht=Tt),K(ht)):h(ht,it)}return function(ht,it,mt,Tt){try{Jl=0;var Ut=as(ht,it,mt,Tt);return Zl=null,Ut}catch(Yt){if(Yt===Dr)throw Yt;var Ge=s(29,Yt,null,ht.mode);return Ge.lanes=Tt,Ge.return=ht,Ge}finally{}}}function Dn(i,l){i=kn,N(Or,i),N(Oe,l),kn=i|l.baseLanes}function Vn(){N(Or,kn),N(Oe,Oe.current)}function bl(){kn=Or.current,H(Oe),H(Or)}function ba(i){var l=i.alternate;N(yn,yn.current&1),N(Oi,i),Re===null&&(l===null||Oe.current!==null||l.memoizedState!==null)&&(Re=i)}function Ad(i){if(i.tag===22){if(N(yn,yn.current),N(Oi,i),Re===null){var l=i.alternate;l!==null&&l.memoizedState!==null&&(Re=i)}}else El()}function El(){N(yn,yn.current),N(Oi,Oi.current)}function Ea(i){H(Oi),Re===i&&(Re=null),H(yn)}function Cl(i){for(var l=i;l!==null;){if(l.tag===13){var h=l.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||ku(h)||Xu(h)))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}function Ke(){throw Error(c(321))}function Tl(i,l){if(l===null)return!1;for(var h=0;h<l.length&&h<i.length;h++)if(!_i(i[h],l[h]))return!1;return!0}function Al(i,l,h,m,S,M){return hl=M,Jt=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,Vt.H=i===null||i.memoizedState===null?ts:li,$l=!1,M=h(m,S),$l=!1,Ds&&(M=os(l,h,m,S)),Is(i),M}function Is(i){Vt.H=We;var l=Ht!==null&&Ht.next!==null;if(hl=0,de=Ht=Jt=null,Ji=!1,Os=0,Mn=null,l)throw Error(c(300));i===null||Ne||(i=i.dependencies,i!==null&&go(i)&&(Ne=!0))}function os(i,l,h,m){Jt=i;var S=0;do{if(Ds&&(Mn=null),Os=0,Ds=!1,25<=S)throw Error(c(301));if(S+=1,de=Ht=null,i.updateQueue!=null){var M=i.updateQueue;M.lastEffect=null,M.events=null,M.stores=null,M.memoCache!=null&&(M.memoCache.index=0)}Vt.H=xi,M=l(h,m)}while(Ds);return M}function Cn(){var i=Vt.H,l=i.useState()[0];return l=typeof l.then=="function"?Zs(l):l,i=i.useState()[0],(Ht!==null?Ht.memoizedState:null)!==i&&(Jt.flags|=1024),l}function ru(){var i=ec!==0;return ec=0,i}function ou(i,l,h){l.updateQueue=i.updateQueue,l.flags&=-2053,i.lanes&=~h}function ka(i){if(Ji){for(i=i.memoizedState;i!==null;){var l=i.queue;l!==null&&(l.pending=null),i=i.next}Ji=!1}hl=0,de=Ht=Jt=null,Ds=!1,Os=ec=0,Mn=null}function pn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return de===null?Jt.memoizedState=de=i:de=de.next=i,de}function cn(){if(Ht===null){var i=Jt.alternate;i=i!==null?i.memoizedState:null}else i=Ht.next;var l=de===null?Jt.memoizedState:de.next;if(l!==null)de=l,Ht=i;else{if(i===null)throw Jt.alternate===null?Error(c(467)):Error(c(310));Ht=i,i={memoizedState:Ht.memoizedState,baseState:Ht.baseState,baseQueue:Ht.baseQueue,queue:Ht.queue,next:null},de===null?Jt.memoizedState=de=i:de=de.next=i}return de}function Zs(i){var l=Os;return Os+=1,Mn===null&&(Mn=[]),i=zc(Mn,i,l),l=Jt,(de===null?l.memoizedState:de.next)===null&&(l=l.alternate,Vt.H=l===null||l.memoizedState===null?ts:li),i}function $r(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Zs(i);if(i.$$typeof===ca)return xn(i)}throw Error(c(438,String(i)))}function Hc(i){var l=null,h=Jt.updateQueue;if(h!==null&&(l=h.memoCache),l==null){var m=Jt.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(l={data:m.data.map(function(S){return S.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),h===null&&(h=nc(),Jt.updateQueue=h),h.memoCache=l,h=l.data[l.index],h===void 0)for(h=l.data[l.index]=Array(i),m=0;m<i;m++)h[m]=Jd;return l.index++,h}function Yi(i,l){return typeof l=="function"?l(i):l}function us(i){var l=cn();return sa(l,Ht,i)}function sa(i,l,h){var m=i.queue;if(m===null)throw Error(c(311));m.lastRenderedReducer=h;var S=i.baseQueue,M=m.pending;if(M!==null){if(S!==null){var K=S.next;S.next=M.next,M.next=K}l.baseQueue=S=M,m.pending=null}if(M=i.baseState,S===null)i.memoizedState=M;else{l=S.next;var Z=K=null,st=null,_t=l,At=!1;do{var Dt=_t.lane&-536870913;if(Dt!==_t.lane?(ie&Dt)===Dt:(hl&Dt)===Dt){var Ot=_t.revertLane;if(Ot===0)st!==null&&(st=st.next={lane:0,revertLane:0,action:_t.action,hasEagerState:_t.hasEagerState,eagerState:_t.eagerState,next:null}),Dt===Di&&(At=!0);else if((hl&Ot)===Ot){_t=_t.next,Ot===Di&&(At=!0);continue}else Dt={lane:0,revertLane:_t.revertLane,action:_t.action,hasEagerState:_t.hasEagerState,eagerState:_t.eagerState,next:null},st===null?(Z=st=Dt,K=M):st=st.next=Dt,Jt.lanes|=Ot,Gi|=Ot;Dt=_t.action,$l&&h(M,Dt),M=_t.hasEagerState?_t.eagerState:h(M,Dt)}else Ot={lane:Dt,revertLane:_t.revertLane,action:_t.action,hasEagerState:_t.hasEagerState,eagerState:_t.eagerState,next:null},st===null?(Z=st=Ot,K=M):st=st.next=Ot,Jt.lanes|=Dt,Gi|=Dt;_t=_t.next}while(_t!==null&&_t!==l);if(st===null?K=M:st.next=Z,!_i(M,i.memoizedState)&&(Ne=!0,At&&(h=Ns,h!==null)))throw h;i.memoizedState=M,i.baseState=K,i.baseQueue=st,m.lastRenderedState=M}return S===null&&(m.lanes=0),[i.memoizedState,m.dispatch]}function to(i){var l=cn(),h=l.queue;if(h===null)throw Error(c(311));h.lastRenderedReducer=i;var m=h.dispatch,S=h.pending,M=l.memoizedState;if(S!==null){h.pending=null;var K=S=S.next;do M=i(M,K.action),K=K.next;while(K!==S);_i(M,l.memoizedState)||(Ne=!0),l.memoizedState=M,l.baseQueue===null&&(l.baseState=M),h.lastRenderedState=M}return[M,m]}function Bc(i,l,h){var m=Jt,S=cn(),M=he;if(M){if(h===void 0)throw Error(c(407));h=h()}else h=l();var K=!_i((Ht||S).memoizedState,h);if(K&&(S.memoizedState=h,Ne=!0),S=S.queue,kc(cu.bind(null,m,S,i),[i]),S.getSnapshot!==l||K||de!==null&&de.memoizedState.tag&1){if(m.flags|=2048,ra(9,uu.bind(null,m,S,h,l),{destroy:void 0},null),ye===null)throw Error(c(349));M||(hl&60)!==0||cs(m,l,h)}return h}function cs(i,l,h){i.flags|=16384,i={getSnapshot:l,value:h},l=Jt.updateQueue,l===null?(l=nc(),Jt.updateQueue=l,l.stores=[i]):(h=l.stores,h===null?l.stores=[i]:h.push(i))}function uu(i,l,h,m){l.value=h,l.getSnapshot=m,Rd(l)&&Lc(i)}function cu(i,l,h){return h(function(){Rd(l)&&Lc(i)})}function Rd(i){var l=i.getSnapshot;i=i.value;try{var h=l();return!_i(i,h)}catch{return!0}}function Lc(i){var l=kt(i,2);l!==null&&An(l,i,2)}function ui(i){var l=pn();if(typeof i=="function"){var h=i;if(i=h(),$l){L(!0);try{h()}finally{L(!1)}}}return l.memoizedState=l.baseState=i,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:i},l}function qc(i,l,h,m){return i.baseState=h,sa(i,Ht,typeof m=="function"?m:Yi)}function Q1(i,l,h,m,S){if(oo(i))throw Error(c(485));if(i=l.action,i!==null){var M={payload:S,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(K){M.listeners.push(K)}};Vt.T!==null?h(!0):M.isTransition=!1,m(M),h=l.pending,h===null?(M.next=l.pending=M,eo(l,M)):(M.next=h.next,l.pending=h.next=M)}}function eo(i,l){var h=l.action,m=l.payload,S=i.state;if(l.isTransition){var M=Vt.T,K={};Vt.T=K;try{var Z=h(S,m),st=Vt.S;st!==null&&st(K,Z),Vc(i,l,Z)}catch(_t){Yc(i,l,_t)}finally{Vt.T=M}}else try{M=h(S,m),Vc(i,l,M)}catch(_t){Yc(i,l,_t)}}function Vc(i,l,h){h!==null&&typeof h=="object"&&typeof h.then=="function"?h.then(function(m){no(i,l,m)},function(m){return Yc(i,l,m)}):no(i,l,h)}function no(i,l,h){l.status="fulfilled",l.value=h,Ei(l),i.state=h,l=i.pending,l!==null&&(h=l.next,h===l?i.pending=null:(h=h.next,l.next=h,eo(i,h)))}function Yc(i,l,h){var m=i.pending;if(i.pending=null,m!==null){m=m.next;do l.status="rejected",l.reason=h,Ei(l),l=l.next;while(l!==m)}i.action=null}function Ei(i){i=i.listeners;for(var l=0;l<i.length;l++)(0,i[l])()}function hu(i,l){return l}function jc(i,l){if(he){var h=ye.formState;if(h!==null){t:{var m=Jt;if(he){if(Bn){var S=Hh(Bn,Nn);if(S){Bn=Bh(S),m=y0(S);break t}}rt(m)}m=!1}m&&(l=h[0])}}h=pn(),h.memoizedState=h.baseState=l,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hu,lastRenderedState:l},h.queue=m,h=Qc.bind(null,Jt,m),m.dispatch=h,m=ui(!1);var M=$s.bind(null,Jt,!1,m.queue);return m=pn(),S={state:l,dispatch:null,action:i,pending:null},m.queue=S,h=Q1.bind(null,Jt,S,M,h),S.dispatch=h,m.memoizedState=i,[l,h,!1]}function fu(i){var l=cn();return hs(l,Ht,i)}function hs(i,l,h){l=sa(i,l,hu)[0],i=us(Yi)[0],l=typeof l=="object"&&l!==null&&typeof l.then=="function"?Zs(l):l;var m=cn(),S=m.queue,M=S.dispatch;return h!==m.memoizedState&&(Jt.flags|=2048,ra(9,Nd.bind(null,S,h),{destroy:void 0},null)),[l,M,i]}function Nd(i,l){i.action=l}function Fc(i){var l=cn(),h=Ht;if(h!==null)return hs(l,h,i);cn(),l=l.memoizedState,h=cn();var m=h.queue.dispatch;return h.memoizedState=i,[l,m,!1]}function ra(i,l,h,m){return i={tag:i,create:l,inst:h,deps:m,next:null},l=Jt.updateQueue,l===null&&(l=nc(),Jt.updateQueue=l),h=l.lastEffect,h===null?l.lastEffect=i.next=i:(m=h.next,h.next=i,i.next=m,l.lastEffect=i),i}function Md(){return cn().memoizedState}function io(i,l,h,m){var S=pn();Jt.flags|=i,S.memoizedState=ra(1|l,h,{destroy:void 0},m===void 0?null:m)}function ao(i,l,h,m){var S=cn();m=m===void 0?null:m;var M=S.memoizedState.inst;Ht!==null&&m!==null&&Tl(m,Ht.memoizedState.deps)?S.memoizedState=ra(l,h,M,m):(Jt.flags|=i,S.memoizedState=ra(1|l,h,M,m))}function du(i,l){io(8390656,8,i,l)}function kc(i,l){ao(2048,8,i,l)}function Dd(i,l){return ao(4,2,i,l)}function lo(i,l){return ao(4,4,i,l)}function gu(i,l){if(typeof l=="function"){i=i();var h=l(i);return function(){typeof h=="function"?h():l(null)}}if(l!=null)return i=i(),l.current=i,function(){l.current=null}}function mu(i,l,h){h=h!=null?h.concat([i]):null,ao(4,4,gu.bind(null,l,i),h)}function Rl(){}function fs(i,l){var h=cn();l=l===void 0?null:l;var m=h.memoizedState;return l!==null&&Tl(l,m[1])?m[0]:(h.memoizedState=[i,l],i)}function Xc(i,l){var h=cn();l=l===void 0?null:l;var m=h.memoizedState;if(l!==null&&Tl(l,m[1]))return m[0];if(m=i(),$l){L(!0);try{i()}finally{L(!1)}}return h.memoizedState=[m,l],m}function so(i,l,h){return h===void 0||(hl&1073741824)!==0?i.memoizedState=l:(i.memoizedState=h,i=dh(),Jt.lanes|=i,Gi|=i,h)}function Kc(i,l,h,m){return _i(h,l)?h:Oe.current!==null?(i=so(i,h,m),_i(i,l)||(Ne=!0),i):(hl&42)===0?(Ne=!0,i.memoizedState=h):(i=dh(),Jt.lanes|=i,Gi|=i,l)}function Js(i,l,h,m,S){var M=sl();jn(M!==0&&8>M?M:8);var K=Vt.T,Z={};Vt.T=Z,$s(i,!1,l,h);try{var st=S(),_t=Vt.S;if(_t!==null&&_t(Z,st),st!==null&&typeof st=="object"&&typeof st.then=="function"){var At=Sa(st,m);Nl(i,l,At,nn(i))}else Nl(i,l,m,nn(i))}catch(Dt){Nl(i,l,{then:function(){},status:"rejected",reason:Dt},nn())}finally{jn(M),Vt.T=K}}function Ca(i){var l=i.memoizedState;if(l!==null)return l;l={memoizedState:Fl,baseState:Fl,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:Fl},next:null};var h={};return l.next={memoizedState:h,baseState:h,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:h},next:null},i.memoizedState=l,i=i.alternate,i!==null&&(i.memoizedState=l),l}function ro(){return xn(ha)}function Ws(){return cn().memoizedState}function Xa(){return cn().memoizedState}function Pc(i){for(var l=i.return;l!==null;){switch(l.tag){case 24:case 3:var h=nn();i=ke(h);var m=Xe(l,i,h);m!==null&&(An(m,l,h),Wn(m,l,h)),l={cache:xl()},i.payload=l;return}l=l.return}}function pu(i,l,h){var m=nn();h={lane:m,revertLane:0,action:h,hasEagerState:!1,eagerState:null,next:null},oo(i)?$n(l,h):(h=on(i,l,h,m),h!==null&&(An(h,i,m),Ml(h,l,m)))}function Qc(i,l,h){var m=nn();Nl(i,l,h,m)}function Nl(i,l,h,m){var S={lane:m,revertLane:0,action:h,hasEagerState:!1,eagerState:null,next:null};if(oo(i))$n(l,S);else{var M=i.alternate;if(i.lanes===0&&(M===null||M.lanes===0)&&(M=l.lastRenderedReducer,M!==null))try{var K=l.lastRenderedState,Z=M(K,h);if(S.hasEagerState=!0,S.eagerState=Z,_i(Z,K))return Xt(i,l,S,0),ye===null&&re(),!1}catch{}finally{}if(h=on(i,l,S,m),h!==null)return An(h,i,m),Ml(h,l,m),!0}return!1}function $s(i,l,h,m){if(m={lane:2,revertLane:Ve(),action:m,hasEagerState:!1,eagerState:null,next:null},oo(i)){if(l)throw Error(c(479))}else l=on(i,h,m,2),l!==null&&An(l,i,2)}function oo(i){var l=i.alternate;return i===Jt||l!==null&&l===Jt}function $n(i,l){Ds=Ji=!0;var h=i.pending;h===null?l.next=l:(l.next=h.next,h.next=l),i.pending=l}function Ml(i,l,h){if((h&4194176)!==0){var m=l.lanes;m&=i.pendingLanes,h|=m,l.lanes=h,V(i,h)}}function tr(i,l,h,m){l=i.memoizedState,h=h(m,l),h=h==null?l:Gu({},l,h),i.memoizedState=h,i.lanes===0&&(i.updateQueue.baseState=h)}function er(i,l,h,m,S,M,K){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(m,M,K):l.prototype&&l.prototype.isPureReactComponent?!Ks(h,m)||!Ks(S,M):!0}function Od(i,l,h,m){i=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(h,m),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(h,m),l.state!==i&&Ua.enqueueReplaceState(l,l.state,null)}function Ka(i,l){var h=l;if("ref"in l){h={};for(var m in l)m!=="ref"&&(h[m]=l[m])}if(i=i.defaultProps){h===l&&(h=Gu({},h));for(var S in i)h[S]===void 0&&(h[S]=i[S])}return h}function nr(i,l){try{var h=i.onUncaughtError;h(l.value,{componentStack:l.stack})}catch(m){setTimeout(function(){throw m})}}function ir(i,l,h){try{var m=i.onCaughtError;m(h.value,{componentStack:h.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(S){setTimeout(function(){throw S})}}function ar(i,l,h){return h=ke(h),h.tag=3,h.payload={element:null},h.callback=function(){nr(i,l)},h}function Ic(i){return i=ke(i),i.tag=3,i}function xd(i,l,h,m){var S=h.type.getDerivedStateFromError;if(typeof S=="function"){var M=m.value;i.payload=function(){return S(M)},i.callback=function(){ir(l,h,m)}}var K=h.stateNode;K!==null&&typeof K.componentDidCatch=="function"&&(i.callback=function(){ir(l,h,m),typeof S!="function"&&(es===null?es=new Set([this]):es.add(this));var Z=m.stack;this.componentDidCatch(m.value,{componentStack:Z!==null?Z:""})})}function I1(i,l,h,m,S){if(h.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(l=h.alternate,l!==null&&fo(l,h,S,!0),h=Oi.current,h!==null){switch(h.tag){case 13:return Re===null?tl():h.alternate===null&&Me===0&&(Me=3),h.flags&=-257,h.flags|=65536,h.lanes=S,m===Xo?h.flags|=16384:(l=h.updateQueue,l===null?h.updateQueue=new Set([m]):l.add(m),ms(i,m,S)),!1;case 22:return h.flags|=65536,m===Xo?h.flags|=16384:(l=h.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([m])},h.updateQueue=l):(h=l.retryQueue,h===null?l.retryQueue=new Set([m]):h.add(m)),ms(i,m,S)),!1}throw Error(c(435,h.tag))}return ms(i,m,S),tl(),!1}if(he)return l=Oi.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=S,m!==jo&&(i=Error(c(422),{cause:m}),te(et(i,h)))):(m!==jo&&(l=Error(c(423),{cause:m}),te(et(l,h))),i=i.current.alternate,i.flags|=65536,S&=-S,i.lanes|=S,m=et(m,h),S=ar(i.stateNode,m,S),Sl(i,S),Me!==4&&(Me=2)),!1;var M=Error(c(520),{cause:m});if(M=et(M,h),ws===null?ws=[M]:ws.push(M),Me!==4&&(Me=2),l===null)return!0;m=et(m,h),h=l;do{switch(h.tag){case 3:return h.flags|=65536,i=S&-S,h.lanes|=i,i=ar(h.stateNode,m,i),Sl(h,i),!1;case 1:if(l=h.type,M=h.stateNode,(h.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||M!==null&&typeof M.componentDidCatch=="function"&&(es===null||!es.has(M))))return h.flags|=65536,S&=-S,h.lanes|=S,S=Ic(S),xd(S,i,h,m),Sl(h,S),!1}h=h.return}while(h!==null);return!1}function On(i,l,h,m){l.child=i===null?wa(l,null,h,m):Wl(l,i.child,h,m)}function _u(i,l,h,m,S){h=h.render;var M=l.ref;if("ref"in m){var K={};for(var Z in m)Z!=="ref"&&(K[Z]=m[Z])}else K=m;return Ol(l),m=Al(i,l,h,K,M,S),Z=ru(),i!==null&&!Ne?(ou(i,l,S),Pa(i,l,S)):(he&&Z&&ft(l),l.flags|=1,On(i,l,m,S),l.child)}function wd(i,l,h,m,S){if(i===null){var M=h.type;return typeof M=="function"&&!Ro(M)&&M.defaultProps===void 0&&h.compare===null?(l.tag=15,l.type=M,Ud(i,l,M,m,S)):(i=Ra(h.type,null,m,l,l.mode,S),i.ref=l.ref,i.return=l,l.child=i)}if(M=i.child,!th(i,S)){var K=M.memoizedProps;if(h=h.compare,h=h!==null?h:Ks,h(K,m)&&i.ref===l.ref)return Pa(i,l,S)}return l.flags|=1,i=ki(M,m),i.ref=l.ref,i.return=l,l.child=i}function Ud(i,l,h,m,S){if(i!==null){var M=i.memoizedProps;if(Ks(M,m)&&i.ref===l.ref)if(Ne=!1,l.pendingProps=m=M,th(i,S))(i.flags&131072)!==0&&(Ne=!0);else return l.lanes=i.lanes,Pa(i,l,S)}return vu(i,l,h,m,S)}function zd(i,l,h){var m=l.pendingProps,S=m.children,M=(l.stateNode._pendingVisibility&2)!==0,K=i!==null?i.memoizedState:null;if(uo(i,l),m.mode==="hidden"||M){if((l.flags&128)!==0){if(m=K!==null?K.baseLanes|h:h,i!==null){for(S=l.child=i.child,M=0;S!==null;)M=M|S.lanes|S.childLanes,S=S.sibling;l.childLanes=M&~m}else l.childLanes=0,l.child=null;return Gd(i,l,m,h)}if((h&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},i!==null&&Su(l,K!==null?K.cachePool:null),K!==null?Dn(l,K):Vn(),Ad(l);else return l.lanes=l.childLanes=536870912,Gd(i,l,K!==null?K.baseLanes|h:h,h)}else K!==null?(Su(l,K.cachePool),Dn(l,K),El(),l.memoizedState=null):(i!==null&&Su(l,null),Vn(),El());return On(i,l,S,h),l.child}function Gd(i,l,h,m){var S=nh();return S=S===null?null:{parent:ni?xe._currentValue:xe._currentValue2,pool:S},l.memoizedState={baseLanes:h,cachePool:S},i!==null&&Su(l,null),Vn(),Ad(l),i!==null&&fo(i,l,m,!0),null}function uo(i,l){var h=l.ref;if(h===null)i!==null&&i.ref!==null&&(l.flags|=2097664);else{if(typeof h!="function"&&typeof h!="object")throw Error(c(284));(i===null||i.ref!==h)&&(l.flags|=2097664)}}function vu(i,l,h,m,S){return Ol(l),h=Al(i,l,h,m,void 0,S),m=ru(),i!==null&&!Ne?(ou(i,l,S),Pa(i,l,S)):(he&&m&&ft(l),l.flags|=1,On(i,l,h,S),l.child)}function Hd(i,l,h,m,S,M){return Ol(l),l.updateQueue=null,h=os(l,m,h,S),Is(i),m=ru(),i!==null&&!Ne?(ou(i,l,M),Pa(i,l,M)):(he&&m&&ft(l),l.flags|=1,On(i,l,h,M),l.child)}function Bd(i,l,h,m,S){if(Ol(l),l.stateNode===null){var M=Pl,K=h.contextType;typeof K=="object"&&K!==null&&(M=xn(K)),M=new h(m,M),l.memoizedState=M.state!==null&&M.state!==void 0?M.state:null,M.updater=Ua,l.stateNode=M,M._reactInternals=l,M=l.stateNode,M.props=m,M.state=l.memoizedState,M.refs={},Vi(l),K=h.contextType,M.context=typeof K=="object"&&K!==null?xn(K):Pl,M.state=l.memoizedState,K=h.getDerivedStateFromProps,typeof K=="function"&&(tr(l,h,K,m),M.state=l.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof M.getSnapshotBeforeUpdate=="function"||typeof M.UNSAFE_componentWillMount!="function"&&typeof M.componentWillMount!="function"||(K=M.state,typeof M.componentWillMount=="function"&&M.componentWillMount(),typeof M.UNSAFE_componentWillMount=="function"&&M.UNSAFE_componentWillMount(),K!==M.state&&Ua.enqueueReplaceState(M,M.state,null),Jr(l,m,M,S),ja(),M.state=l.memoizedState),typeof M.componentDidMount=="function"&&(l.flags|=4194308),m=!0}else if(i===null){M=l.stateNode;var Z=l.memoizedProps,st=Ka(h,Z);M.props=st;var _t=M.context,At=h.contextType;K=Pl,typeof At=="object"&&At!==null&&(K=xn(At));var Dt=h.getDerivedStateFromProps;At=typeof Dt=="function"||typeof M.getSnapshotBeforeUpdate=="function",Z=l.pendingProps!==Z,At||typeof M.UNSAFE_componentWillReceiveProps!="function"&&typeof M.componentWillReceiveProps!="function"||(Z||_t!==K)&&Od(l,M,m,K),cl=!1;var Ot=l.memoizedState;M.state=Ot,Jr(l,m,M,S),ja(),_t=l.memoizedState,Z||Ot!==_t||cl?(typeof Dt=="function"&&(tr(l,h,Dt,m),_t=l.memoizedState),(st=cl||er(l,h,st,m,Ot,_t,K))?(At||typeof M.UNSAFE_componentWillMount!="function"&&typeof M.componentWillMount!="function"||(typeof M.componentWillMount=="function"&&M.componentWillMount(),typeof M.UNSAFE_componentWillMount=="function"&&M.UNSAFE_componentWillMount()),typeof M.componentDidMount=="function"&&(l.flags|=4194308)):(typeof M.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=m,l.memoizedState=_t),M.props=m,M.state=_t,M.context=K,m=st):(typeof M.componentDidMount=="function"&&(l.flags|=4194308),m=!1)}else{M=l.stateNode,Jn(i,l),K=l.memoizedProps,At=Ka(h,K),M.props=At,Dt=l.pendingProps,Ot=M.context,_t=h.contextType,st=Pl,typeof _t=="object"&&_t!==null&&(st=xn(_t)),Z=h.getDerivedStateFromProps,(_t=typeof Z=="function"||typeof M.getSnapshotBeforeUpdate=="function")||typeof M.UNSAFE_componentWillReceiveProps!="function"&&typeof M.componentWillReceiveProps!="function"||(K!==Dt||Ot!==st)&&Od(l,M,m,st),cl=!1,Ot=l.memoizedState,M.state=Ot,Jr(l,m,M,S),ja();var Pt=l.memoizedState;K!==Dt||Ot!==Pt||cl||i!==null&&i.dependencies!==null&&go(i.dependencies)?(typeof Z=="function"&&(tr(l,h,Z,m),Pt=l.memoizedState),(At=cl||er(l,h,At,m,Ot,Pt,st)||i!==null&&i.dependencies!==null&&go(i.dependencies))?(_t||typeof M.UNSAFE_componentWillUpdate!="function"&&typeof M.componentWillUpdate!="function"||(typeof M.componentWillUpdate=="function"&&M.componentWillUpdate(m,Pt,st),typeof M.UNSAFE_componentWillUpdate=="function"&&M.UNSAFE_componentWillUpdate(m,Pt,st)),typeof M.componentDidUpdate=="function"&&(l.flags|=4),typeof M.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof M.componentDidUpdate!="function"||K===i.memoizedProps&&Ot===i.memoizedState||(l.flags|=4),typeof M.getSnapshotBeforeUpdate!="function"||K===i.memoizedProps&&Ot===i.memoizedState||(l.flags|=1024),l.memoizedProps=m,l.memoizedState=Pt),M.props=m,M.state=Pt,M.context=st,m=At):(typeof M.componentDidUpdate!="function"||K===i.memoizedProps&&Ot===i.memoizedState||(l.flags|=4),typeof M.getSnapshotBeforeUpdate!="function"||K===i.memoizedProps&&Ot===i.memoizedState||(l.flags|=1024),m=!1)}return M=m,uo(i,l),m=(l.flags&128)!==0,M||m?(M=l.stateNode,h=m&&typeof h.getDerivedStateFromError!="function"?null:M.render(),l.flags|=1,i!==null&&m?(l.child=Wl(l,i.child,null,S),l.child=Wl(l,null,h,S)):On(i,l,h,S),l.memoizedState=M.state,i=l.child):i=Pa(i,l,S),i}function Ld(i,l,h,m){return xt(),l.flags|=256,On(i,l,h,m),l.child}function Zc(i){return{baseLanes:i,cachePool:ih()}}function co(i,l,h){return i=i!==null?i.childLanes&~h:0,l&&(i|=Hi),i}function qd(i,l,h){var m=l.pendingProps,S=!1,M=(l.flags&128)!==0,K;if((K=M)||(K=i!==null&&i.memoizedState===null?!1:(yn.current&2)!==0),K&&(S=!0,l.flags&=-129),K=(l.flags&32)!==0,l.flags&=-33,i===null){if(he){if(S?ba(l):El(),he){var Z=Bn,st;(st=Z)&&(Z=E0(Z,Nn),Z!==null?(l.memoizedState={dehydrated:Z,treeContext:Ql!==null?{id:da,overflow:ga}:null,retryLane:536870912},st=s(18,null,null,0),st.stateNode=Z,st.return=l,l.child=st,Hn=l,Bn=null,st=!0):st=!1),st||rt(l)}if(Z=l.memoizedState,Z!==null&&(Z=Z.dehydrated,Z!==null))return Xu(Z)?l.lanes=16:l.lanes=536870912,null;Ea(l)}return Z=m.children,m=m.fallback,S?(El(),S=l.mode,Z=Wc({mode:"hidden",children:Z},S),m=Je(m,S,h,null),Z.return=l,m.return=l,Z.sibling=m,l.child=Z,S=l.child,S.memoizedState=Zc(h),S.childLanes=co(i,K,h),l.memoizedState=lc,m):(ba(l),Jc(l,Z))}if(st=i.memoizedState,st!==null&&(Z=st.dehydrated,Z!==null)){if(M)l.flags&256?(ba(l),l.flags&=-257,l=yu(i,l,h)):l.memoizedState!==null?(El(),l.child=i.child,l.flags|=128,l=null):(El(),S=m.fallback,Z=l.mode,m=Wc({mode:"visible",children:m.children},Z),S=Je(S,Z,h,null),S.flags|=2,m.return=l,S.return=l,m.sibling=S,l.child=m,Wl(l,i.child,null,h),m=l.child,m.memoizedState=Zc(h),m.childLanes=co(i,K,h),l.memoizedState=lc,l=S);else if(ba(l),Xu(Z))K=_0(Z).digest,m=Error(c(419)),m.stack="",m.digest=K,te({value:m,source:null,stack:null}),l=yu(i,l,h);else if(Ne||fo(i,l,h,!1),K=(h&i.childLanes)!==0,Ne||K){if(K=ye,K!==null){if(m=h&-h,(m&42)!==0)m=1;else switch(m){case 2:m=1;break;case 8:m=4;break;case 32:m=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:m=64;break;case 268435456:m=134217728;break;default:m=0}if(m=(m&(K.suspendedLanes|h))!==0?0:m,m!==0&&m!==st.retryLane)throw st.retryLane=m,kt(i,m),An(K,i,m),ac}ku(Z)||tl(),l=yu(i,l,h)}else ku(Z)?(l.flags|=128,l.child=i.child,l=el.bind(null,i),v0(Z,l),l=null):(i=st.treeContext,Gn&&(Bn=b0(Z),Hn=l,he=!0,Ii=null,Nn=!1,i!==null&&(Ni[Mi++]=da,Ni[Mi++]=ga,Ni[Mi++]=Ql,da=i.id,ga=i.overflow,Ql=l)),l=Jc(l,m.children),l.flags|=4096);return l}return S?(El(),S=m.fallback,Z=l.mode,st=i.child,M=st.sibling,m=ki(st,{mode:"hidden",children:m.children}),m.subtreeFlags=st.subtreeFlags&31457280,M!==null?S=ki(M,S):(S=Je(S,Z,h,null),S.flags|=2),S.return=l,m.return=l,m.sibling=S,l.child=m,m=S,S=l.child,Z=i.child.memoizedState,Z===null?Z=Zc(h):(st=Z.cachePool,st!==null?(M=ni?xe._currentValue:xe._currentValue2,st=st.parent!==M?{parent:M,pool:M}:st):st=ih(),Z={baseLanes:Z.baseLanes|h,cachePool:st}),S.memoizedState=Z,S.childLanes=co(i,K,h),l.memoizedState=lc,m):(ba(l),h=i.child,i=h.sibling,h=ki(h,{mode:"visible",children:m.children}),h.return=l,h.sibling=null,i!==null&&(K=l.deletions,K===null?(l.deletions=[i],l.flags|=16):K.push(i)),l.child=h,l.memoizedState=null,h)}function Jc(i,l){return l=Wc({mode:"visible",children:l},i.mode),l.return=i,i.child=l}function Wc(i,l){return Mo(i,l,0,null)}function yu(i,l,h){return Wl(l,i.child,null,h),i=Jc(l,l.pendingProps.children),i.flags|=2,l.memoizedState=null,i}function Vd(i,l,h){i.lanes|=l;var m=i.alternate;m!==null&&(m.lanes|=l),ho(i.return,l,h)}function $c(i,l,h,m,S){var M=i.memoizedState;M===null?i.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:m,tail:h,tailMode:S}:(M.isBackwards=l,M.rendering=null,M.renderingStartTime=0,M.last=m,M.tail=h,M.tailMode=S)}function Yd(i,l,h){var m=l.pendingProps,S=m.revealOrder,M=m.tail;if(On(i,l,m.children,h),m=yn.current,(m&2)!==0)m=m&1|2,l.flags|=128;else{if(i!==null&&(i.flags&128)!==0)t:for(i=l.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Vd(i,h,l);else if(i.tag===19)Vd(i,h,l);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===l)break t;for(;i.sibling===null;){if(i.return===null||i.return===l)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}m&=1}switch(N(yn,m),S){case"forwards":for(h=l.child,S=null;h!==null;)i=h.alternate,i!==null&&Cl(i)===null&&(S=h),h=h.sibling;h=S,h===null?(S=l.child,l.child=null):(S=h.sibling,h.sibling=null),$c(l,!1,S,h,M);break;case"backwards":for(h=null,S=l.child,l.child=null;S!==null;){if(i=S.alternate,i!==null&&Cl(i)===null){l.child=S;break}i=S.sibling,S.sibling=h,h=S,S=i}$c(l,!0,h,null,M);break;case"together":$c(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function Pa(i,l,h){if(i!==null&&(l.dependencies=i.dependencies),Gi|=l.lanes,(h&l.childLanes)===0)if(i!==null){if(fo(i,l,h,!1),(h&l.childLanes)===0)return null}else return null;if(i!==null&&l.child!==i.child)throw Error(c(153));if(l.child!==null){for(i=l.child,h=ki(i,i.pendingProps),l.child=h,h.return=l;i.sibling!==null;)i=i.sibling,h=h.sibling=ki(i,i.pendingProps),h.return=l;h.sibling=null}return l.child}function th(i,l){return(i.lanes&l)!==0?!0:(i=i.dependencies,!!(i!==null&&go(i)))}function Z1(i,l,h){switch(l.tag){case 3:ut(l,l.stateNode.containerInfo),Dl(l,xe,i.memoizedState.cache),xt();break;case 27:case 5:Et(l);break;case 4:ut(l,l.stateNode.containerInfo);break;case 10:Dl(l,l.type,l.memoizedProps.value);break;case 13:var m=l.memoizedState;if(m!==null)return m.dehydrated!==null?(ba(l),l.flags|=128,null):(h&l.child.childLanes)!==0?qd(i,l,h):(ba(l),i=Pa(i,l,h),i!==null?i.sibling:null);ba(l);break;case 19:var S=(i.flags&128)!==0;if(m=(h&l.childLanes)!==0,m||(fo(i,l,h,!1),m=(h&l.childLanes)!==0),S){if(m)return Yd(i,l,h);l.flags|=128}if(S=l.memoizedState,S!==null&&(S.rendering=null,S.tail=null,S.lastEffect=null),N(yn,yn.current),m)break;return null;case 22:case 23:return l.lanes=0,zd(i,l,h);case 24:Dl(l,xe,i.memoizedState.cache)}return Pa(i,l,h)}function jd(i,l,h){if(i!==null)if(i.memoizedProps!==l.pendingProps)Ne=!0;else{if(!th(i,h)&&(l.flags&128)===0)return Ne=!1,Z1(i,l,h);Ne=(i.flags&131072)!==0}else Ne=!1,he&&(l.flags&1048576)!==0&&$(l,Ar,l.index);switch(l.lanes=0,l.tag){case 16:t:{i=l.pendingProps;var m=l.elementType,S=m._init;if(m=S(m._payload),l.type=m,typeof m=="function")Ro(m)?(i=Ka(m,i),l.tag=1,l=Bd(null,l,m,i,h)):(l.tag=0,l=vu(null,l,m,i,h));else{if(m!=null){if(S=m.$$typeof,S===Uo){l.tag=11,l=_u(null,l,m,i,h);break t}else if(S===Lu){l.tag=14,l=wd(null,l,m,i,h);break t}}throw l=d(m)||m,Error(c(306,l,""))}}return l;case 0:return vu(i,l,l.type,l.pendingProps,h);case 1:return m=l.type,S=Ka(m,l.pendingProps),Bd(i,l,m,S,h);case 3:t:{if(ut(l,l.stateNode.containerInfo),i===null)throw Error(c(387));var M=l.pendingProps;S=l.memoizedState,m=S.element,Jn(i,l),Jr(l,M,null,h);var K=l.memoizedState;if(M=K.cache,Dl(l,xe,M),M!==S.cache&&ds(l,[xe],h,!0),ja(),M=K.element,Gn&&S.isDehydrated)if(S={element:M,isDehydrated:!1,cache:K.cache},l.updateQueue.baseState=S,l.memoizedState=S,l.flags&256){l=Ld(i,l,M,h);break t}else if(M!==m){m=et(Error(c(424)),l),te(m),l=Ld(i,l,M,h);break t}else for(Gn&&(Bn=S0(l.stateNode.containerInfo),Hn=l,he=!0,Ii=null,Nn=!0),h=wa(l,null,M,h),l.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling;else{if(xt(),M===m){l=Pa(i,l,h);break t}On(i,l,M,h)}l=l.child}return l;case 26:if(Ri)return uo(i,l),i===null?(h=Vh(l.type,null,l.pendingProps,null))?l.memoizedState=h:he||(l.stateNode=Zu(l.type,l.pendingProps,Oa.current,l)):l.memoizedState=Vh(l.type,i.memoizedProps,l.pendingProps,i.memoizedState),null;case 27:if(Ae)return Et(l),i===null&&Ae&&he&&(m=l.stateNode=fa(l.type,l.pendingProps,Oa.current,vn.current,!1),Hn=l,Nn=!0,Bn=Ku(m)),m=l.pendingProps.children,i!==null||he?On(i,l,m,h):l.child=Wl(l,null,m,h),uo(i,l),l.child;case 5:return i===null&&he&&(Qu(l.type,l.pendingProps,vn.current),(S=m=Bn)&&(m=ig(m,l.type,l.pendingProps,Nn),m!==null?(l.stateNode=m,Hn=l,Bn=Ku(m),Nn=!1,S=!0):S=!1),S||rt(l)),Et(l),S=l.type,M=l.pendingProps,K=i!==null?i.memoizedProps:null,m=M.children,It(S,M)?m=null:K!==null&&It(S,K)&&(l.flags|=32),l.memoizedState!==null&&(S=Al(i,l,Cn,null,null,h),ni?ha._currentValue=S:ha._currentValue2=S),uo(i,l),On(i,l,m,h),l.child;case 6:return i===null&&he&&(N0(l.pendingProps,vn.current),(i=h=Bn)&&(h=Lh(h,l.pendingProps,Nn),h!==null?(l.stateNode=h,Hn=l,Bn=null,i=!0):i=!1),i||rt(l)),null;case 13:return qd(i,l,h);case 4:return ut(l,l.stateNode.containerInfo),m=l.pendingProps,i===null?l.child=Wl(l,null,m,h):On(i,l,m,h),l.child;case 11:return _u(i,l,l.type,l.pendingProps,h);case 7:return On(i,l,l.pendingProps,h),l.child;case 8:return On(i,l,l.pendingProps.children,h),l.child;case 12:return On(i,l,l.pendingProps.children,h),l.child;case 10:return m=l.pendingProps,Dl(l,l.type,m.value),On(i,l,m.children,h),l.child;case 9:return S=l.type._context,m=l.pendingProps.children,Ol(l),S=xn(S),m=m(S),l.flags|=1,On(i,l,m,h),l.child;case 14:return wd(i,l,l.type,l.pendingProps,h);case 15:return Ud(i,l,l.type,l.pendingProps,h);case 19:return Yd(i,l,h);case 22:return zd(i,l,h);case 24:return Ol(l),m=xn(xe),i===null?(S=nh(),S===null&&(S=ye,M=xl(),S.pooledCache=M,M.refCount++,M!==null&&(S.pooledCacheLanes|=h),S=M),l.memoizedState={parent:m,cache:S},Vi(l),Dl(l,xe,S)):((i.lanes&h)!==0&&(Jn(i,l),Jr(l,null,null,h),ja()),S=i.memoizedState,M=l.memoizedState,S.parent!==m?(S={parent:m,cache:m},l.memoizedState=S,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=S),Dl(l,xe,m)):(m=M.cache,Dl(l,xe,m),m!==S.cache&&ds(l,[xe],h,!0))),On(i,l,l.pendingProps.children,h),l.child;case 29:throw l.pendingProps}throw Error(c(156,l.tag))}function Dl(i,l,h){ni?(N(fl,l._currentValue),l._currentValue=h):(N(fl,l._currentValue2),l._currentValue2=h)}function Qa(i){var l=fl.current;ni?i._currentValue=l:i._currentValue2=l,H(fl)}function ho(i,l,h){for(;i!==null;){var m=i.alternate;if((i.childLanes&l)!==l?(i.childLanes|=l,m!==null&&(m.childLanes|=l)):m!==null&&(m.childLanes&l)!==l&&(m.childLanes|=l),i===h)break;i=i.return}}function ds(i,l,h,m){var S=i.child;for(S!==null&&(S.return=i);S!==null;){var M=S.dependencies;if(M!==null){var K=S.child;M=M.firstContext;t:for(;M!==null;){var Z=M;M=S;for(var st=0;st<l.length;st++)if(Z.context===l[st]){M.lanes|=h,Z=M.alternate,Z!==null&&(Z.lanes|=h),ho(M.return,h,i),m||(K=null);break t}M=Z.next}}else if(S.tag===18){if(K=S.return,K===null)throw Error(c(341));K.lanes|=h,M=K.alternate,M!==null&&(M.lanes|=h),ho(K,h,i),K=null}else K=S.child;if(K!==null)K.return=S;else for(K=S;K!==null;){if(K===i){K=null;break}if(S=K.sibling,S!==null){S.return=K.return,K=S;break}K=K.return}S=K}}function fo(i,l,h,m){i=null;for(var S=l,M=!1;S!==null;){if(!M){if((S.flags&524288)!==0)M=!0;else if((S.flags&262144)!==0)break}if(S.tag===10){var K=S.alternate;if(K===null)throw Error(c(387));if(K=K.memoizedProps,K!==null){var Z=S.type;_i(S.pendingProps.value,K.value)||(i!==null?i.push(Z):i=[Z])}}else if(S===Cs.current){if(K=S.alternate,K===null)throw Error(c(387));K.memoizedState.memoizedState!==S.memoizedState.memoizedState&&(i!==null?i.push(ha):i=[ha])}S=S.return}i!==null&&ds(l,i,h,m),l.flags|=262144}function go(i){for(i=i.firstContext;i!==null;){var l=i.context;if(!_i(ni?l._currentValue:l._currentValue2,i.memoizedValue))return!0;i=i.next}return!1}function Ol(i){_a=i,wi=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function xn(i){return eh(_a,i)}function mo(i,l){return _a===null&&Ol(i),eh(i,l)}function eh(i,l){var h=ni?l._currentValue:l._currentValue2;if(l={context:l,memoizedValue:h,next:null},wi===null){if(i===null)throw Error(c(308));wi=l,i.dependencies={lanes:0,firstContext:l},i.flags|=524288}else wi=wi.next=l;return h}function xl(){return{controller:new xr,data:new Map,refCount:0}}function po(i){i.refCount--,i.refCount===0&&L0(q0,function(){i.controller.abort()})}function nh(){var i=za.current;return i!==null?i:ye.pooledCache}function Su(i,l){l===null?N(za,za.current):N(za,l.pool)}function ih(){var i=nh();return i===null?null:{parent:ni?xe._currentValue:xe._currentValue2,pool:i}}function ci(i){i.flags|=4}function lr(i,l){if(i!==null&&i.child===l.child)return!1;if((l.flags&16)!==0)return!0;for(i=l.child;i!==null;){if((i.flags&13878)!==0||(i.subtreeFlags&13878)!==0)return!0;i=i.sibling}return!1}function gs(i,l,h,m){if(_n)for(h=l.child;h!==null;){if(h.tag===5||h.tag===6)Go(i,h.stateNode);else if(!(h.tag===4||Ae&&h.tag===27)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===l)break;for(;h.sibling===null;){if(h.return===null||h.return===l)return;h=h.return}h.sibling.return=h.return,h=h.sibling}else if(Pi)for(var S=l.child;S!==null;){if(S.tag===5){var M=S.stateNode;h&&m&&(M=zh(M,S.type,S.memoizedProps)),Go(i,M)}else if(S.tag===6)M=S.stateNode,h&&m&&(M=Gh(M,S.memoizedProps)),Go(i,M);else if(S.tag!==4){if(S.tag===22&&S.memoizedState!==null)M=S.child,M!==null&&(M.return=S),gs(i,S,!0,!0);else if(S.child!==null){S.child.return=S,S=S.child;continue}}if(S===l)break;for(;S.sibling===null;){if(S.return===null||S.return===l)return;S=S.return}S.sibling.return=S.return,S=S.sibling}}function Fd(i,l,h,m){if(Pi)for(var S=l.child;S!==null;){if(S.tag===5){var M=S.stateNode;h&&m&&(M=zh(M,S.type,S.memoizedProps)),Uh(i,M)}else if(S.tag===6)M=S.stateNode,h&&m&&(M=Gh(M,S.memoizedProps)),Uh(i,M);else if(S.tag!==4){if(S.tag===22&&S.memoizedState!==null)M=S.child,M!==null&&(M.return=S),Fd(i,S,!(S.memoizedProps!==null&&S.memoizedProps.mode==="manual"),!0);else if(S.child!==null){S.child.return=S,S=S.child;continue}}if(S===l)break;for(;S.sibling===null;){if(S.return===null||S.return===l)return;S=S.return}S.sibling.return=S.return,S=S.sibling}}function _o(i,l){if(Pi&&lr(i,l)){i=l.stateNode;var h=i.containerInfo,m=Ho();Fd(m,l,!1,!1),i.pendingChildren=m,ci(l),Fu(h,m)}}function bu(i,l,h,m){if(_n)i.memoizedProps!==m&&ci(l);else if(Pi){var S=i.stateNode,M=i.memoizedProps;if((i=lr(i,l))||M!==m){var K=vn.current;M=Er(S,h,M,m,!i,null),M===S?l.stateNode=S:(ll(M,h,m,K)&&ci(l),l.stateNode=M,i?gs(M,l,!1,!1):ci(l))}else l.stateNode=S}}function Eu(i,l,h){if(Ah(l,h)){if(i.flags|=16777216,!Yu(l,h))if(Bl())i.flags|=8192;else throw Il=Xo,ko}else i.flags&=-16777217}function Cu(i,l){if(O0(l)){if(i.flags|=16777216,!vs(l))if(Bl())i.flags|=8192;else throw Il=Xo,ko}else i.flags&=-16777217}function sr(i,l){l!==null&&(i.flags|=4),i.flags&16384&&(l=i.tag!==22?F():536870912,i.lanes|=l,Ba|=l)}function rr(i,l){if(!he)switch(i.tailMode){case"hidden":l=i.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?i.tail=null:h.sibling=null;break;case"collapsed":h=i.tail;for(var m=null;h!==null;)h.alternate!==null&&(m=h),h=h.sibling;m===null?l||i.tail===null?i.tail=null:i.tail.sibling=null:m.sibling=null}}function Ye(i){var l=i.alternate!==null&&i.alternate.child===i.child,h=0,m=0;if(l)for(var S=i.child;S!==null;)h|=S.lanes|S.childLanes,m|=S.subtreeFlags&31457280,m|=S.flags&31457280,S.return=i,S=S.sibling;else for(S=i.child;S!==null;)h|=S.lanes|S.childLanes,m|=S.subtreeFlags,m|=S.flags,S.return=i,S=S.sibling;return i.subtreeFlags|=m,i.childLanes=h,l}function kd(i,l,h){var m=l.pendingProps;switch(nt(l),l.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ye(l),null;case 1:return Ye(l),null;case 3:return h=l.stateNode,m=null,i!==null&&(m=i.memoizedState.cache),l.memoizedState.cache!==m&&(l.flags|=2048),Qa(xe),yt(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(i===null||i.child===null)&&(Mt(l)?ci(l):i===null||i.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,Ii!==null&&(To(Ii),Ii=null))),_o(i,l),Ye(l),null;case 26:if(Ri){h=l.type;var S=l.memoizedState;return i===null?(ci(l),S!==null?(Ye(l),Cu(l,S)):(Ye(l),Eu(l,h,m))):S?S!==i.memoizedState?(ci(l),Ye(l),Cu(l,S)):(Ye(l),l.flags&=-16777217):(_n?i.memoizedProps!==m&&ci(l):bu(i,l,h,m),Ye(l),Eu(l,h,m)),null}case 27:if(Ae){if(W(l),h=Oa.current,S=l.type,i!==null&&l.stateNode!=null)_n?i.memoizedProps!==m&&ci(l):bu(i,l,S,m);else{if(!m){if(l.stateNode===null)throw Error(c(166));return Ye(l),null}i=vn.current,Mt(l)?Ct(l,i):(i=fa(S,m,h,i,!0),l.stateNode=i,ci(l))}return Ye(l),null}case 5:if(W(l),h=l.type,i!==null&&l.stateNode!=null)bu(i,l,h,m);else{if(!m){if(l.stateNode===null)throw Error(c(166));return Ye(l),null}i=vn.current,Mt(l)?Ct(l,i):(S=Th(h,m,Oa.current,i,l),gs(S,l,!1,!1),l.stateNode=S,ll(S,h,m,i)&&ci(l))}return Ye(l),Eu(l,l.type,l.pendingProps),null;case 6:if(i&&l.stateNode!=null)h=i.memoizedProps,_n?h!==m&&ci(l):Pi&&(h!==m?(l.stateNode=be(m,Oa.current,vn.current,l),ci(l)):l.stateNode=i.stateNode);else{if(typeof m!="string"&&l.stateNode===null)throw Error(c(166));if(i=Oa.current,h=vn.current,Mt(l)){if(!Gn)throw Error(c(176));if(i=l.stateNode,h=l.memoizedProps,m=null,S=Hn,S!==null)switch(S.tag){case 27:case 5:m=S.memoizedProps}qh(i,h,l,m)||rt(l)}else l.stateNode=be(m,i,h,l)}return Ye(l),null;case 13:if(m=l.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(S=Mt(l),m!==null&&m.dehydrated!==null){if(i===null){if(!S)throw Error(c(318));if(!Gn)throw Error(c(344));if(S=l.memoizedState,S=S!==null?S.dehydrated:null,!S)throw Error(c(317));T0(S,l)}else xt(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Ye(l),S=!1}else Ii!==null&&(To(Ii),Ii=null),S=!0;if(!S)return l.flags&256?(Ea(l),l):(Ea(l),null)}if(Ea(l),(l.flags&128)!==0)return l.lanes=h,l;if(h=m!==null,i=i!==null&&i.memoizedState!==null,h){m=l.child,S=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(S=m.alternate.memoizedState.cachePool.pool);var M=null;m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(M=m.memoizedState.cachePool.pool),M!==S&&(m.flags|=2048)}return h!==i&&h&&(l.child.flags|=8192),sr(l,l.updateQueue),Ye(l),null;case 4:return yt(),_o(i,l),i===null&&an(l.stateNode.containerInfo),Ye(l),null;case 10:return Qa(l.type),Ye(l),null;case 19:if(H(yn),S=l.memoizedState,S===null)return Ye(l),null;if(m=(l.flags&128)!==0,M=S.rendering,M===null)if(m)rr(S,!1);else{if(Me!==0||i!==null&&(i.flags&128)!==0)for(i=l.child;i!==null;){if(M=Cl(i),M!==null){for(l.flags|=128,rr(S,!1),i=M.updateQueue,l.updateQueue=i,sr(l,i),l.subtreeFlags=0,i=h,h=l.child;h!==null;)No(h,i),h=h.sibling;return N(yn,yn.current&1|2),l.child}i=i.sibling}S.tail!==null&&Qi()>zr&&(l.flags|=128,m=!0,rr(S,!1),l.lanes=4194304)}else{if(!m)if(i=Cl(M),i!==null){if(l.flags|=128,m=!0,i=i.updateQueue,l.updateQueue=i,sr(l,i),rr(S,!0),S.tail===null&&S.tailMode==="hidden"&&!M.alternate&&!he)return Ye(l),null}else 2*Qi()-S.renderingStartTime>zr&&h!==536870912&&(l.flags|=128,m=!0,rr(S,!1),l.lanes=4194304);S.isBackwards?(M.sibling=l.child,l.child=M):(i=S.last,i!==null?i.sibling=M:l.child=M,S.last=M)}return S.tail!==null?(l=S.tail,S.rendering=l,S.tail=l.sibling,S.renderingStartTime=Qi(),l.sibling=null,i=yn.current,N(yn,m?i&1|2:i&1),l):(Ye(l),null);case 22:case 23:return Ea(l),bl(),m=l.memoizedState!==null,i!==null?i.memoizedState!==null!==m&&(l.flags|=8192):m&&(l.flags|=8192),m?(h&536870912)!==0&&(l.flags&128)===0&&(Ye(l),l.subtreeFlags&6&&(l.flags|=8192)):Ye(l),h=l.updateQueue,h!==null&&sr(l,h.retryQueue),h=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(h=i.memoizedState.cachePool.pool),m=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==h&&(l.flags|=2048),i!==null&&H(za),null;case 24:return h=null,i!==null&&(h=i.memoizedState.cache),l.memoizedState.cache!==h&&(l.flags|=2048),Qa(xe),Ye(l),null;case 25:return null}throw Error(c(156,l.tag))}function J1(i,l){switch(nt(l),l.tag){case 1:return i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 3:return Qa(xe),yt(),i=l.flags,(i&65536)!==0&&(i&128)===0?(l.flags=i&-65537|128,l):null;case 26:case 27:case 5:return W(l),null;case 13:if(Ea(l),i=l.memoizedState,i!==null&&i.dehydrated!==null){if(l.alternate===null)throw Error(c(340));xt()}return i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 19:return H(yn),null;case 4:return yt(),null;case 10:return Qa(l.type),null;case 22:case 23:return Ea(l),bl(),i!==null&&H(za),i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 24:return Qa(xe),null;case 25:return null;default:return null}}function Xd(i,l){switch(nt(l),l.tag){case 3:Qa(xe),yt();break;case 26:case 27:case 5:W(l);break;case 4:yt();break;case 13:Ea(l);break;case 19:H(yn);break;case 10:Qa(l.type);break;case 22:case 23:Ea(l),bl(),i!==null&&H(za);break;case 24:Qa(xe)}}function vo(i,l){try{var h=l.updateQueue,m=h!==null?h.lastEffect:null;if(m!==null){var S=m.next;h=S;do{if((h.tag&i)===i){m=void 0;var M=h.create,K=h.inst;m=M(),K.destroy=m}h=h.next}while(h!==S)}}catch(Z){_e(l,l.return,Z)}}function wl(i,l,h){try{var m=l.updateQueue,S=m!==null?m.lastEffect:null;if(S!==null){var M=S.next;m=M;do{if((m.tag&i)===i){var K=m.inst,Z=K.destroy;if(Z!==void 0){K.destroy=void 0,S=l;var st=h;try{Z()}catch(_t){_e(S,st,_t)}}}m=m.next}while(m!==M)}}catch(_t){_e(l,l.return,_t)}}function Kd(i){var l=i.updateQueue;if(l!==null){var h=i.stateNode;try{Uc(l,h)}catch(m){_e(i,i.return,m)}}}function hi(i,l,h){h.props=Ka(i.type,i.memoizedProps),h.state=i.memoizedState;try{h.componentWillUnmount()}catch(m){_e(i,l,m)}}function oa(i,l){try{var h=i.ref;if(h!==null){var m=i.stateNode;switch(i.tag){case 26:case 27:case 5:var S=yr(m);break;default:S=m}typeof h=="function"?i.refCleanup=h(S):h.current=S}}catch(M){_e(i,l,M)}}function fi(i,l){var h=i.ref,m=i.refCleanup;if(h!==null)if(typeof m=="function")try{m()}catch(S){_e(i,l,S)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof h=="function")try{h(null)}catch(S){_e(i,l,S)}else h.current=null}function ah(i){var l=i.type,h=i.memoizedProps,m=i.stateNode;try{eg(m,l,h,i)}catch(S){_e(i,i.return,S)}}function lh(i,l,h){try{u0(i.stateNode,i.type,h,l,i)}catch(m){_e(i,i.return,m)}}function sh(i){return i.tag===5||i.tag===3||(Ri?i.tag===26:!1)||(Ae?i.tag===27:!1)||i.tag===4}function yo(i){t:for(;;){for(;i.sibling===null;){if(i.return===null||sh(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&(!Ae||i.tag!==27)&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue t;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function rh(i,l,h){var m=i.tag;if(m===5||m===6)i=i.stateNode,l?h0(h,i,l):Oh(h,i);else if(!(m===4||Ae&&m===27)&&(i=i.child,i!==null))for(rh(i,l,h),i=i.sibling;i!==null;)rh(i,l,h),i=i.sibling}function Ia(i,l,h){var m=i.tag;if(m===5||m===6)i=i.stateNode,l?c0(h,i,l):r0(h,i);else if(!(m===4||Ae&&m===27)&&(i=i.child,i!==null))for(Ia(i,l,h),i=i.sibling;i!==null;)Ia(i,l,h),i=i.sibling}function Tu(i,l,h){i=i.containerInfo;try{Cr(i,h)}catch(m){_e(l,l.return,m)}}function So(i,l){for(qu(i.containerInfo),Kt=l;Kt!==null;)if(i=Kt,l=i.child,(i.subtreeFlags&1028)!==0&&l!==null)l.return=i,Kt=l;else for(;Kt!==null;){i=Kt;var h=i.alternate;switch(l=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((l&1024)!==0&&h!==null){l=void 0;var m=i,S=h.memoizedProps;h=h.memoizedState;var M=m.stateNode;try{var K=Ka(m.type,S,m.elementType===m.type);l=M.getSnapshotBeforeUpdate(K,h),M.__reactInternalSnapshotBeforeUpdate=l}catch(Z){_e(m,m.return,Z)}}break;case 3:(l&1024)!==0&&_n&&p0(i.stateNode.containerInfo);break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((l&1024)!==0)throw Error(c(163))}if(l=i.sibling,l!==null){l.return=i.return,Kt=l;break}Kt=i.return}return K=$t,$t=!1,K}function Au(i,l,h){var m=h.flags;switch(h.tag){case 0:case 11:case 15:Ja(i,h),m&4&&vo(5,h);break;case 1:if(Ja(i,h),m&4)if(i=h.stateNode,l===null)try{i.componentDidMount()}catch(Z){_e(h,h.return,Z)}else{var S=Ka(h.type,l.memoizedProps);l=l.memoizedState;try{i.componentDidUpdate(S,l,i.__reactInternalSnapshotBeforeUpdate)}catch(Z){_e(h,h.return,Z)}}m&64&&Kd(h),m&512&&oa(h,h.return);break;case 3:if(Ja(i,h),m&64&&(m=h.updateQueue,m!==null)){if(i=null,h.child!==null)switch(h.child.tag){case 27:case 5:i=yr(h.child.stateNode);break;case 1:i=h.child.stateNode}try{Uc(m,i)}catch(Z){_e(h,h.return,Z)}}break;case 26:if(Ri){Ja(i,h),m&512&&oa(h,h.return);break}case 27:case 5:Ja(i,h),l===null&&m&4&&ah(h),m&512&&oa(h,h.return);break;case 12:Ja(i,h);break;case 13:Ja(i,h),m&4&&Ru(i,h);break;case 22:if(S=h.memoizedState!==null||Ga,!S){l=l!==null&&l.memoizedState!==null||$e;var M=Ga,K=$e;Ga=S,($e=l)&&!K?Wa(i,h,(h.subtreeFlags&8772)!==0):Ja(i,h),Ga=M,$e=K}m&512&&(h.memoizedProps.mode==="manual"?oa(h,h.return):fi(h,h.return));break;default:Ja(i,h)}}function oh(i){var l=i.alternate;l!==null&&(i.alternate=null,oh(l)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(l=i.stateNode,l!==null&&tg(l)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function wn(i,l,h){for(h=h.child;h!==null;)Ul(i,l,h),h=h.sibling}function Ul(i,l,h){if(pi&&typeof pi.onCommitFiberUnmount=="function")try{pi.onCommitFiberUnmount(sn,h)}catch{}switch(h.tag){case 26:if(Ri){$e||fi(h,l),wn(i,l,h),h.memoizedState?_s(h.memoizedState):h.stateNode&&Tr(h.stateNode);break}case 27:if(Ae){$e||fi(h,l);var m=Gt,S=Zt;Gt=h.stateNode,wn(i,l,h),Kl(h.stateNode),Gt=m,Zt=S;break}case 5:$e||fi(h,l);case 6:if(_n){if(m=Gt,S=Zt,Gt=null,wn(i,l,h),Gt=m,Zt=S,Gt!==null)if(Zt)try{f0(Gt,h.stateNode)}catch(M){_e(h,l,M)}else try{xh(Gt,h.stateNode)}catch(M){_e(h,l,M)}}else wn(i,l,h);break;case 18:_n&&Gt!==null&&(Zt?Bo(Gt,h.stateNode):R0(Gt,h.stateNode));break;case 4:_n?(m=Gt,S=Zt,Gt=h.stateNode.containerInfo,Zt=!0,wn(i,l,h),Gt=m,Zt=S):(Pi&&Tu(h.stateNode,h,Ho()),wn(i,l,h));break;case 0:case 11:case 14:case 15:$e||wl(2,h,l),$e||wl(4,h,l),wn(i,l,h);break;case 1:$e||(fi(h,l),m=h.stateNode,typeof m.componentWillUnmount=="function"&&hi(h,l,m)),wn(i,l,h);break;case 21:wn(i,l,h);break;case 22:$e||fi(h,l),$e=(m=$e)||h.memoizedState!==null,wn(i,l,h),$e=m;break;default:wn(i,l,h)}}function Ru(i,l){if(Gn&&l.memoizedState===null&&(i=l.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{lg(i)}catch(h){_e(l,l.return,h)}}function Pd(i){switch(i.tag){case 13:case 19:var l=i.stateNode;return l===null&&(l=i.stateNode=new ve),l;case 22:return i=i.stateNode,l=i._retryCache,l===null&&(l=i._retryCache=new ve),l;default:throw Error(c(435,i.tag))}}function Za(i,l){var h=Pd(i);l.forEach(function(m){var S=Vl.bind(null,i,m);h.has(m)||(h.add(m),m.then(S,S))})}function ti(i,l){var h=l.deletions;if(h!==null)for(var m=0;m<h.length;m++){var S=h[m],M=i,K=l;if(_n){var Z=K;t:for(;Z!==null;){switch(Z.tag){case 27:case 5:Gt=Z.stateNode,Zt=!1;break t;case 3:Gt=Z.stateNode.containerInfo,Zt=!0;break t;case 4:Gt=Z.stateNode.containerInfo,Zt=!0;break t}Z=Z.return}if(Gt===null)throw Error(c(160));Ul(M,K,S),Gt=null,Zt=!1}else Ul(M,K,S);M=S.alternate,M!==null&&(M.return=null),S.return=null}if(l.subtreeFlags&13878)for(l=l.child;l!==null;)uh(l,i),l=l.sibling}function uh(i,l){var h=i.alternate,m=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:ti(l,i),di(i),m&4&&(wl(3,i,i.return),vo(3,i),wl(5,i,i.return));break;case 1:ti(l,i),di(i),m&512&&($e||h===null||fi(h,h.return)),m&64&&Ga&&(i=i.updateQueue,i!==null&&(m=i.callbacks,m!==null&&(h=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=h===null?m:h.concat(m))));break;case 26:if(Ri){var S=Qe;ti(l,i),di(i),m&512&&($e||h===null||fi(h,h.return)),m&4&&(m=h!==null?h.memoizedState:null,l=i.memoizedState,h===null?l===null?i.stateNode===null?i.stateNode=qo(S,i.type,i.memoizedProps,i):Vo(S,i.type,i.stateNode):i.stateNode=M0(S,l,i.memoizedProps):m!==l?(m===null?h.stateNode!==null&&Tr(h.stateNode):_s(m),l===null?Vo(S,i.type,i.stateNode):M0(S,l,i.memoizedProps)):l===null&&i.stateNode!==null&&lh(i,i.memoizedProps,h.memoizedProps));break}case 27:if(Ae&&m&4&&i.alternate===null){S=i.stateNode;var M=i.memoizedProps;try{Xl(S),w0(i.type,M,S,i)}catch(At){_e(i,i.return,At)}}case 5:if(ti(l,i),di(i),m&512&&($e||h===null||fi(h,h.return)),_n){if(i.flags&32){l=i.stateNode;try{wh(l)}catch(At){_e(i,i.return,At)}}m&4&&i.stateNode!=null&&(l=i.memoizedProps,lh(i,l,h!==null?h.memoizedProps:l)),m&1024&&(kh=!0)}break;case 6:if(ti(l,i),di(i),m&4&&_n){if(i.stateNode===null)throw Error(c(162));m=i.memoizedProps,h=h!==null?h.memoizedProps:m,l=i.stateNode;try{o0(l,h,m)}catch(At){_e(i,i.return,At)}}break;case 3:if(Ri?(D0(),S=Qe,Qe=Iu(l.containerInfo),ti(l,i),Qe=S):ti(l,i),di(i),m&4){if(_n&&Gn&&h!==null&&h.memoizedState.isDehydrated)try{ag(l.containerInfo)}catch(At){_e(i,i.return,At)}if(Pi){m=l.containerInfo,h=l.pendingChildren;try{Cr(m,h)}catch(At){_e(i,i.return,At)}}}kh&&(kh=!1,Qd(i));break;case 4:Ri?(h=Qe,Qe=Iu(i.stateNode.containerInfo),ti(l,i),di(i),Qe=h):(ti(l,i),di(i)),m&4&&Pi&&Tu(i.stateNode,i,i.stateNode.pendingChildren);break;case 12:ti(l,i),di(i);break;case 13:ti(l,i),di(i),i.child.flags&8192&&i.memoizedState!==null!=(h!==null&&h.memoizedState!==null)&&(si=Qi()),m&4&&(m=i.updateQueue,m!==null&&(i.updateQueue=null,Za(i,m)));break;case 22:m&512&&($e||h===null||fi(h,h.return)),S=i.memoizedState!==null;var K=h!==null&&h.memoizedState!==null,Z=Ga,st=$e;if(Ga=Z||S,$e=st||K,ti(l,i),$e=st,Ga=Z,di(i),l=i.stateNode,l._current=i,l._visibility&=-3,l._visibility|=l._pendingVisibility&2,m&8192&&(l._visibility=S?l._visibility&-2:l._visibility|1,S&&(l=Ga||$e,h===null||K||l||or(i)),_n&&(i.memoizedProps===null||i.memoizedProps.mode!=="manual"))){t:if(h=null,_n)for(l=i;;){if(l.tag===5||Ri&&l.tag===26||Ae&&l.tag===27){if(h===null){K=h=l;try{M=K.stateNode,S?d0(M):m0(K.stateNode,K.memoizedProps)}catch(At){_e(K,K.return,At)}}}else if(l.tag===6){if(h===null){K=l;try{var _t=K.stateNode;S?g0(_t):ng(_t,K.memoizedProps)}catch(At){_e(K,K.return,At)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===i)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break t;for(;l.sibling===null;){if(l.return===null||l.return===i)break t;h===l&&(h=null),l=l.return}h===l&&(h=null),l.sibling.return=l.return,l=l.sibling}}m&4&&(m=i.updateQueue,m!==null&&(h=m.retryQueue,h!==null&&(m.retryQueue=null,Za(i,h))));break;case 19:ti(l,i),di(i),m&4&&(m=i.updateQueue,m!==null&&(i.updateQueue=null,Za(i,m)));break;case 21:break;default:ti(l,i),di(i)}}function di(i){var l=i.flags;if(l&2){try{if(_n&&(!Ae||i.tag!==27)){t:{for(var h=i.return;h!==null;){if(sh(h)){var m=h;break t}h=h.return}throw Error(c(160))}switch(m.tag){case 27:if(Ae){var S=m.stateNode,M=yo(i);Ia(i,M,S);break}case 5:var K=m.stateNode;m.flags&32&&(wh(K),m.flags&=-33);var Z=yo(i);Ia(i,Z,K);break;case 3:case 4:var st=m.stateNode.containerInfo,_t=yo(i);rh(i,_t,st);break;default:throw Error(c(161))}}}catch(At){_e(i,i.return,At)}i.flags&=-3}l&4096&&(i.flags&=-4097)}function Qd(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var l=i;Qd(l),l.tag===5&&l.flags&1024&&ju(l.stateNode),i=i.sibling}}function Ja(i,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)Au(i,l.alternate,l),l=l.sibling}function or(i){for(i=i.child;i!==null;){var l=i;switch(l.tag){case 0:case 11:case 14:case 15:wl(4,l,l.return),or(l);break;case 1:fi(l,l.return);var h=l.stateNode;typeof h.componentWillUnmount=="function"&&hi(l,l.return,h),or(l);break;case 26:case 27:case 5:fi(l,l.return),or(l);break;case 22:fi(l,l.return),l.memoizedState===null&&or(l);break;default:or(l)}i=i.sibling}}function Wa(i,l,h){for(h=h&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var m=l.alternate,S=i,M=l,K=M.flags;switch(M.tag){case 0:case 11:case 15:Wa(S,M,h),vo(4,M);break;case 1:if(Wa(S,M,h),m=M,S=m.stateNode,typeof S.componentDidMount=="function")try{S.componentDidMount()}catch(_t){_e(m,m.return,_t)}if(m=M,S=m.updateQueue,S!==null){var Z=m.stateNode;try{var st=S.shared.hiddenCallbacks;if(st!==null)for(S.shared.hiddenCallbacks=null,S=0;S<st.length;S++)wc(st[S],Z)}catch(_t){_e(m,m.return,_t)}}h&&K&64&&Kd(M),oa(M,M.return);break;case 26:case 27:case 5:Wa(S,M,h),h&&m===null&&K&4&&ah(M),oa(M,M.return);break;case 12:Wa(S,M,h);break;case 13:Wa(S,M,h),h&&K&4&&Ru(S,M);break;case 22:M.memoizedState===null&&Wa(S,M,h),oa(M,M.return);break;default:Wa(S,M,h)}l=l.sibling}}function Nu(i,l){var h=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(h=i.memoizedState.cachePool.pool),i=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(i=l.memoizedState.cachePool.pool),i!==h&&(i!=null&&i.refCount++,h!=null&&po(h))}function bo(i,l){i=null,l.alternate!==null&&(i=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==i&&(l.refCount++,i!=null&&po(i))}function Tn(i,l,h,m){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)ch(i,l,h,m),l=l.sibling}function ch(i,l,h,m){var S=l.flags;switch(l.tag){case 0:case 11:case 15:Tn(i,l,h,m),S&2048&&vo(9,l);break;case 3:Tn(i,l,h,m),S&2048&&(i=null,l.alternate!==null&&(i=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==i&&(l.refCount++,i!=null&&po(i)));break;case 12:if(S&2048){Tn(i,l,h,m),i=l.stateNode;try{var M=l.memoizedProps,K=M.id,Z=M.onPostCommit;typeof Z=="function"&&Z(K,l.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(st){_e(l,l.return,st)}}else Tn(i,l,h,m);break;case 23:break;case 22:M=l.stateNode,l.memoizedState!==null?M._visibility&4?Tn(i,l,h,m):Yn(i,l):M._visibility&4?Tn(i,l,h,m):(M._visibility|=4,Un(i,l,h,m,(l.subtreeFlags&10256)!==0)),S&2048&&Nu(l.alternate,l);break;case 24:Tn(i,l,h,m),S&2048&&bo(l.alternate,l);break;default:Tn(i,l,h,m)}}function Un(i,l,h,m,S){for(S=S&&(l.subtreeFlags&10256)!==0,l=l.child;l!==null;){var M=i,K=l,Z=h,st=m,_t=K.flags;switch(K.tag){case 0:case 11:case 15:Un(M,K,Z,st,S),vo(8,K);break;case 23:break;case 22:var At=K.stateNode;K.memoizedState!==null?At._visibility&4?Un(M,K,Z,st,S):Yn(M,K):(At._visibility|=4,Un(M,K,Z,st,S)),S&&_t&2048&&Nu(K.alternate,K);break;case 24:Un(M,K,Z,st,S),S&&_t&2048&&bo(K.alternate,K);break;default:Un(M,K,Z,st,S)}l=l.sibling}}function Yn(i,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var h=i,m=l,S=m.flags;switch(m.tag){case 22:Yn(h,m),S&2048&&Nu(m.alternate,m);break;case 24:Yn(h,m),S&2048&&bo(m.alternate,m);break;default:Yn(h,m)}l=l.sibling}}function ji(i){if(i.subtreeFlags&Ui)for(i=i.child;i!==null;)Mu(i),i=i.sibling}function Mu(i){switch(i.tag){case 26:ji(i),i.flags&Ui&&(i.memoizedState!==null?x0(Qe,i.memoizedState,i.memoizedProps):ii(i.type,i.memoizedProps));break;case 5:ji(i),i.flags&Ui&&ii(i.type,i.memoizedProps);break;case 3:case 4:if(Ri){var l=Qe;Qe=Iu(i.stateNode.containerInfo),ji(i),Qe=l}else ji(i);break;case 22:i.memoizedState===null&&(l=i.alternate,l!==null&&l.memoizedState!==null?(l=Ui,Ui=16777216,ji(i),Ui=l):ji(i));break;default:ji(i)}}function Eo(i){var l=i.alternate;if(l!==null&&(i=l.child,i!==null)){l.child=null;do l=i.sibling,i.sibling=null,i=l;while(i!==null)}}function zl(i){var l=i.deletions;if((i.flags&16)!==0){if(l!==null)for(var h=0;h<l.length;h++){var m=l[h];Kt=m,hh(m,i)}Eo(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Du(i),i=i.sibling}function Du(i){switch(i.tag){case 0:case 11:case 15:zl(i),i.flags&2048&&wl(9,i,i.return);break;case 3:zl(i);break;case 12:zl(i);break;case 22:var l=i.stateNode;i.memoizedState!==null&&l._visibility&4&&(i.return===null||i.return.tag!==13)?(l._visibility&=-5,$a(i)):zl(i);break;default:zl(i)}}function $a(i){var l=i.deletions;if((i.flags&16)!==0){if(l!==null)for(var h=0;h<l.length;h++){var m=l[h];Kt=m,hh(m,i)}Eo(i)}for(i=i.child;i!==null;){switch(l=i,l.tag){case 0:case 11:case 15:wl(8,l,l.return),$a(l);break;case 22:h=l.stateNode,h._visibility&4&&(h._visibility&=-5,$a(l));break;default:$a(l)}i=i.sibling}}function hh(i,l){for(;Kt!==null;){var h=Kt;switch(h.tag){case 0:case 11:case 15:wl(8,h,l);break;case 23:case 22:if(h.memoizedState!==null&&h.memoizedState.cachePool!==null){var m=h.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:po(h.memoizedState.cache)}if(m=h.child,m!==null)m.return=h,Kt=m;else t:for(h=i;Kt!==null;){m=Kt;var S=m.sibling,M=m.return;if(oh(m),m===h){Kt=null;break t}if(S!==null){S.return=M,Kt=S;break t}Kt=M}}}function ur(i){var l=t0(i);if(l!=null){if(typeof l.memoizedProps["data-testname"]!="string")throw Error(c(364));return l}if(i=Mh(i),i===null)throw Error(c(362));return i.stateNode.current}function Gl(i,l){var h=i.tag;switch(l.$$typeof){case Ur:if(i.type===l.value)return!0;break;case Wi:t:{for(l=l.value,i=[i,0],h=0;h<i.length;){var m=i[h++],S=m.tag,M=i[h++],K=l[M];if(S!==5&&S!==26&&S!==27||!br(m)){for(;K!=null&&Gl(m,K);)M++,K=l[M];if(M===l.length){l=!0;break t}else for(m=m.child;m!==null;)i.push(m,M),m=m.sibling}}l=!1}return l;case ze:if((h===5||h===26||h===27)&&a0(i.stateNode,l.value))return!0;break;case Ha:if((h===5||h===6||h===26||h===27)&&(i=i0(i),i!==null&&0<=i.indexOf(l.value)))return!0;break;case va:if((h===5||h===26||h===27)&&(i=i.memoizedProps["data-testname"],typeof i=="string"&&i.toLowerCase()===l.value.toLowerCase()))return!0;break;default:throw Error(c(365))}return!1}function fh(i){switch(i.$$typeof){case Ur:return"<"+(d(i.value)||"Unknown")+">";case Wi:return":has("+(fh(i)||"")+")";case ze:return'[role="'+i.value+'"]';case Ha:return'"'+i.value+'"';case va:return'[data-testname="'+i.value+'"]';default:throw Error(c(365))}}function gi(i,l){var h=[];i=[i,0];for(var m=0;m<i.length;){var S=i[m++],M=S.tag,K=i[m++],Z=l[K];if(M!==5&&M!==26&&M!==27||!br(S)){for(;Z!=null&&Gl(S,Z);)K++,Z=l[K];if(K===l.length)h.push(S);else for(S=S.child;S!==null;)i.push(S,K),S=S.sibling}}return h}function Co(i,l){if(!kl)throw Error(c(363));i=ur(i),i=gi(i,l),l=[],i=Array.from(i);for(var h=0;h<i.length;){var m=i[h++],S=m.tag;if(S===5||S===26||S===27)br(m)||l.push(m.stateNode);else for(m=m.child;m!==null;)i.push(m),m=m.sibling}return l}function nn(){if((ge&2)!==0&&ie!==0)return ie&-ie;if(Vt.T!==null){var i=Di;return i!==0?i:Ve()}return e0()}function dh(){Hi===0&&(Hi=(ie&536870912)===0||he?X():536870912);var i=Oi.current;return i!==null&&(i.flags|=32),Hi}function An(i,l,h){(i===ye&&Ce===2||i.cancelPendingCommit!==null)&&(zn(i,0),mi(i,ie,Hi,!1)),P(i,h),((ge&2)===0||i!==ye)&&(i===ye&&((ge&2)===0&&(dl|=h),Me===4&&mi(i,ie,Hi,!1)),Le(i))}function Hl(i,l,h){if((ge&6)!==0)throw Error(c(327));var m=!h&&(l&60)===0&&(l&i.expiredLanes)===0||k(i,l),S=m?mh(i,l):xu(i,l,!0),M=m;do{if(S===0){zi&&!m&&mi(i,l,0,!1);break}else if(S===6)mi(i,l,0,!ta);else{if(h=i.current.alternate,M&&!cr(h)){S=xu(i,l,!1),M=!1;continue}if(S===2){if(M=l,i.errorRecoveryDisabledLanes&M)var K=0;else K=i.pendingLanes&-536870913,K=K!==0?K:K&536870912?536870912:0;if(K!==0){l=K;t:{var Z=i;S=ws;var st=Gn&&Z.current.memoizedState.isDehydrated;if(st&&(zn(Z,K).flags|=256),K=xu(Z,K,!1),K!==2){if(Sn&&!st){Z.errorRecoveryDisabledLanes|=M,dl|=M,S=4;break t}M=tn,tn=S,M!==null&&To(M)}S=K}if(M=!1,S!==2)continue}}if(S===1){zn(i,0),mi(i,l,0,!0);break}t:{switch(m=i,S){case 0:case 1:throw Error(c(345));case 4:if((l&4194176)===l){mi(m,l,Hi,!ta);break t}break;case 2:tn=null;break;case 3:case 5:break;default:throw Error(c(329))}if(m.finishedWork=h,m.finishedLanes=l,(l&62914560)===l&&(M=si+300-Qi(),10<M)){if(mi(m,l,Hi,!ta),B(m,0)!==0)break t;m.timeoutHandle=fn(Ou.bind(null,m,h,tn,Po,sc,l,Hi,dl,Ba,ta,2,-0,0),M);break t}Ou(m,h,tn,Po,sc,l,Hi,dl,Ba,ta,0,-0,0)}}break}while(!0);Le(i)}function To(i){tn===null?tn=i:tn.push.apply(tn,i)}function Ou(i,l,h,m,S,M,K,Z,st,_t,At,Dt,Ot){var Pt=l.subtreeFlags;if((Pt&8192||(Pt&16785408)===16785408)&&(Rh(),Mu(l),l=dn(),l!==null)){i.cancelPendingCommit=l(Ll.bind(null,i,h,m,S,K,Z,st,1,Dt,Ot)),mi(i,M,K,!_t);return}Ll(i,h,m,S,K,Z,st,At,Dt,Ot)}function cr(i){for(var l=i;;){var h=l.tag;if((h===0||h===11||h===15)&&l.flags&16384&&(h=l.updateQueue,h!==null&&(h=h.stores,h!==null)))for(var m=0;m<h.length;m++){var S=h[m],M=S.getSnapshot;S=S.value;try{if(!_i(M(),S))return!1}catch{return!1}}if(h=l.child,l.subtreeFlags&16384&&h!==null)h.return=l,l=h;else{if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function mi(i,l,h,m){l&=~Ko,l&=~dl,i.suspendedLanes|=l,i.pingedLanes&=~l,m&&(i.warmLanes|=l),m=i.expirationTimes;for(var S=l;0<S;){var M=31-ai(S),K=1<<M;m[M]=-1,S&=~K}h!==0&&x(i,h,l)}function Ao(){return(ge&6)===0?(Zn(0),!1):!0}function hr(){if(Bt!==null){if(Ce===0)var i=Bt.return;else i=Bt,wi=_a=null,ka(i),Zl=null,Jl=0,i=Bt;for(;i!==null;)Xd(i.alternate,i),i=i.return;Bt=null}}function zn(i,l){i.finishedWork=null,i.finishedLanes=0;var h=i.timeoutHandle;h!==jl&&(i.timeoutHandle=jl,Vu(h)),h=i.cancelPendingCommit,h!==null&&(i.cancelPendingCommit=null,h()),hr(),ye=i,Bt=h=ki(i.current,null),ie=l,Ce=0,Fn=null,ta=!1,zi=k(i,l),Sn=!1,Ba=Hi=Ko=dl=Gi=Me=0,tn=ws=null,sc=!1,(l&8)!==0&&(l|=l&32);var m=i.entangledLanes;if(m!==0)for(i=i.entanglements,m&=l;0<m;){var S=31-ai(m),M=1<<S;l|=i[S],m&=~M}return kn=l,re(),h}function Ci(i,l){Jt=null,Vt.H=We,l===Dr?(l=Gc(),Ce=3):l===ko?(l=Gc(),Ce=4):Ce=l===ac?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,Fn=l,Bt===null&&(Me=1,nr(i,et(l,i.current)))}function Bl(){var i=Oi.current;return i===null?!0:(ie&4194176)===ie?Re===null:(ie&62914560)===ie||(ie&536870912)!==0?i===Re:!1}function Ta(){var i=Vt.H;return Vt.H=We,i===null?We:i}function Aa(){var i=Vt.A;return Vt.A=wr,i}function tl(){Me=4,ta||(ie&4194176)!==ie&&Oi.current!==null||(zi=!0),(Gi&134217727)===0&&(dl&134217727)===0||ye===null||mi(ye,ie,Hi,!1)}function xu(i,l,h){var m=ge;ge|=2;var S=Ta(),M=Aa();(ye!==i||ie!==l)&&(Po=null,zn(i,l)),l=!1;var K=Me;t:do try{if(Ce!==0&&Bt!==null){var Z=Bt,st=Fn;switch(Ce){case 8:hr(),K=6;break t;case 3:case 2:case 6:Oi.current===null&&(l=!0);var _t=Ce;if(Ce=0,Fn=null,Fi(i,Z,st,_t),h&&zi){K=0;break t}break;default:_t=Ce,Ce=0,Fn=null,Fi(i,Z,st,_t)}}gh(),K=Me;break}catch(At){Ci(i,At)}while(!0);return l&&i.shellSuspendCounter++,wi=_a=null,ge=m,Vt.H=S,Vt.A=M,Bt===null&&(ye=null,ie=0,re()),K}function gh(){for(;Bt!==null;)Pe(Bt)}function mh(i,l){var h=ge;ge|=2;var m=Ta(),S=Aa();ye!==i||ie!==l?(Po=null,zr=Qi()+500,zn(i,l)):zi=k(i,l);t:do try{if(Ce!==0&&Bt!==null){l=Bt;var M=Fn;e:switch(Ce){case 1:Ce=0,Fn=null,Fi(i,l,M,1);break;case 2:if(Ps(M)){Ce=0,Fn=null,me(l);break}l=function(){Ce===2&&ye===i&&(Ce=7),Le(i)},M.then(l,l);break t;case 3:Ce=7;break t;case 4:Ce=5;break t;case 7:Ps(M)?(Ce=0,Fn=null,me(l)):(Ce=0,Fn=null,Fi(i,l,M,7));break;case 5:var K=null;switch(Bt.tag){case 26:K=Bt.memoizedState;case 5:case 27:var Z=Bt,st=Z.type,_t=Z.pendingProps;if(K?vs(K):Yu(st,_t)){Ce=0,Fn=null;var At=Z.sibling;if(At!==null)Bt=At;else{var Dt=Z.return;Dt!==null?(Bt=Dt,Ti(Dt)):Bt=null}break e}}Ce=0,Fn=null,Fi(i,l,M,5);break;case 6:Ce=0,Fn=null,Fi(i,l,M,6);break;case 8:hr(),Me=6;break t;default:throw Error(c(462))}}ei();break}catch(Ot){Ci(i,Ot)}while(!0);return wi=_a=null,Vt.H=m,Vt.A=S,ge=h,Bt!==null?0:(ye=null,ie=0,re(),Me)}function ei(){for(;Bt!==null&&!G0();)Pe(Bt)}function Pe(i){var l=jd(i.alternate,i,kn);i.memoizedProps=i.pendingProps,l===null?Ti(i):Bt=l}function me(i){var l=i,h=l.alternate;switch(l.tag){case 15:case 0:l=Hd(h,l,l.pendingProps,l.type,void 0,ie);break;case 11:l=Hd(h,l,l.pendingProps,l.type.render,l.ref,ie);break;case 5:ka(l);default:Xd(h,l),l=Bt=No(l,kn),l=jd(h,l,kn)}i.memoizedProps=i.pendingProps,l===null?Ti(i):Bt=l}function Fi(i,l,h,m){wi=_a=null,ka(l),Zl=null,Jl=0;var S=l.return;try{if(I1(i,S,l,h,ie)){Me=1,nr(i,et(h,i.current)),Bt=null;return}}catch(M){if(S!==null)throw Bt=S,M;Me=1,nr(i,et(h,i.current)),Bt=null;return}l.flags&32768?(he||m===1?i=!0:zi||(ie&536870912)!==0?i=!1:(ta=i=!0,(m===2||m===3||m===6)&&(m=Oi.current,m!==null&&m.tag===13&&(m.flags|=16384))),wu(l,i)):Ti(l)}function Ti(i){var l=i;do{if((l.flags&32768)!==0){wu(l,ta);return}i=l.return;var h=kd(l.alternate,l,kn);if(h!==null){Bt=h;return}if(l=l.sibling,l!==null){Bt=l;return}Bt=l=i}while(l!==null);Me===0&&(Me=5)}function wu(i,l){do{var h=J1(i.alternate,i);if(h!==null){h.flags&=32767,Bt=h;return}if(h=i.return,h!==null&&(h.flags|=32768,h.subtreeFlags=0,h.deletions=null),!l&&(i=i.sibling,i!==null)){Bt=i;return}Bt=i=h}while(i!==null);Me=6,Bt=null}function Ll(i,l,h,m,S,M,K,Z,st,_t){var At=Vt.T,Dt=sl();try{jn(2),Vt.T=null,Id(i,l,h,m,Dt,S,M,K,Z,st,_t)}finally{Vt.T=At,jn(Dt)}}function Id(i,l,h,m,S,M,K,Z){do ua();while(La!==null);if((ge&6)!==0)throw Error(c(327));var st=i.finishedWork;if(m=i.finishedLanes,st===null)return null;if(i.finishedWork=null,i.finishedLanes=0,st===i.current)throw Error(c(177));i.callbackNode=null,i.callbackPriority=0,i.cancelPendingCommit=null;var _t=st.lanes|st.childLanes;if(_t|=ma,tt(i,m,_t,M,K,Z),i===ye&&(Bt=ye=null,ie=0),(st.subtreeFlags&10256)===0&&(st.flags&10256)===0||ya||(ya=!0,ns=_t,rc=h,nl(tc,function(){return ua(),null})),h=(st.flags&15990)!==0,(st.subtreeFlags&15990)!==0||h?(h=Vt.T,Vt.T=null,M=sl(),jn(2),K=ge,ge|=4,So(i,st),uh(st,i),$d(i.containerInfo),i.current=st,Au(i,st.alternate,st),Wu(),ge=K,jn(M),Vt.T=h):i.current=st,ya?(ya=!1,La=i,Us=m):ph(i,_t),_t=i.pendingLanes,_t===0&&(es=null),D(st.stateNode),Le(i),l!==null)for(S=i.onRecoverableError,st=0;st<l.length;st++)_t=l[st],S(_t.value,{componentStack:_t.stack});return(Us&3)!==0&&ua(),_t=i.pendingLanes,(m&4194218)!==0&&(_t&42)!==0?i===oc?Gr++:(Gr=0,oc=i):Gr=0,Zn(0),null}function ph(i,l){(i.pooledCacheLanes&=l)===0&&(l=i.pooledCache,l!=null&&(i.pooledCache=null,po(l)))}function ua(){if(La!==null){var i=La,l=ns;ns=0;var h=G(Us),m=32>h?32:h;h=Vt.T;var S=sl();try{if(jn(m),Vt.T=null,La===null)var M=!1;else{m=rc,rc=null;var K=La,Z=Us;if(La=null,Us=0,(ge&6)!==0)throw Error(c(331));var st=ge;if(ge|=4,Du(K.current),ch(K,K.current,Z,m),ge=st,Zn(0,!1),pi&&typeof pi.onPostCommitFiberRoot=="function")try{pi.onPostCommitFiberRoot(sn,K)}catch{}M=!0}return M}finally{jn(S),Vt.T=h,ph(i,l)}}return!1}function fr(i,l,h){l=et(h,l),l=ar(i.stateNode,l,2),i=Xe(i,l,2),i!==null&&(P(i,2),Le(i))}function _e(i,l,h){if(i.tag===3)fr(i,i,h);else for(;l!==null;){if(l.tag===3){fr(l,i,h);break}else if(l.tag===1){var m=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(es===null||!es.has(m))){i=et(h,i),h=Ic(2),m=Xe(l,h,2),m!==null&&(xd(h,m,l,i),P(m,2),Le(m));break}}l=l.return}}function ms(i,l,h){var m=i.pingCache;if(m===null){m=i.pingCache=new $i;var S=new Set;m.set(l,S)}else S=m.get(l),S===void 0&&(S=new Set,m.set(l,S));S.has(h)||(Sn=!0,S.add(h),i=_h.bind(null,i,l,h),l.then(i,i))}function _h(i,l,h){var m=i.pingCache;m!==null&&m.delete(l),i.pingedLanes|=i.suspendedLanes&h,i.warmLanes&=~h,ye===i&&(ie&h)===h&&(Me===4||Me===3&&(ie&62914560)===ie&&300>Qi()-si?(ge&2)===0&&zn(i,0):Ko|=h,Ba===ie&&(Ba=0)),Le(i)}function ql(i,l){l===0&&(l=F()),i=kt(i,l),i!==null&&(P(i,l),Le(i))}function el(i){var l=i.memoizedState,h=0;l!==null&&(h=l.retryLane),ql(i,h)}function Vl(i,l){var h=0;switch(i.tag){case 13:var m=i.stateNode,S=i.memoizedState;S!==null&&(h=S.retryLane);break;case 19:m=i.stateNode;break;case 22:m=i.stateNode._retryCache;break;default:throw Error(c(314))}m!==null&&m.delete(l),ql(i,h)}function nl(i,l){return Yo(i,l)}function vh(i,l,h,m){this.tag=i,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ro(i){return i=i.prototype,!(!i||!i.isReactComponent)}function ki(i,l){var h=i.alternate;return h===null?(h=s(i.tag,l,i.key,i.mode),h.elementType=i.elementType,h.type=i.type,h.stateNode=i.stateNode,h.alternate=i,i.alternate=h):(h.pendingProps=l,h.type=i.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=i.flags&31457280,h.childLanes=i.childLanes,h.lanes=i.lanes,h.child=i.child,h.memoizedProps=i.memoizedProps,h.memoizedState=i.memoizedState,h.updateQueue=i.updateQueue,l=i.dependencies,h.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},h.sibling=i.sibling,h.index=i.index,h.ref=i.ref,h.refCleanup=i.refCleanup,h}function No(i,l){i.flags&=31457282;var h=i.alternate;return h===null?(i.childLanes=0,i.lanes=l,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=h.childLanes,i.lanes=h.lanes,i.child=h.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=h.memoizedProps,i.memoizedState=h.memoizedState,i.updateQueue=h.updateQueue,i.type=h.type,l=h.dependencies,i.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),i}function Ra(i,l,h,m,S,M){var K=0;if(m=i,typeof i=="function")Ro(i)&&(K=1);else if(typeof i=="string")K=Ri&&Ae?Lo(i,h,vn.current)?26:Ma(i)?27:5:Ri?Lo(i,h,vn.current)?26:5:Ae&&Ma(i)?27:5;else t:switch(i){case Yl:return Je(h.children,S,M,l);case xo:K=8,S|=24;break;case Hu:return i=s(12,h,l,S|2),i.elementType=Hu,i.lanes=M,i;case Bu:return i=s(13,h,l,S),i.elementType=Bu,i.lanes=M,i;case pr:return i=s(19,h,l,S),i.elementType=pr,i.lanes=M,i;case bh:return Mo(h,S,M,l);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case wo:case ca:K=10;break t;case Sh:K=9;break t;case Uo:K=11;break t;case Lu:K=14;break t;case Ki:K=16,m=null;break t}K=29,h=Error(c(130,i===null?"null":typeof i,"")),m=null}return l=s(K,h,l,S),l.elementType=i,l.type=m,l.lanes=M,l}function Je(i,l,h,m){return i=s(7,i,m,l),i.lanes=h,i}function Mo(i,l,h,m){i=s(22,i,m,l),i.elementType=bh,i.lanes=h;var S={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var M=S._current;if(M===null)throw Error(c(456));if((S._pendingVisibility&2)===0){var K=kt(M,2);K!==null&&(S._pendingVisibility|=2,An(K,M,2))}},attach:function(){var M=S._current;if(M===null)throw Error(c(456));if((S._pendingVisibility&2)!==0){var K=kt(M,2);K!==null&&(S._pendingVisibility&=-3,An(K,M,2))}}};return i.stateNode=S,i}function Uu(i,l,h){return i=s(6,i,null,l),i.lanes=h,i}function yh(i,l,h){return l=s(4,i.children!==null?i.children:[],i.key,l),l.lanes=h,l.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},l}function W1(i,l,h,m,S,M,K,Z){this.tag=1,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=jl,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Y(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Y(0),this.hiddenUpdates=Y(null),this.identifierPrefix=m,this.onUncaughtError=S,this.onCaughtError=M,this.onRecoverableError=K,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Z,this.incompleteTransitions=new Map}function Zd(i,l,h,m,S,M,K,Z,st,_t,At,Dt){return i=new W1(i,l,h,K,Z,st,_t,Dt),l=1,M===!0&&(l|=24),M=s(3,null,null,l),i.current=M,M.stateNode=i,l=xl(),l.refCount++,i.pooledCache=l,l.refCount++,M.memoizedState={element:m,isDehydrated:h,cache:l},Vi(M),i}function hn(i){return i?(i=Pl,i):Pl}function zu(i){var l=i._reactInternals;if(l===void 0)throw typeof i.render=="function"?Error(c(188)):(i=Object.keys(i).join(","),Error(c(268,i)));return i=A(l),i=i!==null?E(i):null,i===null?null:yr(i.stateNode)}function dr(i,l,h,m,S,M){S=hn(S),m.context===null?m.context=S:m.pendingContext=S,m=ke(l),m.payload={element:h},M=M===void 0?null:M,M!==null&&(m.callback=M),h=Xe(i,m,l),h!==null&&(An(h,i,l),Wn(h,i,l))}function gr(i,l){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var h=i.retryLane;i.retryLane=h!==0&&h<l?h:l}}function Do(i,l){gr(i,l),(i=i.alternate)&&gr(i,l)}var Qt={},mr=x1(),Ai=e8(),Gu=Object.assign,$1=Symbol.for("react.element"),Oo=Symbol.for("react.transitional.element"),Xi=Symbol.for("react.portal"),Yl=Symbol.for("react.fragment"),xo=Symbol.for("react.strict_mode"),Hu=Symbol.for("react.profiler"),wo=Symbol.for("react.provider"),Sh=Symbol.for("react.consumer"),ca=Symbol.for("react.context"),Uo=Symbol.for("react.forward_ref"),Bu=Symbol.for("react.suspense"),pr=Symbol.for("react.suspense_list"),Lu=Symbol.for("react.memo"),Ki=Symbol.for("react.lazy"),bh=Symbol.for("react.offscreen"),Jd=Symbol.for("react.memo_cache_sentinel"),il=Symbol.iterator,Eh=Symbol.for("react.client.reference"),Vt=mr.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Na,al,ps=!1,_r=Array.isArray,Ch=e.rendererVersion,zo=e.rendererPackageName,vr=e.extraDevToolsConfig,yr=e.getPublicInstance,Wd=e.getRootHostContext,Sr=e.getChildHostContext,qu=e.prepareForCommit,$d=e.resetAfterCommit,Th=e.createInstance,Go=e.appendInitialChild,ll=e.finalizeInitialChildren,It=e.shouldSetTextContent,be=e.createTextInstance,fn=e.scheduleTimeout,Vu=e.cancelTimeout,jl=e.noTimeout,ni=e.isPrimaryRenderer;e.warnsIfNotActing;var _n=e.supportsMutation,Pi=e.supportsPersistence,Gn=e.supportsHydration,t0=e.getInstanceFromNode;e.beforeActiveInstanceBlur,e.afterActiveInstanceBlur;var an=e.preparePortalMount;e.prepareScopeUpdate,e.getInstanceFromScope;var jn=e.setCurrentUpdatePriority,sl=e.getCurrentUpdatePriority,e0=e.resolveUpdatePriority;e.resolveEventType,e.resolveEventTimeStamp;var n0=e.shouldAttemptEagerTransition,tg=e.detachDeletedInstance;e.requestPostPaintCallback;var Ah=e.maySuspendCommit,Yu=e.preloadInstance,Rh=e.startSuspendingCommit,ii=e.suspendInstance,dn=e.waitForCommitToBeReady,Fl=e.NotPendingTransition,ha=e.HostTransitionContext,ju=e.resetFormInstance;e.bindToConsole;var Nh=e.supportsMicrotasks,rl=e.scheduleMicrotask,kl=e.supportsTestSelectors,Mh=e.findFiberRoot,Dh=e.getBoundingRect,i0=e.getTextContent,br=e.isHiddenSubtree,a0=e.matchAccessibilityRole,l0=e.setFocusIfFocusable,s0=e.setupIntersectionObserver,r0=e.appendChild,Oh=e.appendChildToContainer,o0=e.commitTextUpdate,eg=e.commitMount,u0=e.commitUpdate,c0=e.insertBefore,h0=e.insertInContainerBefore,xh=e.removeChild,f0=e.removeChildFromContainer,wh=e.resetTextContent,d0=e.hideInstance,g0=e.hideTextInstance,m0=e.unhideInstance,ng=e.unhideTextInstance,p0=e.clearContainer,Er=e.cloneInstance,Ho=e.createContainerChildSet,Uh=e.appendChildToContainerChildSet,Fu=e.finalizeContainerChildren,Cr=e.replaceContainerChildren,zh=e.cloneHiddenInstance,Gh=e.cloneHiddenTextInstance,ku=e.isSuspenseInstancePending,Xu=e.isSuspenseInstanceFallback,_0=e.getSuspenseInstanceFallbackErrorDetails,v0=e.registerSuspenseInstanceRetry,Hh=e.canHydrateFormStateMarker,y0=e.isFormStateMarkerMatching,Bh=e.getNextHydratableSibling,Ku=e.getFirstHydratableChild,S0=e.getFirstHydratableChildWithinContainer,b0=e.getFirstHydratableChildWithinSuspenseInstance,ig=e.canHydrateInstance,Lh=e.canHydrateTextInstance,E0=e.canHydrateSuspenseInstance,C0=e.hydrateInstance,qh=e.hydrateTextInstance,T0=e.hydrateSuspenseInstance,A0=e.getNextHydratableInstanceAfterSuspenseInstance,ag=e.commitHydratedContainer,lg=e.commitHydratedSuspenseInstance,R0=e.clearSuspenseBoundary,Bo=e.clearSuspenseBoundaryFromContainer,Pu=e.shouldDeleteUnhydratedTailInstances;e.diffHydratedPropsForDevWarnings,e.diffHydratedTextForDevWarnings,e.describeHydratableInstanceForDevWarnings;var Qu=e.validateHydratableInstance,N0=e.validateHydratableTextInstance,Ri=e.supportsResources,Lo=e.isHostHoistableType,Iu=e.getHoistableRoot,Vh=e.getResource,M0=e.acquireResource,_s=e.releaseResource,qo=e.hydrateHoistable,Vo=e.mountHoistable,Tr=e.unmountHoistable,Zu=e.createHoistableInstance,D0=e.prepareToCommitHoistables,O0=e.mayResourceSuspendCommit,vs=e.preloadResource,x0=e.suspendResource,Ae=e.supportsSingletons,fa=e.resolveSingletonInstance,Xl=e.clearSingleton,w0=e.acquireSingletonInstance,Kl=e.releaseSingletonInstance,Ma=e.isHostSingletonType,ln=[],ol=-1,Pl={},ai=Math.clz32?Math.clz32:R,U0=Math.log,z0=Math.LN2,Da=128,ys=4194304,Yo=Ai.unstable_scheduleCallback,Ju=Ai.unstable_cancelCallback,G0=Ai.unstable_shouldYield,Wu=Ai.unstable_requestPaint,Qi=Ai.unstable_now,$u=Ai.unstable_ImmediatePriority,H0=Ai.unstable_UserBlockingPriority,tc=Ai.unstable_NormalPriority,sg=Ai.unstable_IdlePriority,B0=Ai.log,Rn=Ai.unstable_setDisableYieldValue,sn=null,pi=null,_i=typeof Object.is=="function"?Object.is:Q,Yh=new WeakMap,Ss=[],bs=0,Es=null,Ar=0,Ni=[],Mi=0,Ql=null,da=1,ga="",vn=w(null),Rr=w(null),Oa=w(null),Cs=w(null),Hn=null,Bn=null,he=!1,Ii=null,Nn=!1,jo=Error(c(519)),Zi=[],Ts=0,ma=0,Fo=null,ul=null,As=!1,De=!1,jh=!1,Nr=0,Mr=null,Rs=0,Di=0,Ns=null,cl=!1,Ms=!1,xa=Object.prototype.hasOwnProperty,Dr=Error(c(460)),ko=Error(c(474)),Xo={then:function(){}},Il=null,Zl=null,Jl=0,Wl=Fa(!0),wa=Fa(!1),Oe=w(null),Or=w(0),Oi=w(null),Re=null,yn=w(0),hl=0,Jt=null,Ht=null,de=null,Ji=!1,Ds=!1,$l=!1,ec=0,Os=0,Mn=null,pa=0,nc=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}},We={readContext:xn,use:$r,useCallback:Ke,useContext:Ke,useEffect:Ke,useImperativeHandle:Ke,useLayoutEffect:Ke,useInsertionEffect:Ke,useMemo:Ke,useReducer:Ke,useRef:Ke,useState:Ke,useDebugValue:Ke,useDeferredValue:Ke,useTransition:Ke,useSyncExternalStore:Ke,useId:Ke};We.useCacheRefresh=Ke,We.useMemoCache=Ke,We.useHostTransitionStatus=Ke,We.useFormState=Ke,We.useActionState=Ke,We.useOptimistic=Ke;var ts={readContext:xn,use:$r,useCallback:function(i,l){return pn().memoizedState=[i,l===void 0?null:l],i},useContext:xn,useEffect:du,useImperativeHandle:function(i,l,h){h=h!=null?h.concat([i]):null,io(4194308,4,gu.bind(null,l,i),h)},useLayoutEffect:function(i,l){return io(4194308,4,i,l)},useInsertionEffect:function(i,l){io(4,2,i,l)},useMemo:function(i,l){var h=pn();l=l===void 0?null:l;var m=i();if($l){L(!0);try{i()}finally{L(!1)}}return h.memoizedState=[m,l],m},useReducer:function(i,l,h){var m=pn();if(h!==void 0){var S=h(l);if($l){L(!0);try{h(l)}finally{L(!1)}}}else S=l;return m.memoizedState=m.baseState=S,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:S},m.queue=i,i=i.dispatch=pu.bind(null,Jt,i),[m.memoizedState,i]},useRef:function(i){var l=pn();return i={current:i},l.memoizedState=i},useState:function(i){i=ui(i);var l=i.queue,h=Qc.bind(null,Jt,l);return l.dispatch=h,[i.memoizedState,h]},useDebugValue:Rl,useDeferredValue:function(i,l){var h=pn();return so(h,i,l)},useTransition:function(){var i=ui(!1);return i=Js.bind(null,Jt,i.queue,!0,!1),pn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,l,h){var m=Jt,S=pn();if(he){if(h===void 0)throw Error(c(407));h=h()}else{if(h=l(),ye===null)throw Error(c(349));(ie&60)!==0||cs(m,l,h)}S.memoizedState=h;var M={value:h,getSnapshot:l};return S.queue=M,du(cu.bind(null,m,M,i),[i]),m.flags|=2048,ra(9,uu.bind(null,m,M,h,l),{destroy:void 0},null),h},useId:function(){var i=pn(),l=ye.identifierPrefix;if(he){var h=ga,m=da;h=(m&~(1<<32-ai(m)-1)).toString(32)+h,l=":"+l+"R"+h,h=ec++,0<h&&(l+="H"+h.toString(32)),l+=":"}else h=pa++,l=":"+l+"r"+h.toString(32)+":";return i.memoizedState=l},useCacheRefresh:function(){return pn().memoizedState=Pc.bind(null,Jt)}};ts.useMemoCache=Hc,ts.useHostTransitionStatus=ro,ts.useFormState=jc,ts.useActionState=jc,ts.useOptimistic=function(i){var l=pn();l.memoizedState=l.baseState=i;var h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=h,l=$s.bind(null,Jt,!0,h),h.dispatch=l,[i,l]};var li={readContext:xn,use:$r,useCallback:fs,useContext:xn,useEffect:kc,useImperativeHandle:mu,useInsertionEffect:Dd,useLayoutEffect:lo,useMemo:Xc,useReducer:us,useRef:Md,useState:function(){return us(Yi)},useDebugValue:Rl,useDeferredValue:function(i,l){var h=cn();return Kc(h,Ht.memoizedState,i,l)},useTransition:function(){var i=us(Yi)[0],l=cn().memoizedState;return[typeof i=="boolean"?i:Zs(i),l]},useSyncExternalStore:Bc,useId:Ws};li.useCacheRefresh=Xa,li.useMemoCache=Hc,li.useHostTransitionStatus=ro,li.useFormState=fu,li.useActionState=fu,li.useOptimistic=function(i,l){var h=cn();return qc(h,Ht,i,l)};var xi={readContext:xn,use:$r,useCallback:fs,useContext:xn,useEffect:kc,useImperativeHandle:mu,useInsertionEffect:Dd,useLayoutEffect:lo,useMemo:Xc,useReducer:to,useRef:Md,useState:function(){return to(Yi)},useDebugValue:Rl,useDeferredValue:function(i,l){var h=cn();return Ht===null?so(h,i,l):Kc(h,Ht.memoizedState,i,l)},useTransition:function(){var i=to(Yi)[0],l=cn().memoizedState;return[typeof i=="boolean"?i:Zs(i),l]},useSyncExternalStore:Bc,useId:Ws};xi.useCacheRefresh=Xa,xi.useMemoCache=Hc,xi.useHostTransitionStatus=ro,xi.useFormState=Fc,xi.useActionState=Fc,xi.useOptimistic=function(i,l){var h=cn();return Ht!==null?qc(h,Ht,i,l):(h.baseState=i,[i,h.queue.dispatch])};var Ua={isMounted:function(i){return(i=i._reactInternals)?T(i)===i:!1},enqueueSetState:function(i,l,h){i=i._reactInternals;var m=nn(),S=ke(m);S.payload=l,h!=null&&(S.callback=h),l=Xe(i,S,m),l!==null&&(An(l,i,m),Wn(l,i,m))},enqueueReplaceState:function(i,l,h){i=i._reactInternals;var m=nn(),S=ke(m);S.tag=1,S.payload=l,h!=null&&(S.callback=h),l=Xe(i,S,m),l!==null&&(An(l,i,m),Wn(l,i,m))},enqueueForceUpdate:function(i,l){i=i._reactInternals;var h=nn(),m=ke(h);m.tag=2,l!=null&&(m.callback=l),l=Xe(i,m,h),l!==null&&(An(l,i,h),Wn(l,i,h))}},ic=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},ac=Error(c(461)),Ne=!1,lc={dehydrated:null,treeContext:null,retryLane:0},fl=w(null),_a=null,wi=null,xr=typeof AbortController<"u"?AbortController:function(){var i=[],l=this.signal={aborted:!1,addEventListener:function(h,m){i.push(m)}};this.abort=function(){l.aborted=!0,i.forEach(function(h){return h()})}},L0=Ai.unstable_scheduleCallback,q0=Ai.unstable_NormalPriority,xe={$$typeof:ca,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0},Fh=Vt.S;Vt.S=function(i,l){typeof l=="object"&&l!==null&&typeof l.then=="function"&&En(i,l),Fh!==null&&Fh(i,l)};var za=w(null),Ga=!1,$e=!1,kh=!1,ve=typeof WeakSet=="function"?WeakSet:Set,Kt=null,$t=!1,Gt=null,Zt=!1,Qe=null,Ui=8192,wr={getCacheForType:function(i){var l=xn(xe),h=l.data.get(i);return h===void 0&&(h=i(),l.data.set(i,h)),h}},Ur=0,Wi=1,ze=2,va=3,Ha=4;if(typeof Symbol=="function"&&Symbol.for){var xs=Symbol.for;Ur=xs("selector.component"),Wi=xs("selector.has_pseudo_class"),ze=xs("selector.role"),va=xs("selector.test_id"),Ha=xs("selector.text")}var $i=typeof WeakMap=="function"?WeakMap:Map,ge=0,ye=null,Bt=null,ie=0,Ce=0,Fn=null,ta=!1,zi=!1,Sn=!1,kn=0,Me=0,Gi=0,dl=0,Ko=0,Hi=0,Ba=0,ws=null,tn=null,sc=!1,si=0,zr=1/0,Po=null,es=null,ya=!1,La=null,Us=0,ns=0,rc=null,Gr=0,oc=null;return Qt.attemptContinuousHydration=function(i){if(i.tag===13){var l=kt(i,67108864);l!==null&&An(l,i,67108864),Do(i,67108864)}},Qt.attemptHydrationAtCurrentPriority=function(i){if(i.tag===13){var l=nn(),h=kt(i,l);h!==null&&An(h,i,l),Do(i,l)}},Qt.attemptSynchronousHydration=function(i){switch(i.tag){case 3:if(i=i.stateNode,i.current.memoizedState.isDehydrated){var l=U(i.pendingLanes);if(l!==0){for(i.pendingLanes|=2,i.entangledLanes|=2;l;){var h=1<<31-ai(l);i.entanglements[1]|=h,l&=~h}Le(i),(ge&6)===0&&(zr=Qi()+500,Zn(0))}}break;case 13:l=kt(i,2),l!==null&&An(l,i,2),Ao(),Do(i,2)}},Qt.batchedUpdates=function(i,l){return i(l)},Qt.createComponentSelector=function(i){return{$$typeof:Ur,value:i}},Qt.createContainer=function(i,l,h,m,S,M,K,Z,st,_t){return Zd(i,l,!1,null,h,m,M,K,Z,st,_t,null)},Qt.createHasPseudoClassSelector=function(i){return{$$typeof:Wi,value:i}},Qt.createHydrationContainer=function(i,l,h,m,S,M,K,Z,st,_t,At,Dt,Ot){return i=Zd(h,m,!0,i,S,M,Z,st,_t,At,Dt,Ot),i.context=hn(null),h=i.current,m=nn(),S=ke(m),S.callback=l??null,Xe(h,S,m),i.current.lanes=m,P(i,m),Le(i),i},Qt.createPortal=function(i,l,h){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Xi,key:m==null?null:""+m,children:i,containerInfo:l,implementation:h}},Qt.createRoleSelector=function(i){return{$$typeof:ze,value:i}},Qt.createTestNameSelector=function(i){return{$$typeof:va,value:i}},Qt.createTextSelector=function(i){return{$$typeof:Ha,value:i}},Qt.defaultOnCaughtError=function(i){console.error(i)},Qt.defaultOnRecoverableError=function(i){ic(i)},Qt.defaultOnUncaughtError=function(i){ic(i)},Qt.deferredUpdates=function(i){var l=Vt.T,h=sl();try{return jn(32),Vt.T=null,i()}finally{jn(h),Vt.T=l}},Qt.discreteUpdates=function(i,l,h,m,S){var M=Vt.T,K=sl();try{return jn(2),Vt.T=null,i(l,h,m,S)}finally{jn(K),Vt.T=M,ge===0&&(zr=Qi()+500)}},Qt.findAllNodes=Co,Qt.findBoundingRects=function(i,l){if(!kl)throw Error(c(363));l=Co(i,l),i=[];for(var h=0;h<l.length;h++)i.push(Dh(l[h]));for(l=i.length-1;0<l;l--){h=i[l];for(var m=h.x,S=m+h.width,M=h.y,K=M+h.height,Z=l-1;0<=Z;Z--)if(l!==Z){var st=i[Z],_t=st.x,At=_t+st.width,Dt=st.y,Ot=Dt+st.height;if(m>=_t&&M>=Dt&&S<=At&&K<=Ot){i.splice(l,1);break}else if(m!==_t||h.width!==st.width||Ot<M||Dt>K){if(!(M!==Dt||h.height!==st.height||At<m||_t>S)){_t>m&&(st.width+=_t-m,st.x=m),At<S&&(st.width=S-_t),i.splice(l,1);break}}else{Dt>M&&(st.height+=Dt-M,st.y=M),Ot<K&&(st.height=K-Dt),i.splice(l,1);break}}}return i},Qt.findHostInstance=zu,Qt.findHostInstanceWithNoPortals=function(i){return i=A(i),i=i!==null?O(i):null,i===null?null:yr(i.stateNode)},Qt.findHostInstanceWithWarning=function(i){return zu(i)},Qt.flushPassiveEffects=ua,Qt.flushSyncFromReconciler=function(i){var l=ge;ge|=1;var h=Vt.T,m=sl();try{if(jn(2),Vt.T=null,i)return i()}finally{jn(m),Vt.T=h,ge=l,(ge&6)===0&&Zn(0)}},Qt.flushSyncWork=Ao,Qt.focusWithin=function(i,l){if(!kl)throw Error(c(363));for(i=ur(i),l=gi(i,l),l=Array.from(l),i=0;i<l.length;){var h=l[i++],m=h.tag;if(!br(h)){if((m===5||m===26||m===27)&&l0(h.stateNode))return!0;for(h=h.child;h!==null;)l.push(h),h=h.sibling}}return!1},Qt.getFindAllNodesFailureDescription=function(i,l){if(!kl)throw Error(c(363));var h=0,m=[];i=[ur(i),0];for(var S=0;S<i.length;){var M=i[S++],K=M.tag,Z=i[S++],st=l[Z];if((K!==5&&K!==26&&K!==27||!br(M))&&(Gl(M,st)&&(m.push(fh(st)),Z++,Z>h&&(h=Z)),Z<l.length))for(M=M.child;M!==null;)i.push(M,Z),M=M.sibling}if(h<l.length){for(i=[];h<l.length;h++)i.push(fh(l[h]));return`findAllNodes was able to match part of the selector:
  `+(m.join(" > ")+`

No matching component was found for:
  `)+i.join(" > ")}return null},Qt.getPublicRootInstance=function(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 27:case 5:return yr(i.child.stateNode);default:return i.child.stateNode}},Qt.injectIntoDevTools=function(){var i={bundleType:0,version:Ch,rendererPackageName:zo,currentDispatcherRef:Vt,findFiberByHostInstance:t0,reconcilerVersion:"19.0.0"};if(vr!==null&&(i.rendererConfig=vr),typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")i=!1;else{var l=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(l.isDisabled||!l.supportsFiber)i=!0;else{try{sn=l.inject(i),pi=l}catch{}i=!!l.checkDCE}}return i},Qt.isAlreadyRendering=function(){return!1},Qt.observeVisibleRects=function(i,l,h,m){if(!kl)throw Error(c(363));i=Co(i,l);var S=s0(i,h,m).disconnect;return{disconnect:function(){S()}}},Qt.shouldError=function(){return null},Qt.shouldSuspend=function(){return!1},Qt.startHostTransition=function(i,l,h,m){if(i.tag!==5)throw Error(c(476));var S=Ca(i).queue;Js(i,S,l,Fl,h===null?o:function(){var M=Ca(i).next.queue;return Nl(i,M,{},nn()),h(m)})},Qt.updateContainer=function(i,l,h,m){var S=l.current,M=nn();return dr(S,M,i,l,h,m),M},Qt.updateContainerSync=function(i,l,h,m){return l.tag===0&&ua(),dr(l.current,2,i,l,h,m),2},Qt},a.exports.default=a.exports,Object.defineProperty(a.exports,"__esModule",{value:!0})}(Ig)),Ig.exports}var F_;function i8(){return F_||(F_=1,Qg.exports=n8()),Qg.exports}var a8=i8();const l8=L2(a8);var Wg={exports:{}},Bs={};/**
 * @license React
 * react-reconciler-constants.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k_;function s8(){return k_||(k_=1,Bs.ConcurrentRoot=1,Bs.ContinuousEventPriority=8,Bs.DefaultEventPriority=32,Bs.DiscreteEventPriority=2,Bs.IdleEventPriority=268435456,Bs.LegacyRoot=0,Bs.NoEventPriority=0),Bs}var X_;function r8(){return X_||(X_=1,Wg.exports=s8()),Wg.exports}var H1=r8(),o8=ne();const K_={children:!0,ref:!0,key:!0,style:!0,forwardedRef:!0,unstable_applyCache:!0,unstable_applyDrawHitFromCache:!0};let P_=!1,Q_=!1;const J2=".react-konva-event",u8=`ReactKonva: You have a Konva node with draggable = true and position defined but no onDragMove or onDragEnd events are handled.
Position of a node will be changed during drag&drop, so you should update state of the react app as well.
Consider to add onDragMove or onDragEnd events.
For more info see: https://github.com/konvajs/react-konva/issues/256
`,c8=`ReactKonva: You are using "zIndex" attribute for a Konva node.
react-konva may get confused with ordering. Just define correct order of elements in your render function of a component.
For more info see: https://github.com/konvajs/react-konva/issues/194
`,h8={};function B1(a,e,s=h8){if(!P_&&"zIndex"in e&&(console.warn(c8),P_=!0),!Q_&&e.draggable){var o=e.x!==void 0||e.y!==void 0,c=e.onDragEnd||e.onDragMove;o&&!c&&(console.warn(u8),Q_=!0)}for(var f in s)if(!K_[f]){var d=f.slice(0,2)==="on",p=s[f]!==e[f];if(d&&p){var v=f.substr(2).toLowerCase();v.substr(0,7)==="content"&&(v="content"+v.substr(7,1).toUpperCase()+v.substr(8)),a.off(v,s[f])}var _=!e.hasOwnProperty(f);_&&a.setAttr(f,void 0)}var b=e._useStrictMode,T={},C=!1;const A={};for(var f in e)if(!K_[f]){var d=f.slice(0,2)==="on",E=s[f]!==e[f];if(d&&E){var v=f.substr(2).toLowerCase();v.substr(0,7)==="content"&&(v="content"+v.substr(7,1).toUpperCase()+v.substr(8)),e[f]&&(A[v]=e[f])}!d&&(e[f]!==s[f]||b&&e[f]!==a.getAttr(f))&&(C=!0,T[f]=e[f])}C&&(a.setAttrs(T),Ir(a));for(var v in A)a.on(v+J2,A[v])}function Ir(a){if(!o8.Konva.autoDrawEnabled){var e=a.getLayer()||a.getStage();e&&e.batchDraw()}}var $g={exports:{}},t2={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I_;function f8(){return I_||(I_=1,function(a){function e(D,L){var Q=D.length;D.push(L);t:for(;0<Q;){var et=Q-1>>>1,q=D[et];if(0<c(q,L))D[et]=L,D[Q]=q,Q=et;else break t}}function s(D){return D.length===0?null:D[0]}function o(D){if(D.length===0)return null;var L=D[0],Q=D.pop();if(Q!==L){D[0]=Q;t:for(var et=0,q=D.length,$=q>>>1;et<$;){var ft=2*(et+1)-1,nt=D[ft],ut=ft+1,yt=D[ut];if(0>c(nt,Q))ut<q&&0>c(yt,nt)?(D[et]=yt,D[ut]=Q,et=ut):(D[et]=nt,D[ft]=Q,et=ft);else if(ut<q&&0>c(yt,Q))D[et]=yt,D[ut]=Q,et=ut;else break t}}return L}function c(D,L){var Q=D.sortIndex-L.sortIndex;return Q!==0?Q:D.id-L.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;a.unstable_now=function(){return f.now()}}else{var d=Date,p=d.now();a.unstable_now=function(){return d.now()-p}}var v=[],_=[],b=1,T=null,C=3,A=!1,E=!1,O=!1,w=typeof setTimeout=="function"?setTimeout:null,H=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;function R(D){for(var L=s(_);L!==null;){if(L.callback===null)o(_);else if(L.startTime<=D)o(_),L.sortIndex=L.expirationTime,e(v,L);else break;L=s(_)}}function U(D){if(O=!1,R(D),!E)if(s(v)!==null)E=!0,V();else{var L=s(_);L!==null&&G(U,L.startTime-D)}}var B=!1,k=-1,J=5,X=-1;function F(){return!(a.unstable_now()-X<J)}function Y(){if(B){var D=a.unstable_now();X=D;var L=!0;try{t:{E=!1,O&&(O=!1,H(k),k=-1),A=!0;var Q=C;try{e:{for(R(D),T=s(v);T!==null&&!(T.expirationTime>D&&F());){var et=T.callback;if(typeof et=="function"){T.callback=null,C=T.priorityLevel;var q=et(T.expirationTime<=D);if(D=a.unstable_now(),typeof q=="function"){T.callback=q,R(D),L=!0;break e}T===s(v)&&o(v),R(D)}else o(v);T=s(v)}if(T!==null)L=!0;else{var $=s(_);$!==null&&G(U,$.startTime-D),L=!1}}break t}finally{T=null,C=Q,A=!1}L=void 0}}finally{L?P():B=!1}}}var P;if(typeof N=="function")P=function(){N(Y)};else if(typeof MessageChannel<"u"){var tt=new MessageChannel,x=tt.port2;tt.port1.onmessage=Y,P=function(){x.postMessage(null)}}else P=function(){w(Y,0)};function V(){B||(B=!0,P())}function G(D,L){k=w(function(){D(a.unstable_now())},L)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(D){D.callback=null},a.unstable_continueExecution=function(){E||A||(E=!0,V())},a.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):J=0<D?Math.floor(1e3/D):5},a.unstable_getCurrentPriorityLevel=function(){return C},a.unstable_getFirstCallbackNode=function(){return s(v)},a.unstable_next=function(D){switch(C){case 1:case 2:case 3:var L=3;break;default:L=C}var Q=C;C=L;try{return D()}finally{C=Q}},a.unstable_pauseExecution=function(){},a.unstable_requestPaint=function(){},a.unstable_runWithPriority=function(D,L){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var Q=C;C=D;try{return L()}finally{C=Q}},a.unstable_scheduleCallback=function(D,L,Q){var et=a.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?et+Q:et):Q=et,D){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=Q+q,D={id:b++,callback:L,priorityLevel:D,startTime:Q,expirationTime:q,sortIndex:-1},Q>et?(D.sortIndex=Q,e(_,D),s(v)===null&&D===s(_)&&(O?(H(k),k=-1):O=!0,G(U,Q-et))):(D.sortIndex=q,e(v,D),E||A||(E=!0,V())),D},a.unstable_shouldYield=F,a.unstable_wrapCallback=function(D){var L=C;return function(){var Q=C;C=L;try{return D.apply(this,arguments)}finally{C=Q}}}}(t2)),t2}var Z_;function d8(){return Z_||(Z_=1,$g.exports=f8()),$g.exports}var e2=d8();const dy={},g8={};f1.Node.prototype._applyProps=B1;let gy=H1.DefaultEventPriority;function m8(a,e){if(typeof e=="string"){console.error(`Do not use plain text as child of Konva.Node. You are using text: ${e}`);return}a.add(e),Ir(a)}function p8(a,e,s){let o=f1[a];o||(console.error(`Konva has no node with the type ${a}. Group will be used instead. If you use minimal version of react-konva, just import required nodes into Konva: "import "konva/lib/shapes/${a}"  If you want to render DOM elements as part of canvas tree take a look into this demo: https://konvajs.github.io/docs/react/DOM_Portal.html`),o=f1.Group);const c={},f={};for(var d in e){var p=d.slice(0,2)==="on";p?f[d]=e[d]:c[d]=e[d]}const v=new o(c);return B1(v,f),v}function _8(a,e,s){console.error(`Text components are not supported for now in ReactKonva. Your text is: "${a}"`)}function v8(a,e,s){return!1}function y8(a){return a}function S8(){return null}function b8(){return null}function E8(a,e,s,o){return g8}function C8(){}function T8(a){}function A8(a,e){return!1}function R8(){return dy}function N8(){return dy}const M8=setTimeout,D8=clearTimeout,O8=!0,x8=a=>{a()},w8=-1;function U8(a,e){return!1}const z8=!1,G8=!1,H8=!0,B8=!1,L8=!1;function q8(a,e){e.parent===a?e.moveToTop():a.add(e),Ir(a)}function V8(a,e){e.parent===a?e.moveToTop():a.add(e),Ir(a)}function my(a,e,s){e._remove(),a.add(e),e.setZIndex(s.getZIndex()),Ir(a)}function Y8(a,e,s){my(a,e,s)}function j8(a,e){e.destroy(),e.off(J2),Ir(a)}function F8(a,e){e.destroy(),e.off(J2),Ir(a)}function k8(a,e,s){console.error(`Text components are not yet supported in ReactKonva. You text is: "${s}"`)}function X8(a,e,s){}function K8(a,e,s,o){B1(a,o,s)}function P8(a){a.hide(),Ir(a)}function Q8(a){}function I8(a,e){(e.visible==null||e.visible)&&a.show()}function Z8(a,e){}function J8(a){}function W8(){}function $8(){return H1.DefaultEventPriority}function tS(){}function eS(){return null}function nS(a){gy=a}function iS(){return gy}function aS(){return H1.DiscreteEventPriority}function lS(){return!1}function sS(){}function rS(){return!1}function oS(){return!0}function uS(){}function cS(){}function hS(){return null}const fS=null;function dS(){}const gS=Object.freeze(Object.defineProperty({__proto__:null,NotPendingTransition:fS,appendChild:q8,appendChildToContainer:V8,appendInitialChild:m8,cancelTimeout:D8,clearContainer:J8,commitMount:X8,commitTextUpdate:k8,commitUpdate:K8,createInstance:p8,createTextInstance:_8,detachDeletedInstance:W8,finalizeInitialChildren:v8,getChildHostContext:N8,getCurrentEventPriority:$8,getCurrentUpdatePriority:iS,getInstanceFromScope:eS,getPublicInstance:y8,getRootHostContext:R8,hideInstance:P8,hideTextInstance:Q8,idlePriority:e2.unstable_IdlePriority,insertBefore:my,insertInContainerBefore:Y8,isPrimaryRenderer:z8,maySuspendCommit:rS,noTimeout:w8,now:e2.unstable_now,preloadInstance:oS,prepareForCommit:S8,preparePortalMount:b8,prepareScopeUpdate:tS,prepareUpdate:E8,removeChild:j8,removeChildFromContainer:F8,requestPostPaintCallback:sS,resetAfterCommit:C8,resetFormInstance:dS,resetTextContent:T8,resolveUpdatePriority:aS,run:e2.unstable_runWithPriority,scheduleMicrotask:x8,scheduleTimeout:M8,setCurrentUpdatePriority:nS,shouldAttemptEagerTransition:lS,shouldDeprioritizeSubtree:A8,shouldSetTextContent:U8,startSuspendingCommit:uS,supportsHydration:L8,supportsMicrotasks:O8,supportsMutation:H8,supportsPersistence:B8,suspendInstance:cS,unhideInstance:I8,unhideTextInstance:Z8,waitForCommitToBeReady:hS,warnsIfNotActing:G8},Symbol.toStringTag,{value:"Module"}));function py(a,e,s){if(!a)return;if(s(a)===!0)return a;let o=a.child;for(;o;){const c=py(o,e,s);if(c)return c;o=o.sibling}}function _y(a){try{return Object.defineProperties(a,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return a}}const W2=_y(pt.createContext(null));class vy extends pt.Component{render(){return pt.createElement(W2.Provider,{value:this._reactInternals},this.props.children)}}function mS(){const a=pt.useContext(W2);if(a===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=pt.useId();return pt.useMemo(()=>{for(const s of[a,a==null?void 0:a.alternate]){if(!s)continue;const o=py(s,!1,c=>{let f=c.memoizedState;for(;f;){if(f.memoizedState===e)return!0;f=f.next}});if(o)return o}},[a,e])}const pS=Symbol.for("react.context"),_S=a=>a!==null&&typeof a=="object"&&"$$typeof"in a&&a.$$typeof===pS;function vS(){const a=mS(),[e]=pt.useState(()=>new Map);e.clear();let s=a;for(;s;){const o=s.type;_S(o)&&o!==W2&&!e.has(o)&&e.set(o,pt.use(_y(o))),s=s.return}return e}function yS(){const a=vS();return pt.useMemo(()=>Array.from(a.keys()).reduce((e,s)=>o=>pt.createElement(e,null,pt.createElement(s.Provider,{...o,value:a.get(s)})),e=>pt.createElement(vy,{...e})),[a])}if(yi.version.indexOf("19")===-1)throw new Error("react-konva version 19 is only compatible with React 19. Make sure to have the last version of react-konva and react or downgrade react-konva to version 18.");function SS(a){const e=yi.useRef({});return yi.useLayoutEffect(()=>{e.current=a}),yi.useLayoutEffect(()=>()=>{e.current={}},[]),e.current}const bS=a=>{const e=yi.useRef(null),s=yi.useRef(null),o=yi.useRef(null),c=SS(a),f=yS(),d=p=>{const{forwardedRef:v}=a;v&&(typeof v=="function"?v(p):v.current=p)};return yi.useLayoutEffect(()=>(s.current=new f1.Stage({width:a.width,height:a.height,container:e.current}),d(s.current),o.current=$f.createContainer(s.current,H1.ConcurrentRoot,null,!1,null,"",console.error,console.error,console.error,null),$f.updateContainer(yi.createElement(f,{},a.children),o.current,null,()=>{}),()=>{d(null),$f.updateContainer(null,o.current,null),s.current.destroy()}),[]),yi.useLayoutEffect(()=>{d(s.current),B1(s.current,a,c),$f.updateContainer(yi.createElement(f,{},a.children),o.current,null)}),yi.createElement("div",{ref:e,id:a.id,accessKey:a.accessKey,className:a.className,role:a.role,style:a.style,tabIndex:a.tabIndex,title:a.title})},ES="Layer",CS="Rect",J_="Line",$f=l8(gS);$f.injectIntoDevTools({findHostInstanceByFiber:()=>null,bundleType:0,version:yi.version,rendererPackageName:"react-konva"});const TS=yi.forwardRef((a,e)=>yi.createElement(vy,{},yi.createElement(bS,{...a,forwardedRef:e}))),AS=()=>{};var W_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yy={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nt=function(a,e){if(!a)throw Mc(e)},Mc=function(a){return new Error("Firebase Database ("+yy.SDK_VERSION+") INTERNAL ASSERT FAILED: "+a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sy=function(a){const e=[];let s=0;for(let o=0;o<a.length;o++){let c=a.charCodeAt(o);c<128?e[s++]=c:c<2048?(e[s++]=c>>6|192,e[s++]=c&63|128):(c&64512)===55296&&o+1<a.length&&(a.charCodeAt(o+1)&64512)===56320?(c=65536+((c&1023)<<10)+(a.charCodeAt(++o)&1023),e[s++]=c>>18|240,e[s++]=c>>12&63|128,e[s++]=c>>6&63|128,e[s++]=c&63|128):(e[s++]=c>>12|224,e[s++]=c>>6&63|128,e[s++]=c&63|128)}return e},RS=function(a){const e=[];let s=0,o=0;for(;s<a.length;){const c=a[s++];if(c<128)e[o++]=String.fromCharCode(c);else if(c>191&&c<224){const f=a[s++];e[o++]=String.fromCharCode((c&31)<<6|f&63)}else if(c>239&&c<365){const f=a[s++],d=a[s++],p=a[s++],v=((c&7)<<18|(f&63)<<12|(d&63)<<6|p&63)-65536;e[o++]=String.fromCharCode(55296+(v>>10)),e[o++]=String.fromCharCode(56320+(v&1023))}else{const f=a[s++],d=a[s++];e[o++]=String.fromCharCode((c&15)<<12|(f&63)<<6|d&63)}}return e.join("")},$2={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,e){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const s=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,o=[];for(let c=0;c<a.length;c+=3){const f=a[c],d=c+1<a.length,p=d?a[c+1]:0,v=c+2<a.length,_=v?a[c+2]:0,b=f>>2,T=(f&3)<<4|p>>4;let C=(p&15)<<2|_>>6,A=_&63;v||(A=64,d||(C=64)),o.push(s[b],s[T],s[C],s[A])}return o.join("")},encodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(a):this.encodeByteArray(Sy(a),e)},decodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(a):RS(this.decodeStringToByteArray(a,e))},decodeStringToByteArray(a,e){this.init_();const s=e?this.charToByteMapWebSafe_:this.charToByteMap_,o=[];for(let c=0;c<a.length;){const f=s[a.charAt(c++)],p=c<a.length?s[a.charAt(c)]:0;++c;const _=c<a.length?s[a.charAt(c)]:64;++c;const T=c<a.length?s[a.charAt(c)]:64;if(++c,f==null||p==null||_==null||T==null)throw new NS;const C=f<<2|p>>4;if(o.push(C),_!==64){const A=p<<4&240|_>>2;if(o.push(A),T!==64){const E=_<<6&192|T;o.push(E)}}}return o},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class NS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const by=function(a){const e=Sy(a);return $2.encodeByteArray(e,!0)},d1=function(a){return by(a).replace(/\./g,"")},y2=function(a){try{return $2.decodeString(a,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MS(a){return Ey(void 0,a)}function Ey(a,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const s=e;return new Date(s.getTime());case Object:a===void 0&&(a={});break;case Array:a=[];break;default:return e}for(const s in e)!e.hasOwnProperty(s)||!DS(s)||(a[s]=Ey(a[s],e[s]));return a}function DS(a){return a!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xS=()=>OS().__FIREBASE_DEFAULTS__,wS=()=>{if(typeof process>"u"||typeof W_>"u")return;const a=W_.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},US=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=a&&y2(a[1]);return e&&JSON.parse(e)},Cy=()=>{try{return AS()||xS()||wS()||US()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},zS=a=>{var e,s;return(s=(e=Cy())===null||e===void 0?void 0:e.emulatorHosts)===null||s===void 0?void 0:s[a]},GS=a=>{const e=zS(a);if(!e)return;const s=e.lastIndexOf(":");if(s<=0||s+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const o=parseInt(e.substring(s+1),10);return e[0]==="["?[e.substring(1,s-1),o]:[e.substring(0,s),o]},Ty=()=>{var a;return(a=Cy())===null||a===void 0?void 0:a.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,s)=>{this.resolve=e,this.reject=s})}wrapCallback(e){return(s,o)=>{s?this.reject(s):this.resolve(o),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(s):e(s,o))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HS(a,e){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const s={alg:"none",type:"JWT"},o=e||"demo-project",c=a.iat||0,f=a.sub||a.user_id;if(!f)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${o}`,aud:o,iat:c,exp:c+3600,auth_time:c,sub:f,user_id:f,firebase:{sign_in_provider:"custom",identities:{}}},a);return[d1(JSON.stringify(s)),d1(JSON.stringify(d)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BS(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Ay(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(BS())}function LS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function qS(){return yy.NODE_ADMIN===!0}function VS(){try{return typeof indexedDB=="object"}catch{return!1}}function YS(){return new Promise((a,e)=>{try{let s=!0;const o="validate-browser-context-for-indexeddb-analytics-module",c=self.indexedDB.open(o);c.onsuccess=()=>{c.result.close(),s||self.indexedDB.deleteDatabase(o),a(!0)},c.onupgradeneeded=()=>{s=!1},c.onerror=()=>{var f;e(((f=c.error)===null||f===void 0?void 0:f.message)||"")}}catch(s){e(s)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jS="FirebaseError";class _d extends Error{constructor(e,s,o){super(s),this.code=e,this.customData=o,this.name=jS,Object.setPrototypeOf(this,_d.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ry.prototype.create)}}class Ry{constructor(e,s,o){this.service=e,this.serviceName=s,this.errors=o}create(e,...s){const o=s[0]||{},c=`${this.service}/${e}`,f=this.errors[e],d=f?FS(f,o):"Error",p=`${this.serviceName}: ${d} (${c}).`;return new _d(c,p,o)}}function FS(a,e){return a.replace(kS,(s,o)=>{const c=e[o];return c!=null?String(c):`<${o}?>`})}const kS=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sd(a){return JSON.parse(a)}function Qn(a){return JSON.stringify(a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ny=function(a){let e={},s={},o={},c="";try{const f=a.split(".");e=sd(y2(f[0])||""),s=sd(y2(f[1])||""),c=f[2],o=s.d||{},delete s.d}catch{}return{header:e,claims:s,data:o,signature:c}},XS=function(a){const e=Ny(a),s=e.claims;return!!s&&typeof s=="object"&&s.hasOwnProperty("iat")},KS=function(a){const e=Ny(a).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xs(a,e){return Object.prototype.hasOwnProperty.call(a,e)}function Ec(a,e){if(Object.prototype.hasOwnProperty.call(a,e))return a[e]}function $_(a){for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e))return!1;return!0}function g1(a,e,s){const o={};for(const c in a)Object.prototype.hasOwnProperty.call(a,c)&&(o[c]=e.call(s,a[c],c,a));return o}function m1(a,e){if(a===e)return!0;const s=Object.keys(a),o=Object.keys(e);for(const c of s){if(!o.includes(c))return!1;const f=a[c],d=e[c];if(tv(f)&&tv(d)){if(!m1(f,d))return!1}else if(f!==d)return!1}for(const c of o)if(!s.includes(c))return!1;return!0}function tv(a){return a!==null&&typeof a=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PS(a){const e=[];for(const[s,o]of Object.entries(a))Array.isArray(o)?o.forEach(c=>{e.push(encodeURIComponent(s)+"="+encodeURIComponent(c))}):e.push(encodeURIComponent(s)+"="+encodeURIComponent(o));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,s){s||(s=0);const o=this.W_;if(typeof e=="string")for(let T=0;T<16;T++)o[T]=e.charCodeAt(s)<<24|e.charCodeAt(s+1)<<16|e.charCodeAt(s+2)<<8|e.charCodeAt(s+3),s+=4;else for(let T=0;T<16;T++)o[T]=e[s]<<24|e[s+1]<<16|e[s+2]<<8|e[s+3],s+=4;for(let T=16;T<80;T++){const C=o[T-3]^o[T-8]^o[T-14]^o[T-16];o[T]=(C<<1|C>>>31)&4294967295}let c=this.chain_[0],f=this.chain_[1],d=this.chain_[2],p=this.chain_[3],v=this.chain_[4],_,b;for(let T=0;T<80;T++){T<40?T<20?(_=p^f&(d^p),b=1518500249):(_=f^d^p,b=1859775393):T<60?(_=f&d|p&(f|d),b=2400959708):(_=f^d^p,b=3395469782);const C=(c<<5|c>>>27)+_+v+b+o[T]&4294967295;v=p,p=d,d=(f<<30|f>>>2)&4294967295,f=c,c=C}this.chain_[0]=this.chain_[0]+c&4294967295,this.chain_[1]=this.chain_[1]+f&4294967295,this.chain_[2]=this.chain_[2]+d&4294967295,this.chain_[3]=this.chain_[3]+p&4294967295,this.chain_[4]=this.chain_[4]+v&4294967295}update(e,s){if(e==null)return;s===void 0&&(s=e.length);const o=s-this.blockSize;let c=0;const f=this.buf_;let d=this.inbuf_;for(;c<s;){if(d===0)for(;c<=o;)this.compress_(e,c),c+=this.blockSize;if(typeof e=="string"){for(;c<s;)if(f[d]=e.charCodeAt(c),++d,++c,d===this.blockSize){this.compress_(f),d=0;break}}else for(;c<s;)if(f[d]=e[c],++d,++c,d===this.blockSize){this.compress_(f),d=0;break}}this.inbuf_=d,this.total_+=s}digest(){const e=[];let s=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let c=this.blockSize-1;c>=56;c--)this.buf_[c]=s&255,s/=256;this.compress_(this.buf_);let o=0;for(let c=0;c<5;c++)for(let f=24;f>=0;f-=8)e[o]=this.chain_[c]>>f&255,++o;return e}}function tm(a,e){return`${a} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IS=function(a){const e=[];let s=0;for(let o=0;o<a.length;o++){let c=a.charCodeAt(o);if(c>=55296&&c<=56319){const f=c-55296;o++,Nt(o<a.length,"Surrogate pair missing trail surrogate.");const d=a.charCodeAt(o)-56320;c=65536+(f<<10)+d}c<128?e[s++]=c:c<2048?(e[s++]=c>>6|192,e[s++]=c&63|128):c<65536?(e[s++]=c>>12|224,e[s++]=c>>6&63|128,e[s++]=c&63|128):(e[s++]=c>>18|240,e[s++]=c>>12&63|128,e[s++]=c>>6&63|128,e[s++]=c&63|128)}return e},q1=function(a){let e=0;for(let s=0;s<a.length;s++){const o=a.charCodeAt(s);o<128?e++:o<2048?e+=2:o>=55296&&o<=56319?(e+=4,s++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vd(a){return a&&a._delegate?a._delegate:a}class rd{constructor(e,s,o){this.name=e,this.instanceFactory=s,this.type=o,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZS{constructor(e,s){this.name=e,this.container=s,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const s=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(s)){const o=new L1;if(this.instancesDeferred.set(s,o),this.isInitialized(s)||this.shouldAutoInitialize())try{const c=this.getOrInitializeService({instanceIdentifier:s});c&&o.resolve(c)}catch{}}return this.instancesDeferred.get(s).promise}getImmediate(e){var s;const o=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),c=(s=e==null?void 0:e.optional)!==null&&s!==void 0?s:!1;if(this.isInitialized(o)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:o})}catch(f){if(c)return null;throw f}else{if(c)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(WS(e))try{this.getOrInitializeService({instanceIdentifier:Zo})}catch{}for(const[s,o]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(s);try{const f=this.getOrInitializeService({instanceIdentifier:c});o.resolve(f)}catch{}}}}clearInstance(e=Zo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(s=>"INTERNAL"in s).map(s=>s.INTERNAL.delete()),...e.filter(s=>"_delete"in s).map(s=>s._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Zo){return this.instances.has(e)}getOptions(e=Zo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:s={}}=e,o=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(o))throw Error(`${this.name}(${o}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const c=this.getOrInitializeService({instanceIdentifier:o,options:s});for(const[f,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(f);o===p&&d.resolve(c)}return c}onInit(e,s){var o;const c=this.normalizeInstanceIdentifier(s),f=(o=this.onInitCallbacks.get(c))!==null&&o!==void 0?o:new Set;f.add(e),this.onInitCallbacks.set(c,f);const d=this.instances.get(c);return d&&e(d,c),()=>{f.delete(e)}}invokeOnInitCallbacks(e,s){const o=this.onInitCallbacks.get(s);if(o)for(const c of o)try{c(e,s)}catch{}}getOrInitializeService({instanceIdentifier:e,options:s={}}){let o=this.instances.get(e);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:JS(e),options:s}),this.instances.set(e,o),this.instancesOptions.set(e,s),this.invokeOnInitCallbacks(o,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,o)}catch{}return o||null}normalizeInstanceIdentifier(e=Zo){return this.component?this.component.multipleInstances?e:Zo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function JS(a){return a===Zo?void 0:a}function WS(a){return a.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $S{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const s=this.getProvider(e.name);if(s.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);s.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const s=new ZS(e,this);return this.providers.set(e,s),s}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var je;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(je||(je={}));const t9={debug:je.DEBUG,verbose:je.VERBOSE,info:je.INFO,warn:je.WARN,error:je.ERROR,silent:je.SILENT},e9=je.INFO,n9={[je.DEBUG]:"log",[je.VERBOSE]:"log",[je.INFO]:"info",[je.WARN]:"warn",[je.ERROR]:"error"},i9=(a,e,...s)=>{if(e<a.logLevel)return;const o=new Date().toISOString(),c=n9[e];if(c)console[c](`[${o}]  ${a.name}:`,...s);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class My{constructor(e){this.name=e,this._logLevel=e9,this._logHandler=i9,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in je))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?t9[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,je.DEBUG,...e),this._logHandler(this,je.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,je.VERBOSE,...e),this._logHandler(this,je.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,je.INFO,...e),this._logHandler(this,je.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,je.WARN,...e),this._logHandler(this,je.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,je.ERROR,...e),this._logHandler(this,je.ERROR,...e)}}const a9=(a,e)=>e.some(s=>a instanceof s);let ev,nv;function l9(){return ev||(ev=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function s9(){return nv||(nv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Dy=new WeakMap,S2=new WeakMap,Oy=new WeakMap,n2=new WeakMap,em=new WeakMap;function r9(a){const e=new Promise((s,o)=>{const c=()=>{a.removeEventListener("success",f),a.removeEventListener("error",d)},f=()=>{s(Fr(a.result)),c()},d=()=>{o(a.error),c()};a.addEventListener("success",f),a.addEventListener("error",d)});return e.then(s=>{s instanceof IDBCursor&&Dy.set(s,a)}).catch(()=>{}),em.set(e,a),e}function o9(a){if(S2.has(a))return;const e=new Promise((s,o)=>{const c=()=>{a.removeEventListener("complete",f),a.removeEventListener("error",d),a.removeEventListener("abort",d)},f=()=>{s(),c()},d=()=>{o(a.error||new DOMException("AbortError","AbortError")),c()};a.addEventListener("complete",f),a.addEventListener("error",d),a.addEventListener("abort",d)});S2.set(a,e)}let b2={get(a,e,s){if(a instanceof IDBTransaction){if(e==="done")return S2.get(a);if(e==="objectStoreNames")return a.objectStoreNames||Oy.get(a);if(e==="store")return s.objectStoreNames[1]?void 0:s.objectStore(s.objectStoreNames[0])}return Fr(a[e])},set(a,e,s){return a[e]=s,!0},has(a,e){return a instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in a}};function u9(a){b2=a(b2)}function c9(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...s){const o=a.call(i2(this),e,...s);return Oy.set(o,e.sort?e.sort():[e]),Fr(o)}:s9().includes(a)?function(...e){return a.apply(i2(this),e),Fr(Dy.get(this))}:function(...e){return Fr(a.apply(i2(this),e))}}function h9(a){return typeof a=="function"?c9(a):(a instanceof IDBTransaction&&o9(a),a9(a,l9())?new Proxy(a,b2):a)}function Fr(a){if(a instanceof IDBRequest)return r9(a);if(n2.has(a))return n2.get(a);const e=h9(a);return e!==a&&(n2.set(a,e),em.set(e,a)),e}const i2=a=>em.get(a);function f9(a,e,{blocked:s,upgrade:o,blocking:c,terminated:f}={}){const d=indexedDB.open(a,e),p=Fr(d);return o&&d.addEventListener("upgradeneeded",v=>{o(Fr(d.result),v.oldVersion,v.newVersion,Fr(d.transaction),v)}),s&&d.addEventListener("blocked",v=>s(v.oldVersion,v.newVersion,v)),p.then(v=>{f&&v.addEventListener("close",()=>f()),c&&v.addEventListener("versionchange",_=>c(_.oldVersion,_.newVersion,_))}).catch(()=>{}),p}const d9=["get","getKey","getAll","getAllKeys","count"],g9=["put","add","delete","clear"],a2=new Map;function iv(a,e){if(!(a instanceof IDBDatabase&&!(e in a)&&typeof e=="string"))return;if(a2.get(e))return a2.get(e);const s=e.replace(/FromIndex$/,""),o=e!==s,c=g9.includes(s);if(!(s in(o?IDBIndex:IDBObjectStore).prototype)||!(c||d9.includes(s)))return;const f=async function(d,...p){const v=this.transaction(d,c?"readwrite":"readonly");let _=v.store;return o&&(_=_.index(p.shift())),(await Promise.all([_[s](...p),c&&v.done]))[0]};return a2.set(e,f),f}u9(a=>({...a,get:(e,s,o)=>iv(e,s)||a.get(e,s,o),has:(e,s)=>!!iv(e,s)||a.has(e,s)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m9{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(s=>{if(p9(s)){const o=s.getImmediate();return`${o.library}/${o.version}`}else return null}).filter(s=>s).join(" ")}}function p9(a){const e=a.getComponent();return(e==null?void 0:e.type)==="VERSION"}const E2="@firebase/app",av="0.11.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const js=new My("@firebase/app"),_9="@firebase/app-compat",v9="@firebase/analytics-compat",y9="@firebase/analytics",S9="@firebase/app-check-compat",b9="@firebase/app-check",E9="@firebase/auth",C9="@firebase/auth-compat",T9="@firebase/database",A9="@firebase/data-connect",R9="@firebase/database-compat",N9="@firebase/functions",M9="@firebase/functions-compat",D9="@firebase/installations",O9="@firebase/installations-compat",x9="@firebase/messaging",w9="@firebase/messaging-compat",U9="@firebase/performance",z9="@firebase/performance-compat",G9="@firebase/remote-config",H9="@firebase/remote-config-compat",B9="@firebase/storage",L9="@firebase/storage-compat",q9="@firebase/firestore",V9="@firebase/vertexai",Y9="@firebase/firestore-compat",j9="firebase",F9="11.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C2="[DEFAULT]",k9={[E2]:"fire-core",[_9]:"fire-core-compat",[y9]:"fire-analytics",[v9]:"fire-analytics-compat",[b9]:"fire-app-check",[S9]:"fire-app-check-compat",[E9]:"fire-auth",[C9]:"fire-auth-compat",[T9]:"fire-rtdb",[A9]:"fire-data-connect",[R9]:"fire-rtdb-compat",[N9]:"fire-fn",[M9]:"fire-fn-compat",[D9]:"fire-iid",[O9]:"fire-iid-compat",[x9]:"fire-fcm",[w9]:"fire-fcm-compat",[U9]:"fire-perf",[z9]:"fire-perf-compat",[G9]:"fire-rc",[H9]:"fire-rc-compat",[B9]:"fire-gcs",[L9]:"fire-gcs-compat",[q9]:"fire-fst",[Y9]:"fire-fst-compat",[V9]:"fire-vertex","fire-js":"fire-js",[j9]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p1=new Map,X9=new Map,T2=new Map;function lv(a,e){try{a.container.addComponent(e)}catch(s){js.debug(`Component ${e.name} failed to register with FirebaseApp ${a.name}`,s)}}function _1(a){const e=a.name;if(T2.has(e))return js.debug(`There were multiple attempts to register component ${e}.`),!1;T2.set(e,a);for(const s of p1.values())lv(s,a);for(const s of X9.values())lv(s,a);return!0}function K9(a,e){const s=a.container.getProvider("heartbeat").getImmediate({optional:!0});return s&&s.triggerHeartbeat(),a.container.getProvider(e)}function P9(a){return a==null?!1:a.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q9={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},kr=new Ry("app","Firebase",Q9);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I9{constructor(e,s,o){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},s),this._name=s.name,this._automaticDataCollectionEnabled=s.automaticDataCollectionEnabled,this._container=o,this.container.addComponent(new rd("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw kr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z9=F9;function xy(a,e={}){let s=a;typeof e!="object"&&(e={name:e});const o=Object.assign({name:C2,automaticDataCollectionEnabled:!1},e),c=o.name;if(typeof c!="string"||!c)throw kr.create("bad-app-name",{appName:String(c)});if(s||(s=Ty()),!s)throw kr.create("no-options");const f=p1.get(c);if(f){if(m1(s,f.options)&&m1(o,f.config))return f;throw kr.create("duplicate-app",{appName:c})}const d=new $S(c);for(const v of T2.values())d.addComponent(v);const p=new I9(s,o,d);return p1.set(c,p),p}function J9(a=C2){const e=p1.get(a);if(!e&&a===C2&&Ty())return xy();if(!e)throw kr.create("no-app",{appName:a});return e}function vc(a,e,s){var o;let c=(o=k9[a])!==null&&o!==void 0?o:a;s&&(c+=`-${s}`);const f=c.match(/\s|\//),d=e.match(/\s|\//);if(f||d){const p=[`Unable to register library "${c}" with version "${e}":`];f&&p.push(`library name "${c}" contains illegal characters (whitespace or "/")`),f&&d&&p.push("and"),d&&p.push(`version name "${e}" contains illegal characters (whitespace or "/")`),js.warn(p.join(" "));return}_1(new rd(`${c}-version`,()=>({library:c,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W9="firebase-heartbeat-database",$9=1,od="firebase-heartbeat-store";let l2=null;function wy(){return l2||(l2=f9(W9,$9,{upgrade:(a,e)=>{switch(e){case 0:try{a.createObjectStore(od)}catch(s){console.warn(s)}}}}).catch(a=>{throw kr.create("idb-open",{originalErrorMessage:a.message})})),l2}async function t7(a){try{const s=(await wy()).transaction(od),o=await s.objectStore(od).get(Uy(a));return await s.done,o}catch(e){if(e instanceof _d)js.warn(e.message);else{const s=kr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});js.warn(s.message)}}}async function sv(a,e){try{const o=(await wy()).transaction(od,"readwrite");await o.objectStore(od).put(e,Uy(a)),await o.done}catch(s){if(s instanceof _d)js.warn(s.message);else{const o=kr.create("idb-set",{originalErrorMessage:s==null?void 0:s.message});js.warn(o.message)}}}function Uy(a){return`${a.name}!${a.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e7=1024,n7=30;class i7{constructor(e){this.container=e,this._heartbeatsCache=null;const s=this.container.getProvider("app").getImmediate();this._storage=new l7(s),this._heartbeatsCachePromise=this._storage.read().then(o=>(this._heartbeatsCache=o,o))}async triggerHeartbeat(){var e,s;try{const c=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),f=rv();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((s=this._heartbeatsCache)===null||s===void 0?void 0:s.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===f||this._heartbeatsCache.heartbeats.some(d=>d.date===f))return;if(this._heartbeatsCache.heartbeats.push({date:f,agent:c}),this._heartbeatsCache.heartbeats.length>n7){const d=s7(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(o){js.warn(o)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const s=rv(),{heartbeatsToSend:o,unsentEntries:c}=a7(this._heartbeatsCache.heartbeats),f=d1(JSON.stringify({version:2,heartbeats:o}));return this._heartbeatsCache.lastSentHeartbeatDate=s,c.length>0?(this._heartbeatsCache.heartbeats=c,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),f}catch(s){return js.warn(s),""}}}function rv(){return new Date().toISOString().substring(0,10)}function a7(a,e=e7){const s=[];let o=a.slice();for(const c of a){const f=s.find(d=>d.agent===c.agent);if(f){if(f.dates.push(c.date),ov(s)>e){f.dates.pop();break}}else if(s.push({agent:c.agent,dates:[c.date]}),ov(s)>e){s.pop();break}o=o.slice(1)}return{heartbeatsToSend:s,unsentEntries:o}}class l7{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return VS()?YS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const s=await t7(this.app);return s!=null&&s.heartbeats?s:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var s;if(await this._canUseIndexedDBPromise){const c=await this.read();return sv(this.app,{lastSentHeartbeatDate:(s=e.lastSentHeartbeatDate)!==null&&s!==void 0?s:c.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var s;if(await this._canUseIndexedDBPromise){const c=await this.read();return sv(this.app,{lastSentHeartbeatDate:(s=e.lastSentHeartbeatDate)!==null&&s!==void 0?s:c.lastSentHeartbeatDate,heartbeats:[...c.heartbeats,...e.heartbeats]})}else return}}function ov(a){return d1(JSON.stringify({version:2,heartbeats:a})).length}function s7(a){if(a.length===0)return-1;let e=0,s=a[0].date;for(let o=1;o<a.length;o++)a[o].date<s&&(s=a[o].date,e=o);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r7(a){_1(new rd("platform-logger",e=>new m9(e),"PRIVATE")),_1(new rd("heartbeat",e=>new i7(e),"PRIVATE")),vc(E2,av,a),vc(E2,av,"esm2017"),vc("fire-js","")}r7("");var o7="firebase",u7="11.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vc(o7,u7,"app");var uv={};const cv="@firebase/database",hv="1.0.14";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zy="";function c7(a){zy=a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h7{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,s){s==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Qn(s))}get(e){const s=this.domStorage_.getItem(this.prefixedName_(e));return s==null?null:sd(s)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f7{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,s){s==null?delete this.cache_[e]:this.cache_[e]=s}get(e){return Xs(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gy=function(a){try{if(typeof window<"u"&&typeof window[a]<"u"){const e=window[a];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new h7(e)}}catch{}return new f7},Wo=Gy("localStorage"),d7=Gy("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yc=new My("@firebase/database"),g7=function(){let a=1;return function(){return a++}}(),Hy=function(a){const e=IS(a),s=new QS;s.update(e);const o=s.digest();return $2.encodeByteArray(o)},yd=function(...a){let e="";for(let s=0;s<a.length;s++){const o=a[s];Array.isArray(o)||o&&typeof o=="object"&&typeof o.length=="number"?e+=yd.apply(null,o):typeof o=="object"?e+=Qn(o):e+=o,e+=" "}return e};let td=null,fv=!0;const m7=function(a,e){Nt(!0,"Can't turn on custom loggers persistently."),yc.logLevel=je.VERBOSE,td=yc.log.bind(yc)},Si=function(...a){if(fv===!0&&(fv=!1,td===null&&d7.get("logging_enabled")===!0&&m7()),td){const e=yd.apply(null,a);td(e)}},Sd=function(a){return function(...e){Si(a,...e)}},A2=function(...a){const e="FIREBASE INTERNAL ERROR: "+yd(...a);yc.error(e)},Fs=function(...a){const e=`FIREBASE FATAL ERROR: ${yd(...a)}`;throw yc.error(e),new Error(e)},aa=function(...a){const e="FIREBASE WARNING: "+yd(...a);yc.warn(e)},p7=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&aa("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},By=function(a){return typeof a=="number"&&(a!==a||a===Number.POSITIVE_INFINITY||a===Number.NEGATIVE_INFINITY)},_7=function(a){if(document.readyState==="complete")a();else{let e=!1;const s=function(){if(!document.body){setTimeout(s,Math.floor(10));return}e||(e=!0,a())};document.addEventListener?(document.addEventListener("DOMContentLoaded",s,!1),window.addEventListener("load",s,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&s()}),window.attachEvent("onload",s))}},Cc="[MIN_NAME]",tu="[MAX_NAME]",Dc=function(a,e){if(a===e)return 0;if(a===Cc||e===tu)return-1;if(e===Cc||a===tu)return 1;{const s=dv(a),o=dv(e);return s!==null?o!==null?s-o===0?a.length-e.length:s-o:-1:o!==null?1:a<e?-1:1}},v7=function(a,e){return a===e?0:a<e?-1:1},If=function(a,e){if(e&&a in e)return e[a];throw new Error("Missing required key ("+a+") in object: "+Qn(e))},nm=function(a){if(typeof a!="object"||a===null)return Qn(a);const e=[];for(const o in a)e.push(o);e.sort();let s="{";for(let o=0;o<e.length;o++)o!==0&&(s+=","),s+=Qn(e[o]),s+=":",s+=nm(a[e[o]]);return s+="}",s},Ly=function(a,e){const s=a.length;if(s<=e)return[a];const o=[];for(let c=0;c<s;c+=e)c+e>s?o.push(a.substring(c,s)):o.push(a.substring(c,c+e));return o};function la(a,e){for(const s in a)a.hasOwnProperty(s)&&e(s,a[s])}const qy=function(a){Nt(!By(a),"Invalid JSON number");const e=11,s=52,o=(1<<e-1)-1;let c,f,d,p,v;a===0?(f=0,d=0,c=1/a===-1/0?1:0):(c=a<0,a=Math.abs(a),a>=Math.pow(2,1-o)?(p=Math.min(Math.floor(Math.log(a)/Math.LN2),o),f=p+o,d=Math.round(a*Math.pow(2,s-p)-Math.pow(2,s))):(f=0,d=Math.round(a/Math.pow(2,1-o-s))));const _=[];for(v=s;v;v-=1)_.push(d%2?1:0),d=Math.floor(d/2);for(v=e;v;v-=1)_.push(f%2?1:0),f=Math.floor(f/2);_.push(c?1:0),_.reverse();const b=_.join("");let T="";for(v=0;v<64;v+=8){let C=parseInt(b.substr(v,8),2).toString(16);C.length===1&&(C="0"+C),T=T+C}return T.toLowerCase()},y7=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},S7=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function b7(a,e){let s="Unknown Error";a==="too_big"?s="The data requested exceeds the maximum size that can be accessed with a single request.":a==="permission_denied"?s="Client doesn't have permission to access the desired data.":a==="unavailable"&&(s="The service is unavailable");const o=new Error(a+" at "+e._path.toString()+": "+s);return o.code=a.toUpperCase(),o}const E7=new RegExp("^-?(0*)\\d{1,10}$"),C7=-2147483648,T7=2147483647,dv=function(a){if(E7.test(a)){const e=Number(a);if(e>=C7&&e<=T7)return e}return null},Oc=function(a){try{a()}catch(e){setTimeout(()=>{const s=e.stack||"";throw aa("Exception was thrown by user callback.",s),e},Math.floor(0))}},A7=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},ed=function(a,e){const s=setTimeout(a,e);return typeof s=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(s):typeof s=="object"&&s.unref&&s.unref(),s};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R7{constructor(e,s){this.appCheckProvider=s,this.appName=e.name,P9(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=s==null?void 0:s.getImmediate({optional:!0}),this.appCheck||s==null||s.get().then(o=>this.appCheck=o)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((s,o)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(s,o):s(null)},0)})}addTokenChangeListener(e){var s;(s=this.appCheckProvider)===null||s===void 0||s.get().then(o=>o.addTokenListener(e))}notifyForInvalidToken(){aa(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N7{constructor(e,s,o){this.appName_=e,this.firebaseOptions_=s,this.authProvider_=o,this.auth_=null,this.auth_=o.getImmediate({optional:!0}),this.auth_||o.onInit(c=>this.auth_=c)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(s=>s&&s.code==="auth/token-not-initialized"?(Si("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(s)):new Promise((s,o)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(s,o):s(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(s=>s.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(s=>s.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',aa(e)}}class c1{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}c1.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const im="5",Vy="v",Yy="s",jy="r",Fy="f",ky=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Xy="ls",Ky="p",R2="ac",Py="websocket",Qy="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iy{constructor(e,s,o,c,f=!1,d="",p=!1,v=!1,_=null){this.secure=s,this.namespace=o,this.webSocketOnly=c,this.nodeAdmin=f,this.persistenceKey=d,this.includeNamespaceInQueryParams=p,this.isUsingEmulator=v,this.emulatorOptions=_,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Wo.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Wo.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",s=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${s}`}}function M7(a){return a.host!==a.internalHost||a.isCustomHost()||a.includeNamespaceInQueryParams}function Zy(a,e,s){Nt(typeof e=="string","typeof type must == string"),Nt(typeof s=="object","typeof params must == object");let o;if(e===Py)o=(a.secure?"wss://":"ws://")+a.internalHost+"/.ws?";else if(e===Qy)o=(a.secure?"https://":"http://")+a.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);M7(a)&&(s.ns=a.namespace);const c=[];return la(s,(f,d)=>{c.push(f+"="+d)}),o+c.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D7{constructor(){this.counters_={}}incrementCounter(e,s=1){Xs(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=s}get(){return MS(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s2={},r2={};function am(a){const e=a.toString();return s2[e]||(s2[e]=new D7),s2[e]}function O7(a,e){const s=a.toString();return r2[s]||(r2[s]=e()),r2[s]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x7{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,s){this.closeAfterResponse=e,this.onClose=s,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,s){for(this.pendingResponses[e]=s;this.pendingResponses[this.currentResponseNum];){const o=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let c=0;c<o.length;++c)o[c]&&Oc(()=>{this.onMessage_(o[c])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gv="start",w7="close",U7="pLPCommand",z7="pRTLPCB",Jy="id",Wy="pw",$y="ser",G7="cb",H7="seg",B7="ts",L7="d",q7="dframe",t3=1870,e3=30,V7=t3-e3,Y7=25e3,j7=3e4;class _c{constructor(e,s,o,c,f,d,p){this.connId=e,this.repoInfo=s,this.applicationId=o,this.appCheckToken=c,this.authToken=f,this.transportSessionId=d,this.lastSessionId=p,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Sd(e),this.stats_=am(s),this.urlFn=v=>(this.appCheckToken&&(v[R2]=this.appCheckToken),Zy(s,Qy,v))}open(e,s){this.curSegmentNum=0,this.onDisconnect_=s,this.myPacketOrderer=new x7(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(j7)),_7(()=>{if(this.isClosed_)return;this.scriptTagHolder=new lm((...f)=>{const[d,p,v,_,b]=f;if(this.incrementIncomingBytes_(f),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,d===gv)this.id=p,this.password=v;else if(d===w7)p?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(p,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+d)},(...f)=>{const[d,p]=f;this.incrementIncomingBytes_(f),this.myPacketOrderer.handleResponse(d,p)},()=>{this.onClosed_()},this.urlFn);const o={};o[gv]="t",o[$y]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(o[G7]=this.scriptTagHolder.uniqueCallbackIdentifier),o[Vy]=im,this.transportSessionId&&(o[Yy]=this.transportSessionId),this.lastSessionId&&(o[Xy]=this.lastSessionId),this.applicationId&&(o[Ky]=this.applicationId),this.appCheckToken&&(o[R2]=this.appCheckToken),typeof location<"u"&&location.hostname&&ky.test(location.hostname)&&(o[jy]=Fy);const c=this.urlFn(o);this.log_("Connecting via long-poll to "+c),this.scriptTagHolder.addTag(c,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){_c.forceAllow_=!0}static forceDisallow(){_c.forceDisallow_=!0}static isAvailable(){return _c.forceAllow_?!0:!_c.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!y7()&&!S7()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const s=Qn(e);this.bytesSent+=s.length,this.stats_.incrementCounter("bytes_sent",s.length);const o=by(s),c=Ly(o,V7);for(let f=0;f<c.length;f++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,c.length,c[f]),this.curSegmentNum++}addDisconnectPingFrame(e,s){this.myDisconnFrame=document.createElement("iframe");const o={};o[q7]="t",o[Jy]=e,o[Wy]=s,this.myDisconnFrame.src=this.urlFn(o),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const s=Qn(e).length;this.bytesReceived+=s,this.stats_.incrementCounter("bytes_received",s)}}class lm{constructor(e,s,o,c){this.onDisconnect=o,this.urlFn=c,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=g7(),window[U7+this.uniqueCallbackIdentifier]=e,window[z7+this.uniqueCallbackIdentifier]=s,this.myIFrame=lm.createIFrame_();let f="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(f='<script>document.domain="'+document.domain+'";<\/script>');const d="<html><body>"+f+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(d),this.myIFrame.doc.close()}catch(p){Si("frame writing exception"),p.stack&&Si(p.stack),Si(p)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Si("No IE domain setting required")}catch{const o=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+o+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,s){for(this.myID=e,this.myPW=s,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[Jy]=this.myID,e[Wy]=this.myPW,e[$y]=this.currentSerial;let s=this.urlFn(e),o="",c=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+e3+o.length<=t3;){const d=this.pendingSegs.shift();o=o+"&"+H7+c+"="+d.seg+"&"+B7+c+"="+d.ts+"&"+L7+c+"="+d.d,c++}return s=s+o,this.addLongPollTag_(s,this.currentSerial),!0}else return!1}enqueueSegment(e,s,o){this.pendingSegs.push({seg:e,ts:s,d:o}),this.alive&&this.newRequest_()}addLongPollTag_(e,s){this.outstandingRequests.add(s);const o=()=>{this.outstandingRequests.delete(s),this.newRequest_()},c=setTimeout(o,Math.floor(Y7)),f=()=>{clearTimeout(c),o()};this.addTag(e,f)}addTag(e,s){setTimeout(()=>{try{if(!this.sendNewPolls)return;const o=this.myIFrame.doc.createElement("script");o.type="text/javascript",o.async=!0,o.src=e,o.onload=o.onreadystatechange=function(){const c=o.readyState;(!c||c==="loaded"||c==="complete")&&(o.onload=o.onreadystatechange=null,o.parentNode&&o.parentNode.removeChild(o),s())},o.onerror=()=>{Si("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(o)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F7=16384,k7=45e3;let v1=null;typeof MozWebSocket<"u"?v1=MozWebSocket:typeof WebSocket<"u"&&(v1=WebSocket);class ml{constructor(e,s,o,c,f,d,p){this.connId=e,this.applicationId=o,this.appCheckToken=c,this.authToken=f,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Sd(this.connId),this.stats_=am(s),this.connURL=ml.connectionURL_(s,d,p,c,o),this.nodeAdmin=s.nodeAdmin}static connectionURL_(e,s,o,c,f){const d={};return d[Vy]=im,typeof location<"u"&&location.hostname&&ky.test(location.hostname)&&(d[jy]=Fy),s&&(d[Yy]=s),o&&(d[Xy]=o),c&&(d[R2]=c),f&&(d[Ky]=f),Zy(e,Py,d)}open(e,s){this.onDisconnect=s,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Wo.set("previous_websocket_failure",!0);try{let o;qS(),this.mySock=new v1(this.connURL,[],o)}catch(o){this.log_("Error instantiating WebSocket.");const c=o.message||o.data;c&&this.log_(c),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=o=>{this.handleIncomingFrame(o)},this.mySock.onerror=o=>{this.log_("WebSocket error.  Closing connection.");const c=o.message||o.data;c&&this.log_(c),this.onClosed_()}}start(){}static forceDisallow(){ml.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const s=/Android ([0-9]{0,}\.[0-9]{0,})/,o=navigator.userAgent.match(s);o&&o.length>1&&parseFloat(o[1])<4.4&&(e=!0)}return!e&&v1!==null&&!ml.forceDisallow_}static previouslyFailed(){return Wo.isInMemoryStorage||Wo.get("previous_websocket_failure")===!0}markConnectionHealthy(){Wo.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const s=this.frames.join("");this.frames=null;const o=sd(s);this.onMessage(o)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(Nt(this.frames===null,"We already have a frame buffer"),e.length<=6){const s=Number(e);if(!isNaN(s))return this.handleNewFrameCount_(s),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const s=e.data;if(this.bytesReceived+=s.length,this.stats_.incrementCounter("bytes_received",s.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(s);else{const o=this.extractFrameCount_(s);o!==null&&this.appendFrame_(o)}}send(e){this.resetKeepAlive();const s=Qn(e);this.bytesSent+=s.length,this.stats_.incrementCounter("bytes_sent",s.length);const o=Ly(s,F7);o.length>1&&this.sendString_(String(o.length));for(let c=0;c<o.length;c++)this.sendString_(o[c])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(k7))}sendString_(e){try{this.mySock.send(e)}catch(s){this.log_("Exception thrown from WebSocket.send():",s.message||s.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}ml.responsesRequiredToBeHealthy=2;ml.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ud{static get ALL_TRANSPORTS(){return[_c,ml]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const s=ml&&ml.isAvailable();let o=s&&!ml.previouslyFailed();if(e.webSocketOnly&&(s||aa("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[ml];else{const c=this.transports_=[];for(const f of ud.ALL_TRANSPORTS)f&&f.isAvailable()&&c.push(f);ud.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}ud.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X7=6e4,K7=5e3,P7=10*1024,Q7=100*1024,o2="t",mv="d",I7="s",pv="r",Z7="e",_v="o",vv="a",yv="n",Sv="p",J7="h";class W7{constructor(e,s,o,c,f,d,p,v,_,b){this.id=e,this.repoInfo_=s,this.applicationId_=o,this.appCheckToken_=c,this.authToken_=f,this.onMessage_=d,this.onReady_=p,this.onDisconnect_=v,this.onKill_=_,this.lastSessionId=b,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Sd("c:"+this.id+":"),this.transportManager_=new ud(s),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const s=this.connReceiver_(this.conn_),o=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(s,o)},Math.floor(0));const c=e.healthyTimeout||0;c>0&&(this.healthyTimeout_=ed(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>Q7?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>P7?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(c)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return s=>{e===this.conn_?this.onConnectionLost_(s):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return s=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(s):e===this.secondaryConn_?this.onSecondaryMessageReceived_(s):this.log_("message on old connection"))}}sendRequest(e){const s={t:"d",d:e};this.sendData_(s)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(o2 in e){const s=e[o2];s===vv?this.upgradeIfSecondaryHealthy_():s===pv?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):s===_v&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const s=If("t",e),o=If("d",e);if(s==="c")this.onSecondaryControl_(o);else if(s==="d")this.pendingDataMessages.push(o);else throw new Error("Unknown protocol layer: "+s)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Sv,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:vv,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:yv,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const s=If("t",e),o=If("d",e);s==="c"?this.onControl_(o):s==="d"&&this.onDataMessage_(o)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const s=If(o2,e);if(mv in e){const o=e[mv];if(s===J7){const c=Object.assign({},o);this.repoInfo_.isUsingEmulator&&(c.h=this.repoInfo_.host),this.onHandshake_(c)}else if(s===yv){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let c=0;c<this.pendingDataMessages.length;++c)this.onDataMessage_(this.pendingDataMessages[c]);this.pendingDataMessages=[],this.tryCleanupConnection()}else s===I7?this.onConnectionShutdown_(o):s===pv?this.onReset_(o):s===Z7?A2("Server Error: "+o):s===_v?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):A2("Unknown control packet command: "+s)}}onHandshake_(e){const s=e.ts,o=e.v,c=e.h;this.sessionId=e.s,this.repoInfo_.host=c,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,s),im!==o&&aa("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const s=this.connReceiver_(this.secondaryConn_),o=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(s,o),ed(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(X7))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,s){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(s,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):ed(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(K7))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Sv,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Wo.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n3{put(e,s,o,c){}merge(e,s,o,c){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,s,o){}onDisconnectMerge(e,s,o){}onDisconnectCancel(e,s){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i3{constructor(e){this.allowedEvents_=e,this.listeners_={},Nt(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...s){if(Array.isArray(this.listeners_[e])){const o=[...this.listeners_[e]];for(let c=0;c<o.length;c++)o[c].callback.apply(o[c].context,s)}}on(e,s,o){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:s,context:o});const c=this.getInitialEvent(e);c&&s.apply(o,c)}off(e,s,o){this.validateEventType_(e);const c=this.listeners_[e]||[];for(let f=0;f<c.length;f++)if(c[f].callback===s&&(!o||o===c[f].context)){c.splice(f,1);return}}validateEventType_(e){Nt(this.allowedEvents_.find(s=>s===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1 extends i3{static getInstance(){return new y1}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Ay()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return Nt(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bv=32,Ev=768;class He{constructor(e,s){if(s===void 0){this.pieces_=e.split("/");let o=0;for(let c=0;c<this.pieces_.length;c++)this.pieces_[c].length>0&&(this.pieces_[o]=this.pieces_[c],o++);this.pieces_.length=o,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=s}toString(){let e="";for(let s=this.pieceNum_;s<this.pieces_.length;s++)this.pieces_[s]!==""&&(e+="/"+this.pieces_[s]);return e||"/"}}function Ee(){return new He("")}function le(a){return a.pieceNum_>=a.pieces_.length?null:a.pieces_[a.pieceNum_]}function Kr(a){return a.pieces_.length-a.pieceNum_}function Fe(a){let e=a.pieceNum_;return e<a.pieces_.length&&e++,new He(a.pieces_,e)}function a3(a){return a.pieceNum_<a.pieces_.length?a.pieces_[a.pieces_.length-1]:null}function $7(a){let e="";for(let s=a.pieceNum_;s<a.pieces_.length;s++)a.pieces_[s]!==""&&(e+="/"+encodeURIComponent(String(a.pieces_[s])));return e||"/"}function l3(a,e=0){return a.pieces_.slice(a.pieceNum_+e)}function s3(a){if(a.pieceNum_>=a.pieces_.length)return null;const e=[];for(let s=a.pieceNum_;s<a.pieces_.length-1;s++)e.push(a.pieces_[s]);return new He(e,0)}function Ln(a,e){const s=[];for(let o=a.pieceNum_;o<a.pieces_.length;o++)s.push(a.pieces_[o]);if(e instanceof He)for(let o=e.pieceNum_;o<e.pieces_.length;o++)s.push(e.pieces_[o]);else{const o=e.split("/");for(let c=0;c<o.length;c++)o[c].length>0&&s.push(o[c])}return new He(s,0)}function ue(a){return a.pieceNum_>=a.pieces_.length}function na(a,e){const s=le(a),o=le(e);if(s===null)return e;if(s===o)return na(Fe(a),Fe(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+a+")")}function sm(a,e){if(Kr(a)!==Kr(e))return!1;for(let s=a.pieceNum_,o=e.pieceNum_;s<=a.pieces_.length;s++,o++)if(a.pieces_[s]!==e.pieces_[o])return!1;return!0}function pl(a,e){let s=a.pieceNum_,o=e.pieceNum_;if(Kr(a)>Kr(e))return!1;for(;s<a.pieces_.length;){if(a.pieces_[s]!==e.pieces_[o])return!1;++s,++o}return!0}class tb{constructor(e,s){this.errorPrefix_=s,this.parts_=l3(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let o=0;o<this.parts_.length;o++)this.byteLength_+=q1(this.parts_[o]);r3(this)}}function eb(a,e){a.parts_.length>0&&(a.byteLength_+=1),a.parts_.push(e),a.byteLength_+=q1(e),r3(a)}function nb(a){const e=a.parts_.pop();a.byteLength_-=q1(e),a.parts_.length>0&&(a.byteLength_-=1)}function r3(a){if(a.byteLength_>Ev)throw new Error(a.errorPrefix_+"has a key path longer than "+Ev+" bytes ("+a.byteLength_+").");if(a.parts_.length>bv)throw new Error(a.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+bv+") or object contains a cycle "+Jo(a))}function Jo(a){return a.parts_.length===0?"":"in property '"+a.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rm extends i3{static getInstance(){return new rm}constructor(){super(["visible"]);let e,s;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(s="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(s="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(s="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(s="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,s&&document.addEventListener(s,()=>{const o=!document[e];o!==this.visible_&&(this.visible_=o,this.trigger("visible",o))},!1)}getInitialEvent(e){return Nt(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zf=1e3,ib=60*5*1e3,Cv=30*1e3,ab=1.3,lb=3e4,sb="server_kill",Tv=3;class Vs extends n3{constructor(e,s,o,c,f,d,p,v){if(super(),this.repoInfo_=e,this.applicationId_=s,this.onDataUpdate_=o,this.onConnectStatus_=c,this.onServerInfoUpdate_=f,this.authTokenProvider_=d,this.appCheckTokenProvider_=p,this.authOverride_=v,this.id=Vs.nextPersistentConnectionId_++,this.log_=Sd("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Zf,this.maxReconnectDelay_=ib,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,v)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");rm.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&y1.getInstance().on("online",this.onOnline_,this)}sendRequest(e,s,o){const c=++this.requestNumber_,f={r:c,a:e,b:s};this.log_(Qn(f)),Nt(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(f),o&&(this.requestCBHash_[c]=o)}get(e){this.initConnection_();const s=new L1,c={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:d=>{const p=d.d;d.s==="ok"?s.resolve(p):s.reject(p)}};this.outstandingGets_.push(c),this.outstandingGetCount_++;const f=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(f),s.promise}listen(e,s,o,c){this.initConnection_();const f=e._queryIdentifier,d=e._path.toString();this.log_("Listen called for "+d+" "+f),this.listens.has(d)||this.listens.set(d,new Map),Nt(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Nt(!this.listens.get(d).has(f),"listen() called twice for same path/queryId.");const p={onComplete:c,hashFn:s,query:e,tag:o};this.listens.get(d).set(f,p),this.connected_&&this.sendListen_(p)}sendGet_(e){const s=this.outstandingGets_[e];this.sendRequest("g",s.request,o=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),s.onComplete&&s.onComplete(o)})}sendListen_(e){const s=e.query,o=s._path.toString(),c=s._queryIdentifier;this.log_("Listen on "+o+" for "+c);const f={p:o},d="q";e.tag&&(f.q=s._queryObject,f.t=e.tag),f.h=e.hashFn(),this.sendRequest(d,f,p=>{const v=p.d,_=p.s;Vs.warnOnListenWarnings_(v,s),(this.listens.get(o)&&this.listens.get(o).get(c))===e&&(this.log_("listen response",p),_!=="ok"&&this.removeListen_(o,c),e.onComplete&&e.onComplete(_,v))})}static warnOnListenWarnings_(e,s){if(e&&typeof e=="object"&&Xs(e,"w")){const o=Ec(e,"w");if(Array.isArray(o)&&~o.indexOf("no_index")){const c='".indexOn": "'+s._queryParams.getIndex().toString()+'"',f=s._path.toString();aa(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${c} at ${f} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||KS(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Cv)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,s=XS(e)?"auth":"gauth",o={cred:e};this.authOverride_===null?o.noauth=!0:typeof this.authOverride_=="object"&&(o.authvar=this.authOverride_),this.sendRequest(s,o,c=>{const f=c.s,d=c.d||"error";this.authToken_===e&&(f==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(f,d))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const s=e.s,o=e.d||"error";s==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(s,o)})}unlisten(e,s){const o=e._path.toString(),c=e._queryIdentifier;this.log_("Unlisten called for "+o+" "+c),Nt(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(o,c)&&this.connected_&&this.sendUnlisten_(o,c,e._queryObject,s)}sendUnlisten_(e,s,o,c){this.log_("Unlisten on "+e+" for "+s);const f={p:e},d="n";c&&(f.q=o,f.t=c),this.sendRequest(d,f)}onDisconnectPut(e,s,o){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,s,o):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:s,onComplete:o})}onDisconnectMerge(e,s,o){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,s,o):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:s,onComplete:o})}onDisconnectCancel(e,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:s})}sendOnDisconnect_(e,s,o,c){const f={p:s,d:o};this.log_("onDisconnect "+e,f),this.sendRequest(e,f,d=>{c&&setTimeout(()=>{c(d.s,d.d)},Math.floor(0))})}put(e,s,o,c){this.putInternal("p",e,s,o,c)}merge(e,s,o,c){this.putInternal("m",e,s,o,c)}putInternal(e,s,o,c,f){this.initConnection_();const d={p:s,d:o};f!==void 0&&(d.h=f),this.outstandingPuts_.push({action:e,request:d,onComplete:c}),this.outstandingPutCount_++;const p=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(p):this.log_("Buffering put: "+s)}sendPut_(e){const s=this.outstandingPuts_[e].action,o=this.outstandingPuts_[e].request,c=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(s,o,f=>{this.log_(s+" response",f),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),c&&c(f.s,f.d)})}reportStats(e){if(this.connected_){const s={c:e};this.log_("reportStats",s),this.sendRequest("s",s,o=>{if(o.s!=="ok"){const f=o.d;this.log_("reportStats","Error sending stats: "+f)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Qn(e));const s=e.r,o=this.requestCBHash_[s];o&&(delete this.requestCBHash_[s],o(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,s){this.log_("handleServerMessage",e,s),e==="d"?this.onDataUpdate_(s.p,s.d,!1,s.t):e==="m"?this.onDataUpdate_(s.p,s.d,!0,s.t):e==="c"?this.onListenRevoked_(s.p,s.q):e==="ac"?this.onAuthRevoked_(s.s,s.d):e==="apc"?this.onAppCheckRevoked_(s.s,s.d):e==="sd"?this.onSecurityDebugPacket_(s):A2("Unrecognized action received from server: "+Qn(e)+`
Are you using the latest client?`)}onReady_(e,s){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=s,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){Nt(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Zf,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Zf,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>lb&&(this.reconnectDelay_=Zf),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let s=Math.max(0,this.reconnectDelay_-e);s=Math.random()*s,this.log_("Trying to reconnect in "+s+"ms"),this.scheduleConnect_(s),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*ab)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),s=this.onReady_.bind(this),o=this.onRealtimeDisconnect_.bind(this),c=this.id+":"+Vs.nextConnectionId_++,f=this.lastSessionId;let d=!1,p=null;const v=function(){p?p.close():(d=!0,o())},_=function(T){Nt(p,"sendRequest call when we're not connected not allowed."),p.sendRequest(T)};this.realtime_={close:v,sendRequest:_};const b=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[T,C]=await Promise.all([this.authTokenProvider_.getToken(b),this.appCheckTokenProvider_.getToken(b)]);d?Si("getToken() completed but was canceled"):(Si("getToken() completed. Creating connection."),this.authToken_=T&&T.accessToken,this.appCheckToken_=C&&C.token,p=new W7(c,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,s,o,A=>{aa(A+" ("+this.repoInfo_.toString()+")"),this.interrupt(sb)},f))}catch(T){this.log_("Failed to get token: "+T),d||(this.repoInfo_.nodeAdmin&&aa(T),v())}}}interrupt(e){Si("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Si("Resuming connection for reason: "+e),delete this.interruptReasons_[e],$_(this.interruptReasons_)&&(this.reconnectDelay_=Zf,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const s=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:s})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const s=this.outstandingPuts_[e];s&&"h"in s.request&&s.queued&&(s.onComplete&&s.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,s){let o;s?o=s.map(f=>nm(f)).join("$"):o="default";const c=this.removeListen_(e,o);c&&c.onComplete&&c.onComplete("permission_denied")}removeListen_(e,s){const o=new He(e).toString();let c;if(this.listens.has(o)){const f=this.listens.get(o);c=f.get(s),f.delete(s),f.size===0&&this.listens.delete(o)}else c=void 0;return c}onAuthRevoked_(e,s){Si("Auth token revoked: "+e+"/"+s),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Tv&&(this.reconnectDelay_=Cv,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,s){Si("App check token revoked: "+e+"/"+s),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Tv&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const s of e.values())this.sendListen_(s);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let s="js";e["sdk."+s+"."+zy.replace(/\./g,"-")]=1,Ay()?e["framework.cordova"]=1:LS()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=y1.getInstance().currentlyOnline();return $_(this.interruptReasons_)&&e}}Vs.nextPersistentConnectionId_=0;Vs.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(e,s){this.name=e,this.node=s}static Wrap(e,s){return new se(e,s)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V1{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,s){const o=new se(Cc,e),c=new se(Cc,s);return this.compare(o,c)!==0}minPost(){return se.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let a1;class o3 extends V1{static get __EMPTY_NODE(){return a1}static set __EMPTY_NODE(e){a1=e}compare(e,s){return Dc(e.name,s.name)}isDefinedOn(e){throw Mc("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,s){return!1}minPost(){return se.MIN}maxPost(){return new se(tu,a1)}makePost(e,s){return Nt(typeof e=="string","KeyIndex indexValue must always be a string."),new se(e,a1)}toString(){return".key"}}const Sc=new o3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{constructor(e,s,o,c,f=null){this.isReverse_=c,this.resultGenerator_=f,this.nodeStack_=[];let d=1;for(;!e.isEmpty();)if(e=e,d=s?o(e.key,s):1,c&&(d*=-1),d<0)this.isReverse_?e=e.left:e=e.right;else if(d===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),s;if(this.resultGenerator_?s=this.resultGenerator_(e.key,e.value):s={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return s}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Pn{constructor(e,s,o,c,f){this.key=e,this.value=s,this.color=o??Pn.RED,this.left=c??ia.EMPTY_NODE,this.right=f??ia.EMPTY_NODE}copy(e,s,o,c,f){return new Pn(e??this.key,s??this.value,o??this.color,c??this.left,f??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,s,o){let c=this;const f=o(e,c.key);return f<0?c=c.copy(null,null,null,c.left.insert(e,s,o),null):f===0?c=c.copy(null,s,null,null,null):c=c.copy(null,null,null,null,c.right.insert(e,s,o)),c.fixUp_()}removeMin_(){if(this.left.isEmpty())return ia.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,s){let o,c;if(o=this,s(e,o.key)<0)!o.left.isEmpty()&&!o.left.isRed_()&&!o.left.left.isRed_()&&(o=o.moveRedLeft_()),o=o.copy(null,null,null,o.left.remove(e,s),null);else{if(o.left.isRed_()&&(o=o.rotateRight_()),!o.right.isEmpty()&&!o.right.isRed_()&&!o.right.left.isRed_()&&(o=o.moveRedRight_()),s(e,o.key)===0){if(o.right.isEmpty())return ia.EMPTY_NODE;c=o.right.min_(),o=o.copy(c.key,c.value,null,null,o.right.removeMin_())}o=o.copy(null,null,null,null,o.right.remove(e,s))}return o.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Pn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Pn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),s=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,s)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Pn.RED=!0;Pn.BLACK=!1;class rb{copy(e,s,o,c,f){return this}insert(e,s,o){return new Pn(e,s,null)}remove(e,s){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class ia{constructor(e,s=ia.EMPTY_NODE){this.comparator_=e,this.root_=s}insert(e,s){return new ia(this.comparator_,this.root_.insert(e,s,this.comparator_).copy(null,null,Pn.BLACK,null,null))}remove(e){return new ia(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Pn.BLACK,null,null))}get(e){let s,o=this.root_;for(;!o.isEmpty();){if(s=this.comparator_(e,o.key),s===0)return o.value;s<0?o=o.left:s>0&&(o=o.right)}return null}getPredecessorKey(e){let s,o=this.root_,c=null;for(;!o.isEmpty();)if(s=this.comparator_(e,o.key),s===0){if(o.left.isEmpty())return c?c.key:null;for(o=o.left;!o.right.isEmpty();)o=o.right;return o.key}else s<0?o=o.left:s>0&&(c=o,o=o.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new l1(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,s){return new l1(this.root_,e,this.comparator_,!1,s)}getReverseIteratorFrom(e,s){return new l1(this.root_,e,this.comparator_,!0,s)}getReverseIterator(e){return new l1(this.root_,null,this.comparator_,!0,e)}}ia.EMPTY_NODE=new rb;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ob(a,e){return Dc(a.name,e.name)}function om(a,e){return Dc(a,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let N2;function ub(a){N2=a}const u3=function(a){return typeof a=="number"?"number:"+qy(a):"string:"+a},c3=function(a){if(a.isLeafNode()){const e=a.val();Nt(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Xs(e,".sv"),"Priority must be a string or number.")}else Nt(a===N2||a.isEmpty(),"priority of unexpected type.");Nt(a===N2||a.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Av;class Kn{static set __childrenNodeConstructor(e){Av=e}static get __childrenNodeConstructor(){return Av}constructor(e,s=Kn.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=s,this.lazyHash_=null,Nt(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),c3(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Kn(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Kn.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return ue(e)?this:le(e)===".priority"?this.priorityNode_:Kn.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,s){return null}updateImmediateChild(e,s){return e===".priority"?this.updatePriority(s):s.isEmpty()&&e!==".priority"?this:Kn.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,s).updatePriority(this.priorityNode_)}updateChild(e,s){const o=le(e);return o===null?s:s.isEmpty()&&o!==".priority"?this:(Nt(o!==".priority"||Kr(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(o,Kn.__childrenNodeConstructor.EMPTY_NODE.updateChild(Fe(e),s)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,s){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+u3(this.priorityNode_.val())+":");const s=typeof this.value_;e+=s+":",s==="number"?e+=qy(this.value_):e+=this.value_,this.lazyHash_=Hy(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Kn.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Kn.__childrenNodeConstructor?-1:(Nt(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const s=typeof e.value_,o=typeof this.value_,c=Kn.VALUE_TYPE_ORDER.indexOf(s),f=Kn.VALUE_TYPE_ORDER.indexOf(o);return Nt(c>=0,"Unknown leaf type: "+s),Nt(f>=0,"Unknown leaf type: "+o),c===f?o==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:f-c}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const s=e;return this.value_===s.value_&&this.priorityNode_.equals(s.priorityNode_)}else return!1}}Kn.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let h3,f3;function cb(a){h3=a}function hb(a){f3=a}class fb extends V1{compare(e,s){const o=e.node.getPriority(),c=s.node.getPriority(),f=o.compareTo(c);return f===0?Dc(e.name,s.name):f}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,s){return!e.getPriority().equals(s.getPriority())}minPost(){return se.MIN}maxPost(){return new se(tu,new Kn("[PRIORITY-POST]",f3))}makePost(e,s){const o=h3(e);return new se(s,new Kn("[PRIORITY-POST]",o))}toString(){return".priority"}}const gn=new fb;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const db=Math.log(2);class gb{constructor(e){const s=f=>parseInt(Math.log(f)/db,10),o=f=>parseInt(Array(f+1).join("1"),2);this.count=s(e+1),this.current_=this.count-1;const c=o(this.count);this.bits_=e+1&c}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const S1=function(a,e,s,o){a.sort(e);const c=function(v,_){const b=_-v;let T,C;if(b===0)return null;if(b===1)return T=a[v],C=s?s(T):T,new Pn(C,T.node,Pn.BLACK,null,null);{const A=parseInt(b/2,10)+v,E=c(v,A),O=c(A+1,_);return T=a[A],C=s?s(T):T,new Pn(C,T.node,Pn.BLACK,E,O)}},f=function(v){let _=null,b=null,T=a.length;const C=function(E,O){const w=T-E,H=T;T-=E;const N=c(w+1,H),R=a[w],U=s?s(R):R;A(new Pn(U,R.node,O,null,N))},A=function(E){_?(_.left=E,_=E):(b=E,_=E)};for(let E=0;E<v.count;++E){const O=v.nextBitIsOne(),w=Math.pow(2,v.count-(E+1));O?C(w,Pn.BLACK):(C(w,Pn.BLACK),C(w,Pn.RED))}return b},d=new gb(a.length),p=f(d);return new ia(o||e,p)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let u2;const mc={};class Ls{static get Default(){return Nt(mc&&gn,"ChildrenNode.ts has not been loaded"),u2=u2||new Ls({".priority":mc},{".priority":gn}),u2}constructor(e,s){this.indexes_=e,this.indexSet_=s}get(e){const s=Ec(this.indexes_,e);if(!s)throw new Error("No index defined for "+e);return s instanceof ia?s:null}hasIndex(e){return Xs(this.indexSet_,e.toString())}addIndex(e,s){Nt(e!==Sc,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const o=[];let c=!1;const f=s.getIterator(se.Wrap);let d=f.getNext();for(;d;)c=c||e.isDefinedOn(d.node),o.push(d),d=f.getNext();let p;c?p=S1(o,e.getCompare()):p=mc;const v=e.toString(),_=Object.assign({},this.indexSet_);_[v]=e;const b=Object.assign({},this.indexes_);return b[v]=p,new Ls(b,_)}addToIndexes(e,s){const o=g1(this.indexes_,(c,f)=>{const d=Ec(this.indexSet_,f);if(Nt(d,"Missing index implementation for "+f),c===mc)if(d.isDefinedOn(e.node)){const p=[],v=s.getIterator(se.Wrap);let _=v.getNext();for(;_;)_.name!==e.name&&p.push(_),_=v.getNext();return p.push(e),S1(p,d.getCompare())}else return mc;else{const p=s.get(e.name);let v=c;return p&&(v=v.remove(new se(e.name,p))),v.insert(e,e.node)}});return new Ls(o,this.indexSet_)}removeFromIndexes(e,s){const o=g1(this.indexes_,c=>{if(c===mc)return c;{const f=s.get(e.name);return f?c.remove(new se(e.name,f)):c}});return new Ls(o,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jf;class Ft{static get EMPTY_NODE(){return Jf||(Jf=new Ft(new ia(om),null,Ls.Default))}constructor(e,s,o){this.children_=e,this.priorityNode_=s,this.indexMap_=o,this.lazyHash_=null,this.priorityNode_&&c3(this.priorityNode_),this.children_.isEmpty()&&Nt(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Jf}updatePriority(e){return this.children_.isEmpty()?this:new Ft(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const s=this.children_.get(e);return s===null?Jf:s}}getChild(e){const s=le(e);return s===null?this:this.getImmediateChild(s).getChild(Fe(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,s){if(Nt(s,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(s);{const o=new se(e,s);let c,f;s.isEmpty()?(c=this.children_.remove(e),f=this.indexMap_.removeFromIndexes(o,this.children_)):(c=this.children_.insert(e,s),f=this.indexMap_.addToIndexes(o,this.children_));const d=c.isEmpty()?Jf:this.priorityNode_;return new Ft(c,d,f)}}updateChild(e,s){const o=le(e);if(o===null)return s;{Nt(le(e)!==".priority"||Kr(e)===1,".priority must be the last token in a path");const c=this.getImmediateChild(o).updateChild(Fe(e),s);return this.updateImmediateChild(o,c)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const s={};let o=0,c=0,f=!0;if(this.forEachChild(gn,(d,p)=>{s[d]=p.val(e),o++,f&&Ft.INTEGER_REGEXP_.test(d)?c=Math.max(c,Number(d)):f=!1}),!e&&f&&c<2*o){const d=[];for(const p in s)d[p]=s[p];return d}else return e&&!this.getPriority().isEmpty()&&(s[".priority"]=this.getPriority().val()),s}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+u3(this.getPriority().val())+":"),this.forEachChild(gn,(s,o)=>{const c=o.hash();c!==""&&(e+=":"+s+":"+c)}),this.lazyHash_=e===""?"":Hy(e)}return this.lazyHash_}getPredecessorChildName(e,s,o){const c=this.resolveIndex_(o);if(c){const f=c.getPredecessorKey(new se(e,s));return f?f.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const s=this.resolveIndex_(e);if(s){const o=s.minKey();return o&&o.name}else return this.children_.minKey()}getFirstChild(e){const s=this.getFirstChildName(e);return s?new se(s,this.children_.get(s)):null}getLastChildName(e){const s=this.resolveIndex_(e);if(s){const o=s.maxKey();return o&&o.name}else return this.children_.maxKey()}getLastChild(e){const s=this.getLastChildName(e);return s?new se(s,this.children_.get(s)):null}forEachChild(e,s){const o=this.resolveIndex_(e);return o?o.inorderTraversal(c=>s(c.name,c.node)):this.children_.inorderTraversal(s)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,s){const o=this.resolveIndex_(s);if(o)return o.getIteratorFrom(e,c=>c);{const c=this.children_.getIteratorFrom(e.name,se.Wrap);let f=c.peek();for(;f!=null&&s.compare(f,e)<0;)c.getNext(),f=c.peek();return c}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,s){const o=this.resolveIndex_(s);if(o)return o.getReverseIteratorFrom(e,c=>c);{const c=this.children_.getReverseIteratorFrom(e.name,se.Wrap);let f=c.peek();for(;f!=null&&s.compare(f,e)>0;)c.getNext(),f=c.peek();return c}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===bd?-1:0}withIndex(e){if(e===Sc||this.indexMap_.hasIndex(e))return this;{const s=this.indexMap_.addIndex(e,this.children_);return new Ft(this.children_,this.priorityNode_,s)}}isIndexed(e){return e===Sc||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const s=e;if(this.getPriority().equals(s.getPriority()))if(this.children_.count()===s.children_.count()){const o=this.getIterator(gn),c=s.getIterator(gn);let f=o.getNext(),d=c.getNext();for(;f&&d;){if(f.name!==d.name||!f.node.equals(d.node))return!1;f=o.getNext(),d=c.getNext()}return f===null&&d===null}else return!1;else return!1}}resolveIndex_(e){return e===Sc?null:this.indexMap_.get(e.toString())}}Ft.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class mb extends Ft{constructor(){super(new ia(om),Ft.EMPTY_NODE,Ls.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Ft.EMPTY_NODE}isEmpty(){return!1}}const bd=new mb;Object.defineProperties(se,{MIN:{value:new se(Cc,Ft.EMPTY_NODE)},MAX:{value:new se(tu,bd)}});o3.__EMPTY_NODE=Ft.EMPTY_NODE;Kn.__childrenNodeConstructor=Ft;ub(bd);hb(bd);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pb=!0;function oi(a,e=null){if(a===null)return Ft.EMPTY_NODE;if(typeof a=="object"&&".priority"in a&&(e=a[".priority"]),Nt(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof a=="object"&&".value"in a&&a[".value"]!==null&&(a=a[".value"]),typeof a!="object"||".sv"in a){const s=a;return new Kn(s,oi(e))}if(!(a instanceof Array)&&pb){const s=[];let o=!1;if(la(a,(d,p)=>{if(d.substring(0,1)!=="."){const v=oi(p);v.isEmpty()||(o=o||!v.getPriority().isEmpty(),s.push(new se(d,v)))}}),s.length===0)return Ft.EMPTY_NODE;const f=S1(s,ob,d=>d.name,om);if(o){const d=S1(s,gn.getCompare());return new Ft(f,oi(e),new Ls({".priority":d},{".priority":gn}))}else return new Ft(f,oi(e),Ls.Default)}else{let s=Ft.EMPTY_NODE;return la(a,(o,c)=>{if(Xs(a,o)&&o.substring(0,1)!=="."){const f=oi(c);(f.isLeafNode()||!f.isEmpty())&&(s=s.updateImmediateChild(o,f))}}),s.updatePriority(oi(e))}}cb(oi);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _b extends V1{constructor(e){super(),this.indexPath_=e,Nt(!ue(e)&&le(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,s){const o=this.extractChild(e.node),c=this.extractChild(s.node),f=o.compareTo(c);return f===0?Dc(e.name,s.name):f}makePost(e,s){const o=oi(e),c=Ft.EMPTY_NODE.updateChild(this.indexPath_,o);return new se(s,c)}maxPost(){const e=Ft.EMPTY_NODE.updateChild(this.indexPath_,bd);return new se(tu,e)}toString(){return l3(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vb extends V1{compare(e,s){const o=e.node.compareTo(s.node);return o===0?Dc(e.name,s.name):o}isDefinedOn(e){return!0}indexedValueChanged(e,s){return!e.equals(s)}minPost(){return se.MIN}maxPost(){return se.MAX}makePost(e,s){const o=oi(e);return new se(s,o)}toString(){return".value"}}const yb=new vb;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d3(a){return{type:"value",snapshotNode:a}}function Tc(a,e){return{type:"child_added",snapshotNode:e,childName:a}}function cd(a,e){return{type:"child_removed",snapshotNode:e,childName:a}}function hd(a,e,s){return{type:"child_changed",snapshotNode:e,childName:a,oldSnap:s}}function Sb(a,e){return{type:"child_moved",snapshotNode:e,childName:a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class um{constructor(e){this.index_=e}updateChild(e,s,o,c,f,d){Nt(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const p=e.getImmediateChild(s);return p.getChild(c).equals(o.getChild(c))&&p.isEmpty()===o.isEmpty()||(d!=null&&(o.isEmpty()?e.hasChild(s)?d.trackChildChange(cd(s,p)):Nt(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):p.isEmpty()?d.trackChildChange(Tc(s,o)):d.trackChildChange(hd(s,o,p))),e.isLeafNode()&&o.isEmpty())?e:e.updateImmediateChild(s,o).withIndex(this.index_)}updateFullNode(e,s,o){return o!=null&&(e.isLeafNode()||e.forEachChild(gn,(c,f)=>{s.hasChild(c)||o.trackChildChange(cd(c,f))}),s.isLeafNode()||s.forEachChild(gn,(c,f)=>{if(e.hasChild(c)){const d=e.getImmediateChild(c);d.equals(f)||o.trackChildChange(hd(c,f,d))}else o.trackChildChange(Tc(c,f))})),s.withIndex(this.index_)}updatePriority(e,s){return e.isEmpty()?Ft.EMPTY_NODE:e.updatePriority(s)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd{constructor(e){this.indexedFilter_=new um(e.getIndex()),this.index_=e.getIndex(),this.startPost_=fd.getStartPost_(e),this.endPost_=fd.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const s=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,o=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return s&&o}updateChild(e,s,o,c,f,d){return this.matches(new se(s,o))||(o=Ft.EMPTY_NODE),this.indexedFilter_.updateChild(e,s,o,c,f,d)}updateFullNode(e,s,o){s.isLeafNode()&&(s=Ft.EMPTY_NODE);let c=s.withIndex(this.index_);c=c.updatePriority(Ft.EMPTY_NODE);const f=this;return s.forEachChild(gn,(d,p)=>{f.matches(new se(d,p))||(c=c.updateImmediateChild(d,Ft.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,c,o)}updatePriority(e,s){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const s=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),s)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const s=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),s)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bb{constructor(e){this.withinDirectionalStart=s=>this.reverse_?this.withinEndPost(s):this.withinStartPost(s),this.withinDirectionalEnd=s=>this.reverse_?this.withinStartPost(s):this.withinEndPost(s),this.withinStartPost=s=>{const o=this.index_.compare(this.rangedFilter_.getStartPost(),s);return this.startIsInclusive_?o<=0:o<0},this.withinEndPost=s=>{const o=this.index_.compare(s,this.rangedFilter_.getEndPost());return this.endIsInclusive_?o<=0:o<0},this.rangedFilter_=new fd(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,s,o,c,f,d){return this.rangedFilter_.matches(new se(s,o))||(o=Ft.EMPTY_NODE),e.getImmediateChild(s).equals(o)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,s,o,c,f,d):this.fullLimitUpdateChild_(e,s,o,f,d)}updateFullNode(e,s,o){let c;if(s.isLeafNode()||s.isEmpty())c=Ft.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<s.numChildren()&&s.isIndexed(this.index_)){c=Ft.EMPTY_NODE.withIndex(this.index_);let f;this.reverse_?f=s.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):f=s.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let d=0;for(;f.hasNext()&&d<this.limit_;){const p=f.getNext();if(this.withinDirectionalStart(p))if(this.withinDirectionalEnd(p))c=c.updateImmediateChild(p.name,p.node),d++;else break;else continue}}else{c=s.withIndex(this.index_),c=c.updatePriority(Ft.EMPTY_NODE);let f;this.reverse_?f=c.getReverseIterator(this.index_):f=c.getIterator(this.index_);let d=0;for(;f.hasNext();){const p=f.getNext();d<this.limit_&&this.withinDirectionalStart(p)&&this.withinDirectionalEnd(p)?d++:c=c.updateImmediateChild(p.name,Ft.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,c,o)}updatePriority(e,s){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,s,o,c,f){let d;if(this.reverse_){const T=this.index_.getCompare();d=(C,A)=>T(A,C)}else d=this.index_.getCompare();const p=e;Nt(p.numChildren()===this.limit_,"");const v=new se(s,o),_=this.reverse_?p.getFirstChild(this.index_):p.getLastChild(this.index_),b=this.rangedFilter_.matches(v);if(p.hasChild(s)){const T=p.getImmediateChild(s);let C=c.getChildAfterChild(this.index_,_,this.reverse_);for(;C!=null&&(C.name===s||p.hasChild(C.name));)C=c.getChildAfterChild(this.index_,C,this.reverse_);const A=C==null?1:d(C,v);if(b&&!o.isEmpty()&&A>=0)return f!=null&&f.trackChildChange(hd(s,o,T)),p.updateImmediateChild(s,o);{f!=null&&f.trackChildChange(cd(s,T));const O=p.updateImmediateChild(s,Ft.EMPTY_NODE);return C!=null&&this.rangedFilter_.matches(C)?(f!=null&&f.trackChildChange(Tc(C.name,C.node)),O.updateImmediateChild(C.name,C.node)):O}}else return o.isEmpty()?e:b&&d(_,v)>=0?(f!=null&&(f.trackChildChange(cd(_.name,_.node)),f.trackChildChange(Tc(s,o))),p.updateImmediateChild(s,o).updateImmediateChild(_.name,Ft.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cm{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=gn}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return Nt(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return Nt(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Cc}hasEnd(){return this.endSet_}getIndexEndValue(){return Nt(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return Nt(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:tu}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return Nt(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===gn}copy(){const e=new cm;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function Eb(a){return a.loadsAllData()?new um(a.getIndex()):a.hasLimit()?new bb(a):new fd(a)}function Rv(a){const e={};if(a.isDefault())return e;let s;if(a.index_===gn?s="$priority":a.index_===yb?s="$value":a.index_===Sc?s="$key":(Nt(a.index_ instanceof _b,"Unrecognized index type!"),s=a.index_.toString()),e.orderBy=Qn(s),a.startSet_){const o=a.startAfterSet_?"startAfter":"startAt";e[o]=Qn(a.indexStartValue_),a.startNameSet_&&(e[o]+=","+Qn(a.indexStartName_))}if(a.endSet_){const o=a.endBeforeSet_?"endBefore":"endAt";e[o]=Qn(a.indexEndValue_),a.endNameSet_&&(e[o]+=","+Qn(a.indexEndName_))}return a.limitSet_&&(a.isViewFromLeft()?e.limitToFirst=a.limit_:e.limitToLast=a.limit_),e}function Nv(a){const e={};if(a.startSet_&&(e.sp=a.indexStartValue_,a.startNameSet_&&(e.sn=a.indexStartName_),e.sin=!a.startAfterSet_),a.endSet_&&(e.ep=a.indexEndValue_,a.endNameSet_&&(e.en=a.indexEndName_),e.ein=!a.endBeforeSet_),a.limitSet_){e.l=a.limit_;let s=a.viewFrom_;s===""&&(a.isViewFromLeft()?s="l":s="r"),e.vf=s}return a.index_!==gn&&(e.i=a.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b1 extends n3{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,s){return s!==void 0?"tag$"+s:(Nt(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,s,o,c){super(),this.repoInfo_=e,this.onDataUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=c,this.log_=Sd("p:rest:"),this.listens_={}}listen(e,s,o,c){const f=e._path.toString();this.log_("Listen called for "+f+" "+e._queryIdentifier);const d=b1.getListenId_(e,o),p={};this.listens_[d]=p;const v=Rv(e._queryParams);this.restRequest_(f+".json",v,(_,b)=>{let T=b;if(_===404&&(T=null,_=null),_===null&&this.onDataUpdate_(f,T,!1,o),Ec(this.listens_,d)===p){let C;_?_===401?C="permission_denied":C="rest_error:"+_:C="ok",c(C,null)}})}unlisten(e,s){const o=b1.getListenId_(e,s);delete this.listens_[o]}get(e){const s=Rv(e._queryParams),o=e._path.toString(),c=new L1;return this.restRequest_(o+".json",s,(f,d)=>{let p=d;f===404&&(p=null,f=null),f===null?(this.onDataUpdate_(o,p,!1,null),c.resolve(p)):c.reject(new Error(p))}),c.promise}refreshAuthToken(e){}restRequest_(e,s={},o){return s.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([c,f])=>{c&&c.accessToken&&(s.auth=c.accessToken),f&&f.token&&(s.ac=f.token);const d=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+PS(s);this.log_("Sending REST request for "+d);const p=new XMLHttpRequest;p.onreadystatechange=()=>{if(o&&p.readyState===4){this.log_("REST Response for "+d+" received. status:",p.status,"response:",p.responseText);let v=null;if(p.status>=200&&p.status<300){try{v=sd(p.responseText)}catch{aa("Failed to parse JSON response for "+d+": "+p.responseText)}o(null,v)}else p.status!==401&&p.status!==404&&aa("Got unsuccessful REST response for "+d+" Status: "+p.status),o(p.status);o=null}},p.open("GET",d,!0),p.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cb{constructor(){this.rootNode_=Ft.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,s){this.rootNode_=this.rootNode_.updateChild(e,s)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E1(){return{value:null,children:new Map}}function g3(a,e,s){if(ue(e))a.value=s,a.children.clear();else if(a.value!==null)a.value=a.value.updateChild(e,s);else{const o=le(e);a.children.has(o)||a.children.set(o,E1());const c=a.children.get(o);e=Fe(e),g3(c,e,s)}}function M2(a,e,s){a.value!==null?s(e,a.value):Tb(a,(o,c)=>{const f=new He(e.toString()+"/"+o);M2(c,f,s)})}function Tb(a,e){a.children.forEach((s,o)=>{e(o,s)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ab{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),s=Object.assign({},e);return this.last_&&la(this.last_,(o,c)=>{s[o]=s[o]-c}),this.last_=e,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mv=10*1e3,Rb=30*1e3,Nb=5*60*1e3;class Mb{constructor(e,s){this.server_=s,this.statsToReport_={},this.statsListener_=new Ab(e);const o=Mv+(Rb-Mv)*Math.random();ed(this.reportStats_.bind(this),Math.floor(o))}reportStats_(){const e=this.statsListener_.get(),s={};let o=!1;la(e,(c,f)=>{f>0&&Xs(this.statsToReport_,c)&&(s[c]=f,o=!0)}),o&&this.server_.reportStats(s),ed(this.reportStats_.bind(this),Math.floor(Math.random()*2*Nb))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _l;(function(a){a[a.OVERWRITE=0]="OVERWRITE",a[a.MERGE=1]="MERGE",a[a.ACK_USER_WRITE=2]="ACK_USER_WRITE",a[a.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(_l||(_l={}));function m3(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function hm(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function fm(a){return{fromUser:!1,fromServer:!0,queryId:a,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{constructor(e,s,o){this.path=e,this.affectedTree=s,this.revert=o,this.type=_l.ACK_USER_WRITE,this.source=m3()}operationForChild(e){if(ue(this.path)){if(this.affectedTree.value!=null)return Nt(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const s=this.affectedTree.subtree(new He(e));return new C1(Ee(),s,this.revert)}}else return Nt(le(this.path)===e,"operationForChild called for unrelated child."),new C1(Fe(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dd{constructor(e,s){this.source=e,this.path=s,this.type=_l.LISTEN_COMPLETE}operationForChild(e){return ue(this.path)?new dd(this.source,Ee()):new dd(this.source,Fe(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu{constructor(e,s,o){this.source=e,this.path=s,this.snap=o,this.type=_l.OVERWRITE}operationForChild(e){return ue(this.path)?new eu(this.source,Ee(),this.snap.getImmediateChild(e)):new eu(this.source,Fe(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gd{constructor(e,s,o){this.source=e,this.path=s,this.children=o,this.type=_l.MERGE}operationForChild(e){if(ue(this.path)){const s=this.children.subtree(new He(e));return s.isEmpty()?null:s.value?new eu(this.source,Ee(),s.value):new gd(this.source,Ee(),s)}else return Nt(le(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new gd(this.source,Fe(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu{constructor(e,s,o){this.node_=e,this.fullyInitialized_=s,this.filtered_=o}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(ue(e))return this.isFullyInitialized()&&!this.filtered_;const s=le(e);return this.isCompleteForChild(s)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Db{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function Ob(a,e,s,o){const c=[],f=[];return e.forEach(d=>{d.type==="child_changed"&&a.index_.indexedValueChanged(d.oldSnap,d.snapshotNode)&&f.push(Sb(d.childName,d.snapshotNode))}),Wf(a,c,"child_removed",e,o,s),Wf(a,c,"child_added",e,o,s),Wf(a,c,"child_moved",f,o,s),Wf(a,c,"child_changed",e,o,s),Wf(a,c,"value",e,o,s),c}function Wf(a,e,s,o,c,f){const d=o.filter(p=>p.type===s);d.sort((p,v)=>wb(a,p,v)),d.forEach(p=>{const v=xb(a,p,f);c.forEach(_=>{_.respondsTo(p.type)&&e.push(_.createEvent(v,a.query_))})})}function xb(a,e,s){return e.type==="value"||e.type==="child_removed"||(e.prevName=s.getPredecessorChildName(e.childName,e.snapshotNode,a.index_)),e}function wb(a,e,s){if(e.childName==null||s.childName==null)throw Mc("Should only compare child_ events.");const o=new se(e.childName,e.snapshotNode),c=new se(s.childName,s.snapshotNode);return a.index_.compare(o,c)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y1(a,e){return{eventCache:a,serverCache:e}}function nd(a,e,s,o){return Y1(new nu(e,s,o),a.serverCache)}function p3(a,e,s,o){return Y1(a.eventCache,new nu(e,s,o))}function D2(a){return a.eventCache.isFullyInitialized()?a.eventCache.getNode():null}function iu(a){return a.serverCache.isFullyInitialized()?a.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let c2;const Ub=()=>(c2||(c2=new ia(v7)),c2);class Ie{static fromObject(e){let s=new Ie(null);return la(e,(o,c)=>{s=s.set(new He(o),c)}),s}constructor(e,s=Ub()){this.value=e,this.children=s}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,s){if(this.value!=null&&s(this.value))return{path:Ee(),value:this.value};if(ue(e))return null;{const o=le(e),c=this.children.get(o);if(c!==null){const f=c.findRootMostMatchingPathAndValue(Fe(e),s);return f!=null?{path:Ln(new He(o),f.path),value:f.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(ue(e))return this;{const s=le(e),o=this.children.get(s);return o!==null?o.subtree(Fe(e)):new Ie(null)}}set(e,s){if(ue(e))return new Ie(s,this.children);{const o=le(e),f=(this.children.get(o)||new Ie(null)).set(Fe(e),s),d=this.children.insert(o,f);return new Ie(this.value,d)}}remove(e){if(ue(e))return this.children.isEmpty()?new Ie(null):new Ie(null,this.children);{const s=le(e),o=this.children.get(s);if(o){const c=o.remove(Fe(e));let f;return c.isEmpty()?f=this.children.remove(s):f=this.children.insert(s,c),this.value===null&&f.isEmpty()?new Ie(null):new Ie(this.value,f)}else return this}}get(e){if(ue(e))return this.value;{const s=le(e),o=this.children.get(s);return o?o.get(Fe(e)):null}}setTree(e,s){if(ue(e))return s;{const o=le(e),f=(this.children.get(o)||new Ie(null)).setTree(Fe(e),s);let d;return f.isEmpty()?d=this.children.remove(o):d=this.children.insert(o,f),new Ie(this.value,d)}}fold(e){return this.fold_(Ee(),e)}fold_(e,s){const o={};return this.children.inorderTraversal((c,f)=>{o[c]=f.fold_(Ln(e,c),s)}),s(e,this.value,o)}findOnPath(e,s){return this.findOnPath_(e,Ee(),s)}findOnPath_(e,s,o){const c=this.value?o(s,this.value):!1;if(c)return c;if(ue(e))return null;{const f=le(e),d=this.children.get(f);return d?d.findOnPath_(Fe(e),Ln(s,f),o):null}}foreachOnPath(e,s){return this.foreachOnPath_(e,Ee(),s)}foreachOnPath_(e,s,o){if(ue(e))return this;{this.value&&o(s,this.value);const c=le(e),f=this.children.get(c);return f?f.foreachOnPath_(Fe(e),Ln(s,c),o):new Ie(null)}}foreach(e){this.foreach_(Ee(),e)}foreach_(e,s){this.children.inorderTraversal((o,c)=>{c.foreach_(Ln(e,o),s)}),this.value&&s(e,this.value)}foreachChild(e){this.children.inorderTraversal((s,o)=>{o.value&&e(s,o.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl{constructor(e){this.writeTree_=e}static empty(){return new vl(new Ie(null))}}function id(a,e,s){if(ue(e))return new vl(new Ie(s));{const o=a.writeTree_.findRootMostValueAndPath(e);if(o!=null){const c=o.path;let f=o.value;const d=na(c,e);return f=f.updateChild(d,s),new vl(a.writeTree_.set(c,f))}else{const c=new Ie(s),f=a.writeTree_.setTree(e,c);return new vl(f)}}}function Dv(a,e,s){let o=a;return la(s,(c,f)=>{o=id(o,Ln(e,c),f)}),o}function Ov(a,e){if(ue(e))return vl.empty();{const s=a.writeTree_.setTree(e,new Ie(null));return new vl(s)}}function O2(a,e){return lu(a,e)!=null}function lu(a,e){const s=a.writeTree_.findRootMostValueAndPath(e);return s!=null?a.writeTree_.get(s.path).getChild(na(s.path,e)):null}function xv(a){const e=[],s=a.writeTree_.value;return s!=null?s.isLeafNode()||s.forEachChild(gn,(o,c)=>{e.push(new se(o,c))}):a.writeTree_.children.inorderTraversal((o,c)=>{c.value!=null&&e.push(new se(o,c.value))}),e}function Xr(a,e){if(ue(e))return a;{const s=lu(a,e);return s!=null?new vl(new Ie(s)):new vl(a.writeTree_.subtree(e))}}function x2(a){return a.writeTree_.isEmpty()}function Ac(a,e){return _3(Ee(),a.writeTree_,e)}function _3(a,e,s){if(e.value!=null)return s.updateChild(a,e.value);{let o=null;return e.children.inorderTraversal((c,f)=>{c===".priority"?(Nt(f.value!==null,"Priority writes must always be leaf nodes"),o=f.value):s=_3(Ln(a,c),f,s)}),!s.getChild(a).isEmpty()&&o!==null&&(s=s.updateChild(Ln(a,".priority"),o)),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dm(a,e){return b3(e,a)}function zb(a,e,s,o,c){Nt(o>a.lastWriteId,"Stacking an older write on top of newer ones"),c===void 0&&(c=!0),a.allWrites.push({path:e,snap:s,writeId:o,visible:c}),c&&(a.visibleWrites=id(a.visibleWrites,e,s)),a.lastWriteId=o}function Gb(a,e){for(let s=0;s<a.allWrites.length;s++){const o=a.allWrites[s];if(o.writeId===e)return o}return null}function Hb(a,e){const s=a.allWrites.findIndex(p=>p.writeId===e);Nt(s>=0,"removeWrite called with nonexistent writeId.");const o=a.allWrites[s];a.allWrites.splice(s,1);let c=o.visible,f=!1,d=a.allWrites.length-1;for(;c&&d>=0;){const p=a.allWrites[d];p.visible&&(d>=s&&Bb(p,o.path)?c=!1:pl(o.path,p.path)&&(f=!0)),d--}if(c){if(f)return Lb(a),!0;if(o.snap)a.visibleWrites=Ov(a.visibleWrites,o.path);else{const p=o.children;la(p,v=>{a.visibleWrites=Ov(a.visibleWrites,Ln(o.path,v))})}return!0}else return!1}function Bb(a,e){if(a.snap)return pl(a.path,e);for(const s in a.children)if(a.children.hasOwnProperty(s)&&pl(Ln(a.path,s),e))return!0;return!1}function Lb(a){a.visibleWrites=v3(a.allWrites,qb,Ee()),a.allWrites.length>0?a.lastWriteId=a.allWrites[a.allWrites.length-1].writeId:a.lastWriteId=-1}function qb(a){return a.visible}function v3(a,e,s){let o=vl.empty();for(let c=0;c<a.length;++c){const f=a[c];if(e(f)){const d=f.path;let p;if(f.snap)pl(s,d)?(p=na(s,d),o=id(o,p,f.snap)):pl(d,s)&&(p=na(d,s),o=id(o,Ee(),f.snap.getChild(p)));else if(f.children){if(pl(s,d))p=na(s,d),o=Dv(o,p,f.children);else if(pl(d,s))if(p=na(d,s),ue(p))o=Dv(o,Ee(),f.children);else{const v=Ec(f.children,le(p));if(v){const _=v.getChild(Fe(p));o=id(o,Ee(),_)}}}else throw Mc("WriteRecord should have .snap or .children")}}return o}function y3(a,e,s,o,c){if(!o&&!c){const f=lu(a.visibleWrites,e);if(f!=null)return f;{const d=Xr(a.visibleWrites,e);if(x2(d))return s;if(s==null&&!O2(d,Ee()))return null;{const p=s||Ft.EMPTY_NODE;return Ac(d,p)}}}else{const f=Xr(a.visibleWrites,e);if(!c&&x2(f))return s;if(!c&&s==null&&!O2(f,Ee()))return null;{const d=function(_){return(_.visible||c)&&(!o||!~o.indexOf(_.writeId))&&(pl(_.path,e)||pl(e,_.path))},p=v3(a.allWrites,d,e),v=s||Ft.EMPTY_NODE;return Ac(p,v)}}}function Vb(a,e,s){let o=Ft.EMPTY_NODE;const c=lu(a.visibleWrites,e);if(c)return c.isLeafNode()||c.forEachChild(gn,(f,d)=>{o=o.updateImmediateChild(f,d)}),o;if(s){const f=Xr(a.visibleWrites,e);return s.forEachChild(gn,(d,p)=>{const v=Ac(Xr(f,new He(d)),p);o=o.updateImmediateChild(d,v)}),xv(f).forEach(d=>{o=o.updateImmediateChild(d.name,d.node)}),o}else{const f=Xr(a.visibleWrites,e);return xv(f).forEach(d=>{o=o.updateImmediateChild(d.name,d.node)}),o}}function Yb(a,e,s,o,c){Nt(o||c,"Either existingEventSnap or existingServerSnap must exist");const f=Ln(e,s);if(O2(a.visibleWrites,f))return null;{const d=Xr(a.visibleWrites,f);return x2(d)?c.getChild(s):Ac(d,c.getChild(s))}}function jb(a,e,s,o){const c=Ln(e,s),f=lu(a.visibleWrites,c);if(f!=null)return f;if(o.isCompleteForChild(s)){const d=Xr(a.visibleWrites,c);return Ac(d,o.getNode().getImmediateChild(s))}else return null}function Fb(a,e){return lu(a.visibleWrites,e)}function kb(a,e,s,o,c,f,d){let p;const v=Xr(a.visibleWrites,e),_=lu(v,Ee());if(_!=null)p=_;else if(s!=null)p=Ac(v,s);else return[];if(p=p.withIndex(d),!p.isEmpty()&&!p.isLeafNode()){const b=[],T=d.getCompare(),C=f?p.getReverseIteratorFrom(o,d):p.getIteratorFrom(o,d);let A=C.getNext();for(;A&&b.length<c;)T(A,o)!==0&&b.push(A),A=C.getNext();return b}else return[]}function Xb(){return{visibleWrites:vl.empty(),allWrites:[],lastWriteId:-1}}function T1(a,e,s,o){return y3(a.writeTree,a.treePath,e,s,o)}function gm(a,e){return Vb(a.writeTree,a.treePath,e)}function wv(a,e,s,o){return Yb(a.writeTree,a.treePath,e,s,o)}function A1(a,e){return Fb(a.writeTree,Ln(a.treePath,e))}function Kb(a,e,s,o,c,f){return kb(a.writeTree,a.treePath,e,s,o,c,f)}function mm(a,e,s){return jb(a.writeTree,a.treePath,e,s)}function S3(a,e){return b3(Ln(a.treePath,e),a.writeTree)}function b3(a,e){return{treePath:a,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pb{constructor(){this.changeMap=new Map}trackChildChange(e){const s=e.type,o=e.childName;Nt(s==="child_added"||s==="child_changed"||s==="child_removed","Only child changes supported for tracking"),Nt(o!==".priority","Only non-priority child changes can be tracked.");const c=this.changeMap.get(o);if(c){const f=c.type;if(s==="child_added"&&f==="child_removed")this.changeMap.set(o,hd(o,e.snapshotNode,c.snapshotNode));else if(s==="child_removed"&&f==="child_added")this.changeMap.delete(o);else if(s==="child_removed"&&f==="child_changed")this.changeMap.set(o,cd(o,c.oldSnap));else if(s==="child_changed"&&f==="child_added")this.changeMap.set(o,Tc(o,e.snapshotNode));else if(s==="child_changed"&&f==="child_changed")this.changeMap.set(o,hd(o,e.snapshotNode,c.oldSnap));else throw Mc("Illegal combination of changes: "+e+" occurred after "+c)}else this.changeMap.set(o,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qb{getCompleteChild(e){return null}getChildAfterChild(e,s,o){return null}}const E3=new Qb;class pm{constructor(e,s,o=null){this.writes_=e,this.viewCache_=s,this.optCompleteServerCache_=o}getCompleteChild(e){const s=this.viewCache_.eventCache;if(s.isCompleteForChild(e))return s.getNode().getImmediateChild(e);{const o=this.optCompleteServerCache_!=null?new nu(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return mm(this.writes_,e,o)}}getChildAfterChild(e,s,o){const c=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:iu(this.viewCache_),f=Kb(this.writes_,c,s,1,o,e);return f.length===0?null:f[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ib(a){return{filter:a}}function Zb(a,e){Nt(e.eventCache.getNode().isIndexed(a.filter.getIndex()),"Event snap not indexed"),Nt(e.serverCache.getNode().isIndexed(a.filter.getIndex()),"Server snap not indexed")}function Jb(a,e,s,o,c){const f=new Pb;let d,p;if(s.type===_l.OVERWRITE){const _=s;_.source.fromUser?d=w2(a,e,_.path,_.snap,o,c,f):(Nt(_.source.fromServer,"Unknown source."),p=_.source.tagged||e.serverCache.isFiltered()&&!ue(_.path),d=R1(a,e,_.path,_.snap,o,c,p,f))}else if(s.type===_l.MERGE){const _=s;_.source.fromUser?d=$b(a,e,_.path,_.children,o,c,f):(Nt(_.source.fromServer,"Unknown source."),p=_.source.tagged||e.serverCache.isFiltered(),d=U2(a,e,_.path,_.children,o,c,p,f))}else if(s.type===_l.ACK_USER_WRITE){const _=s;_.revert?d=nE(a,e,_.path,o,c,f):d=tE(a,e,_.path,_.affectedTree,o,c,f)}else if(s.type===_l.LISTEN_COMPLETE)d=eE(a,e,s.path,o,f);else throw Mc("Unknown operation type: "+s.type);const v=f.getChanges();return Wb(e,d,v),{viewCache:d,changes:v}}function Wb(a,e,s){const o=e.eventCache;if(o.isFullyInitialized()){const c=o.getNode().isLeafNode()||o.getNode().isEmpty(),f=D2(a);(s.length>0||!a.eventCache.isFullyInitialized()||c&&!o.getNode().equals(f)||!o.getNode().getPriority().equals(f.getPriority()))&&s.push(d3(D2(e)))}}function C3(a,e,s,o,c,f){const d=e.eventCache;if(A1(o,s)!=null)return e;{let p,v;if(ue(s))if(Nt(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const _=iu(e),b=_ instanceof Ft?_:Ft.EMPTY_NODE,T=gm(o,b);p=a.filter.updateFullNode(e.eventCache.getNode(),T,f)}else{const _=T1(o,iu(e));p=a.filter.updateFullNode(e.eventCache.getNode(),_,f)}else{const _=le(s);if(_===".priority"){Nt(Kr(s)===1,"Can't have a priority with additional path components");const b=d.getNode();v=e.serverCache.getNode();const T=wv(o,s,b,v);T!=null?p=a.filter.updatePriority(b,T):p=d.getNode()}else{const b=Fe(s);let T;if(d.isCompleteForChild(_)){v=e.serverCache.getNode();const C=wv(o,s,d.getNode(),v);C!=null?T=d.getNode().getImmediateChild(_).updateChild(b,C):T=d.getNode().getImmediateChild(_)}else T=mm(o,_,e.serverCache);T!=null?p=a.filter.updateChild(d.getNode(),_,T,b,c,f):p=d.getNode()}}return nd(e,p,d.isFullyInitialized()||ue(s),a.filter.filtersNodes())}}function R1(a,e,s,o,c,f,d,p){const v=e.serverCache;let _;const b=d?a.filter:a.filter.getIndexedFilter();if(ue(s))_=b.updateFullNode(v.getNode(),o,null);else if(b.filtersNodes()&&!v.isFiltered()){const A=v.getNode().updateChild(s,o);_=b.updateFullNode(v.getNode(),A,null)}else{const A=le(s);if(!v.isCompleteForPath(s)&&Kr(s)>1)return e;const E=Fe(s),w=v.getNode().getImmediateChild(A).updateChild(E,o);A===".priority"?_=b.updatePriority(v.getNode(),w):_=b.updateChild(v.getNode(),A,w,E,E3,null)}const T=p3(e,_,v.isFullyInitialized()||ue(s),b.filtersNodes()),C=new pm(c,T,f);return C3(a,T,s,c,C,p)}function w2(a,e,s,o,c,f,d){const p=e.eventCache;let v,_;const b=new pm(c,e,f);if(ue(s))_=a.filter.updateFullNode(e.eventCache.getNode(),o,d),v=nd(e,_,!0,a.filter.filtersNodes());else{const T=le(s);if(T===".priority")_=a.filter.updatePriority(e.eventCache.getNode(),o),v=nd(e,_,p.isFullyInitialized(),p.isFiltered());else{const C=Fe(s),A=p.getNode().getImmediateChild(T);let E;if(ue(C))E=o;else{const O=b.getCompleteChild(T);O!=null?a3(C)===".priority"&&O.getChild(s3(C)).isEmpty()?E=O:E=O.updateChild(C,o):E=Ft.EMPTY_NODE}if(A.equals(E))v=e;else{const O=a.filter.updateChild(p.getNode(),T,E,C,b,d);v=nd(e,O,p.isFullyInitialized(),a.filter.filtersNodes())}}}return v}function Uv(a,e){return a.eventCache.isCompleteForChild(e)}function $b(a,e,s,o,c,f,d){let p=e;return o.foreach((v,_)=>{const b=Ln(s,v);Uv(e,le(b))&&(p=w2(a,p,b,_,c,f,d))}),o.foreach((v,_)=>{const b=Ln(s,v);Uv(e,le(b))||(p=w2(a,p,b,_,c,f,d))}),p}function zv(a,e,s){return s.foreach((o,c)=>{e=e.updateChild(o,c)}),e}function U2(a,e,s,o,c,f,d,p){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let v=e,_;ue(s)?_=o:_=new Ie(null).setTree(s,o);const b=e.serverCache.getNode();return _.children.inorderTraversal((T,C)=>{if(b.hasChild(T)){const A=e.serverCache.getNode().getImmediateChild(T),E=zv(a,A,C);v=R1(a,v,new He(T),E,c,f,d,p)}}),_.children.inorderTraversal((T,C)=>{const A=!e.serverCache.isCompleteForChild(T)&&C.value===null;if(!b.hasChild(T)&&!A){const E=e.serverCache.getNode().getImmediateChild(T),O=zv(a,E,C);v=R1(a,v,new He(T),O,c,f,d,p)}}),v}function tE(a,e,s,o,c,f,d){if(A1(c,s)!=null)return e;const p=e.serverCache.isFiltered(),v=e.serverCache;if(o.value!=null){if(ue(s)&&v.isFullyInitialized()||v.isCompleteForPath(s))return R1(a,e,s,v.getNode().getChild(s),c,f,p,d);if(ue(s)){let _=new Ie(null);return v.getNode().forEachChild(Sc,(b,T)=>{_=_.set(new He(b),T)}),U2(a,e,s,_,c,f,p,d)}else return e}else{let _=new Ie(null);return o.foreach((b,T)=>{const C=Ln(s,b);v.isCompleteForPath(C)&&(_=_.set(b,v.getNode().getChild(C)))}),U2(a,e,s,_,c,f,p,d)}}function eE(a,e,s,o,c){const f=e.serverCache,d=p3(e,f.getNode(),f.isFullyInitialized()||ue(s),f.isFiltered());return C3(a,d,s,o,E3,c)}function nE(a,e,s,o,c,f){let d;if(A1(o,s)!=null)return e;{const p=new pm(o,e,c),v=e.eventCache.getNode();let _;if(ue(s)||le(s)===".priority"){let b;if(e.serverCache.isFullyInitialized())b=T1(o,iu(e));else{const T=e.serverCache.getNode();Nt(T instanceof Ft,"serverChildren would be complete if leaf node"),b=gm(o,T)}b=b,_=a.filter.updateFullNode(v,b,f)}else{const b=le(s);let T=mm(o,b,e.serverCache);T==null&&e.serverCache.isCompleteForChild(b)&&(T=v.getImmediateChild(b)),T!=null?_=a.filter.updateChild(v,b,T,Fe(s),p,f):e.eventCache.getNode().hasChild(b)?_=a.filter.updateChild(v,b,Ft.EMPTY_NODE,Fe(s),p,f):_=v,_.isEmpty()&&e.serverCache.isFullyInitialized()&&(d=T1(o,iu(e)),d.isLeafNode()&&(_=a.filter.updateFullNode(_,d,f)))}return d=e.serverCache.isFullyInitialized()||A1(o,Ee())!=null,nd(e,_,d,a.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iE{constructor(e,s){this.query_=e,this.eventRegistrations_=[];const o=this.query_._queryParams,c=new um(o.getIndex()),f=Eb(o);this.processor_=Ib(f);const d=s.serverCache,p=s.eventCache,v=c.updateFullNode(Ft.EMPTY_NODE,d.getNode(),null),_=f.updateFullNode(Ft.EMPTY_NODE,p.getNode(),null),b=new nu(v,d.isFullyInitialized(),c.filtersNodes()),T=new nu(_,p.isFullyInitialized(),f.filtersNodes());this.viewCache_=Y1(T,b),this.eventGenerator_=new Db(this.query_)}get query(){return this.query_}}function aE(a){return a.viewCache_.serverCache.getNode()}function lE(a,e){const s=iu(a.viewCache_);return s&&(a.query._queryParams.loadsAllData()||!ue(e)&&!s.getImmediateChild(le(e)).isEmpty())?s.getChild(e):null}function Gv(a){return a.eventRegistrations_.length===0}function sE(a,e){a.eventRegistrations_.push(e)}function Hv(a,e,s){const o=[];if(s){Nt(e==null,"A cancel should cancel all event registrations.");const c=a.query._path;a.eventRegistrations_.forEach(f=>{const d=f.createCancelEvent(s,c);d&&o.push(d)})}if(e){let c=[];for(let f=0;f<a.eventRegistrations_.length;++f){const d=a.eventRegistrations_[f];if(!d.matches(e))c.push(d);else if(e.hasAnyCallback()){c=c.concat(a.eventRegistrations_.slice(f+1));break}}a.eventRegistrations_=c}else a.eventRegistrations_=[];return o}function Bv(a,e,s,o){e.type===_l.MERGE&&e.source.queryId!==null&&(Nt(iu(a.viewCache_),"We should always have a full cache before handling merges"),Nt(D2(a.viewCache_),"Missing event cache, even though we have a server cache"));const c=a.viewCache_,f=Jb(a.processor_,c,e,s,o);return Zb(a.processor_,f.viewCache),Nt(f.viewCache.serverCache.isFullyInitialized()||!c.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),a.viewCache_=f.viewCache,T3(a,f.changes,f.viewCache.eventCache.getNode(),null)}function rE(a,e){const s=a.viewCache_.eventCache,o=[];return s.getNode().isLeafNode()||s.getNode().forEachChild(gn,(f,d)=>{o.push(Tc(f,d))}),s.isFullyInitialized()&&o.push(d3(s.getNode())),T3(a,o,s.getNode(),e)}function T3(a,e,s,o){const c=o?[o]:a.eventRegistrations_;return Ob(a.eventGenerator_,e,s,c)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let N1;class oE{constructor(){this.views=new Map}}function uE(a){Nt(!N1,"__referenceConstructor has already been defined"),N1=a}function cE(){return Nt(N1,"Reference.ts has not been loaded"),N1}function hE(a){return a.views.size===0}function _m(a,e,s,o){const c=e.source.queryId;if(c!==null){const f=a.views.get(c);return Nt(f!=null,"SyncTree gave us an op for an invalid query."),Bv(f,e,s,o)}else{let f=[];for(const d of a.views.values())f=f.concat(Bv(d,e,s,o));return f}}function fE(a,e,s,o,c){const f=e._queryIdentifier,d=a.views.get(f);if(!d){let p=T1(s,c?o:null),v=!1;p?v=!0:o instanceof Ft?(p=gm(s,o),v=!1):(p=Ft.EMPTY_NODE,v=!1);const _=Y1(new nu(p,v,!1),new nu(o,c,!1));return new iE(e,_)}return d}function dE(a,e,s,o,c,f){const d=fE(a,e,o,c,f);return a.views.has(e._queryIdentifier)||a.views.set(e._queryIdentifier,d),sE(d,s),rE(d,s)}function gE(a,e,s,o){const c=e._queryIdentifier,f=[];let d=[];const p=Pr(a);if(c==="default")for(const[v,_]of a.views.entries())d=d.concat(Hv(_,s,o)),Gv(_)&&(a.views.delete(v),_.query._queryParams.loadsAllData()||f.push(_.query));else{const v=a.views.get(c);v&&(d=d.concat(Hv(v,s,o)),Gv(v)&&(a.views.delete(c),v.query._queryParams.loadsAllData()||f.push(v.query)))}return p&&!Pr(a)&&f.push(new(cE())(e._repo,e._path)),{removed:f,events:d}}function A3(a){const e=[];for(const s of a.views.values())s.query._queryParams.loadsAllData()||e.push(s);return e}function bc(a,e){let s=null;for(const o of a.views.values())s=s||lE(o,e);return s}function R3(a,e){if(e._queryParams.loadsAllData())return j1(a);{const o=e._queryIdentifier;return a.views.get(o)}}function N3(a,e){return R3(a,e)!=null}function Pr(a){return j1(a)!=null}function j1(a){for(const e of a.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let M1;function mE(a){Nt(!M1,"__referenceConstructor has already been defined"),M1=a}function pE(){return Nt(M1,"Reference.ts has not been loaded"),M1}let _E=1;class Lv{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Ie(null),this.pendingWriteTree_=Xb(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function M3(a,e,s,o,c){return zb(a.pendingWriteTree_,e,s,o,c),c?Ed(a,new eu(m3(),e,s)):[]}function $o(a,e,s=!1){const o=Gb(a.pendingWriteTree_,e);if(Hb(a.pendingWriteTree_,e)){let f=new Ie(null);return o.snap!=null?f=f.set(Ee(),!0):la(o.children,d=>{f=f.set(new He(d),!0)}),Ed(a,new C1(o.path,f,s))}else return[]}function F1(a,e,s){return Ed(a,new eu(hm(),e,s))}function vE(a,e,s){const o=Ie.fromObject(s);return Ed(a,new gd(hm(),e,o))}function yE(a,e){return Ed(a,new dd(hm(),e))}function SE(a,e,s){const o=ym(a,s);if(o){const c=Sm(o),f=c.path,d=c.queryId,p=na(f,e),v=new dd(fm(d),p);return bm(a,f,v)}else return[]}function z2(a,e,s,o,c=!1){const f=e._path,d=a.syncPointTree_.get(f);let p=[];if(d&&(e._queryIdentifier==="default"||N3(d,e))){const v=gE(d,e,s,o);hE(d)&&(a.syncPointTree_=a.syncPointTree_.remove(f));const _=v.removed;if(p=v.events,!c){const b=_.findIndex(C=>C._queryParams.loadsAllData())!==-1,T=a.syncPointTree_.findOnPath(f,(C,A)=>Pr(A));if(b&&!T){const C=a.syncPointTree_.subtree(f);if(!C.isEmpty()){const A=CE(C);for(let E=0;E<A.length;++E){const O=A[E],w=O.query,H=x3(a,O);a.listenProvider_.startListening(ad(w),D1(a,w),H.hashFn,H.onComplete)}}}!T&&_.length>0&&!o&&(b?a.listenProvider_.stopListening(ad(e),null):_.forEach(C=>{const A=a.queryToTagMap.get(k1(C));a.listenProvider_.stopListening(ad(C),A)}))}TE(a,_)}return p}function bE(a,e,s,o){const c=ym(a,o);if(c!=null){const f=Sm(c),d=f.path,p=f.queryId,v=na(d,e),_=new eu(fm(p),v,s);return bm(a,d,_)}else return[]}function EE(a,e,s,o){const c=ym(a,o);if(c){const f=Sm(c),d=f.path,p=f.queryId,v=na(d,e),_=Ie.fromObject(s),b=new gd(fm(p),v,_);return bm(a,d,b)}else return[]}function qv(a,e,s,o=!1){const c=e._path;let f=null,d=!1;a.syncPointTree_.foreachOnPath(c,(C,A)=>{const E=na(C,c);f=f||bc(A,E),d=d||Pr(A)});let p=a.syncPointTree_.get(c);p?(d=d||Pr(p),f=f||bc(p,Ee())):(p=new oE,a.syncPointTree_=a.syncPointTree_.set(c,p));let v;f!=null?v=!0:(v=!1,f=Ft.EMPTY_NODE,a.syncPointTree_.subtree(c).foreachChild((A,E)=>{const O=bc(E,Ee());O&&(f=f.updateImmediateChild(A,O))}));const _=N3(p,e);if(!_&&!e._queryParams.loadsAllData()){const C=k1(e);Nt(!a.queryToTagMap.has(C),"View does not exist, but we have a tag");const A=AE();a.queryToTagMap.set(C,A),a.tagToQueryMap.set(A,C)}const b=dm(a.pendingWriteTree_,c);let T=dE(p,e,s,b,f,v);if(!_&&!d&&!o){const C=R3(p,e);T=T.concat(RE(a,e,C))}return T}function vm(a,e,s){const c=a.pendingWriteTree_,f=a.syncPointTree_.findOnPath(e,(d,p)=>{const v=na(d,e),_=bc(p,v);if(_)return _});return y3(c,e,f,s,!0)}function Ed(a,e){return D3(e,a.syncPointTree_,null,dm(a.pendingWriteTree_,Ee()))}function D3(a,e,s,o){if(ue(a.path))return O3(a,e,s,o);{const c=e.get(Ee());s==null&&c!=null&&(s=bc(c,Ee()));let f=[];const d=le(a.path),p=a.operationForChild(d),v=e.children.get(d);if(v&&p){const _=s?s.getImmediateChild(d):null,b=S3(o,d);f=f.concat(D3(p,v,_,b))}return c&&(f=f.concat(_m(c,a,o,s))),f}}function O3(a,e,s,o){const c=e.get(Ee());s==null&&c!=null&&(s=bc(c,Ee()));let f=[];return e.children.inorderTraversal((d,p)=>{const v=s?s.getImmediateChild(d):null,_=S3(o,d),b=a.operationForChild(d);b&&(f=f.concat(O3(b,p,v,_)))}),c&&(f=f.concat(_m(c,a,o,s))),f}function x3(a,e){const s=e.query,o=D1(a,s);return{hashFn:()=>(aE(e)||Ft.EMPTY_NODE).hash(),onComplete:c=>{if(c==="ok")return o?SE(a,s._path,o):yE(a,s._path);{const f=b7(c,s);return z2(a,s,null,f)}}}}function D1(a,e){const s=k1(e);return a.queryToTagMap.get(s)}function k1(a){return a._path.toString()+"$"+a._queryIdentifier}function ym(a,e){return a.tagToQueryMap.get(e)}function Sm(a){const e=a.indexOf("$");return Nt(e!==-1&&e<a.length-1,"Bad queryKey."),{queryId:a.substr(e+1),path:new He(a.substr(0,e))}}function bm(a,e,s){const o=a.syncPointTree_.get(e);Nt(o,"Missing sync point for query tag that we're tracking");const c=dm(a.pendingWriteTree_,e);return _m(o,s,c,null)}function CE(a){return a.fold((e,s,o)=>{if(s&&Pr(s))return[j1(s)];{let c=[];return s&&(c=A3(s)),la(o,(f,d)=>{c=c.concat(d)}),c}})}function ad(a){return a._queryParams.loadsAllData()&&!a._queryParams.isDefault()?new(pE())(a._repo,a._path):a}function TE(a,e){for(let s=0;s<e.length;++s){const o=e[s];if(!o._queryParams.loadsAllData()){const c=k1(o),f=a.queryToTagMap.get(c);a.queryToTagMap.delete(c),a.tagToQueryMap.delete(f)}}}function AE(){return _E++}function RE(a,e,s){const o=e._path,c=D1(a,e),f=x3(a,s),d=a.listenProvider_.startListening(ad(e),c,f.hashFn,f.onComplete),p=a.syncPointTree_.subtree(o);if(c)Nt(!Pr(p.value),"If we're adding a query, it shouldn't be shadowed");else{const v=p.fold((_,b,T)=>{if(!ue(_)&&b&&Pr(b))return[j1(b).query];{let C=[];return b&&(C=C.concat(A3(b).map(A=>A.query))),la(T,(A,E)=>{C=C.concat(E)}),C}});for(let _=0;_<v.length;++_){const b=v[_];a.listenProvider_.stopListening(ad(b),D1(a,b))}}return d}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Em{constructor(e){this.node_=e}getImmediateChild(e){const s=this.node_.getImmediateChild(e);return new Em(s)}node(){return this.node_}}class Cm{constructor(e,s){this.syncTree_=e,this.path_=s}getImmediateChild(e){const s=Ln(this.path_,e);return new Cm(this.syncTree_,s)}node(){return vm(this.syncTree_,this.path_)}}const NE=function(a){return a=a||{},a.timestamp=a.timestamp||new Date().getTime(),a},Vv=function(a,e,s){if(!a||typeof a!="object")return a;if(Nt(".sv"in a,"Unexpected leaf node or priority contents"),typeof a[".sv"]=="string")return ME(a[".sv"],e,s);if(typeof a[".sv"]=="object")return DE(a[".sv"],e);Nt(!1,"Unexpected server value: "+JSON.stringify(a,null,2))},ME=function(a,e,s){switch(a){case"timestamp":return s.timestamp;default:Nt(!1,"Unexpected server value: "+a)}},DE=function(a,e,s){a.hasOwnProperty("increment")||Nt(!1,"Unexpected server value: "+JSON.stringify(a,null,2));const o=a.increment;typeof o!="number"&&Nt(!1,"Unexpected increment value: "+o);const c=e.node();if(Nt(c!==null&&typeof c<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!c.isLeafNode())return o;const d=c.getValue();return typeof d!="number"?o:d+o},OE=function(a,e,s,o){return Tm(e,new Cm(s,a),o)},w3=function(a,e,s){return Tm(a,new Em(e),s)};function Tm(a,e,s){const o=a.getPriority().val(),c=Vv(o,e.getImmediateChild(".priority"),s);let f;if(a.isLeafNode()){const d=a,p=Vv(d.getValue(),e,s);return p!==d.getValue()||c!==d.getPriority().val()?new Kn(p,oi(c)):a}else{const d=a;return f=d,c!==d.getPriority().val()&&(f=f.updatePriority(new Kn(c))),d.forEachChild(gn,(p,v)=>{const _=Tm(v,e.getImmediateChild(p),s);_!==v&&(f=f.updateImmediateChild(p,_))}),f}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Am{constructor(e="",s=null,o={children:{},childCount:0}){this.name=e,this.parent=s,this.node=o}}function Rm(a,e){let s=e instanceof He?e:new He(e),o=a,c=le(s);for(;c!==null;){const f=Ec(o.node.children,c)||{children:{},childCount:0};o=new Am(c,o,f),s=Fe(s),c=le(s)}return o}function xc(a){return a.node.value}function U3(a,e){a.node.value=e,G2(a)}function z3(a){return a.node.childCount>0}function xE(a){return xc(a)===void 0&&!z3(a)}function X1(a,e){la(a.node.children,(s,o)=>{e(new Am(s,a,o))})}function G3(a,e,s,o){s&&e(a),X1(a,c=>{G3(c,e,!0)})}function wE(a,e,s){let o=a.parent;for(;o!==null;){if(e(o))return!0;o=o.parent}return!1}function Cd(a){return new He(a.parent===null?a.name:Cd(a.parent)+"/"+a.name)}function G2(a){a.parent!==null&&UE(a.parent,a.name,a)}function UE(a,e,s){const o=xE(s),c=Xs(a.node.children,e);o&&c?(delete a.node.children[e],a.node.childCount--,G2(a)):!o&&!c&&(a.node.children[e]=s.node,a.node.childCount++,G2(a))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zE=/[\[\].#$\/\u0000-\u001F\u007F]/,GE=/[\[\].#$\u0000-\u001F\u007F]/,h2=10*1024*1024,H3=function(a){return typeof a=="string"&&a.length!==0&&!zE.test(a)},B3=function(a){return typeof a=="string"&&a.length!==0&&!GE.test(a)},HE=function(a){return a&&(a=a.replace(/^\/*\.info(\/|$)/,"/")),B3(a)},BE=function(a,e,s,o){Nm(tm(a,"value"),e,s)},Nm=function(a,e,s){const o=s instanceof He?new tb(s,a):s;if(e===void 0)throw new Error(a+"contains undefined "+Jo(o));if(typeof e=="function")throw new Error(a+"contains a function "+Jo(o)+" with contents = "+e.toString());if(By(e))throw new Error(a+"contains "+e.toString()+" "+Jo(o));if(typeof e=="string"&&e.length>h2/3&&q1(e)>h2)throw new Error(a+"contains a string greater than "+h2+" utf8 bytes "+Jo(o)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let c=!1,f=!1;if(la(e,(d,p)=>{if(d===".value")c=!0;else if(d!==".priority"&&d!==".sv"&&(f=!0,!H3(d)))throw new Error(a+" contains an invalid key ("+d+") "+Jo(o)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);eb(o,d),Nm(a,p,o),nb(o)}),c&&f)throw new Error(a+' contains ".value" child '+Jo(o)+" in addition to actual children.")}},L3=function(a,e,s,o){if(!B3(s))throw new Error(tm(a,e)+'was an invalid path = "'+s+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},LE=function(a,e,s,o){s&&(s=s.replace(/^\/*\.info(\/|$)/,"/")),L3(a,e,s)},qE=function(a,e){if(le(e)===".info")throw new Error(a+" failed = Can't modify data under /.info/")},VE=function(a,e){const s=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!H3(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||s.length!==0&&!HE(s))throw new Error(tm(a,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YE{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Mm(a,e){let s=null;for(let o=0;o<e.length;o++){const c=e[o],f=c.getPath();s!==null&&!sm(f,s.path)&&(a.eventLists_.push(s),s=null),s===null&&(s={events:[],path:f}),s.events.push(c)}s&&a.eventLists_.push(s)}function q3(a,e,s){Mm(a,s),V3(a,o=>sm(o,e))}function ks(a,e,s){Mm(a,s),V3(a,o=>pl(o,e)||pl(e,o))}function V3(a,e){a.recursionDepth_++;let s=!0;for(let o=0;o<a.eventLists_.length;o++){const c=a.eventLists_[o];if(c){const f=c.path;e(f)?(jE(a.eventLists_[o]),a.eventLists_[o]=null):s=!1}}s&&(a.eventLists_=[]),a.recursionDepth_--}function jE(a){for(let e=0;e<a.events.length;e++){const s=a.events[e];if(s!==null){a.events[e]=null;const o=s.getEventRunner();td&&Si("event: "+s.toString()),Oc(o)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FE="repo_interrupt",kE=25;class XE{constructor(e,s,o,c){this.repoInfo_=e,this.forceRestClient_=s,this.authTokenProvider_=o,this.appCheckProvider_=c,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new YE,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=E1(),this.transactionQueueTree_=new Am,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function KE(a,e,s){if(a.stats_=am(a.repoInfo_),a.forceRestClient_||A7())a.server_=new b1(a.repoInfo_,(o,c,f,d)=>{Yv(a,o,c,f,d)},a.authTokenProvider_,a.appCheckProvider_),setTimeout(()=>jv(a,!0),0);else{if(typeof s<"u"&&s!==null){if(typeof s!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Qn(s)}catch(o){throw new Error("Invalid authOverride provided: "+o)}}a.persistentConnection_=new Vs(a.repoInfo_,e,(o,c,f,d)=>{Yv(a,o,c,f,d)},o=>{jv(a,o)},o=>{QE(a,o)},a.authTokenProvider_,a.appCheckProvider_,s),a.server_=a.persistentConnection_}a.authTokenProvider_.addTokenChangeListener(o=>{a.server_.refreshAuthToken(o)}),a.appCheckProvider_.addTokenChangeListener(o=>{a.server_.refreshAppCheckToken(o.token)}),a.statsReporter_=O7(a.repoInfo_,()=>new Mb(a.stats_,a.server_)),a.infoData_=new Cb,a.infoSyncTree_=new Lv({startListening:(o,c,f,d)=>{let p=[];const v=a.infoData_.getNode(o._path);return v.isEmpty()||(p=F1(a.infoSyncTree_,o._path,v),setTimeout(()=>{d("ok")},0)),p},stopListening:()=>{}}),Om(a,"connected",!1),a.serverSyncTree_=new Lv({startListening:(o,c,f,d)=>(a.server_.listen(o,f,c,(p,v)=>{const _=d(p,v);ks(a.eventQueue_,o._path,_)}),[]),stopListening:(o,c)=>{a.server_.unlisten(o,c)}})}function PE(a){const s=a.infoData_.getNode(new He(".info/serverTimeOffset")).val()||0;return new Date().getTime()+s}function Dm(a){return NE({timestamp:PE(a)})}function Yv(a,e,s,o,c){a.dataUpdateCount++;const f=new He(e);s=a.interceptServerDataCallback_?a.interceptServerDataCallback_(e,s):s;let d=[];if(c)if(o){const v=g1(s,_=>oi(_));d=EE(a.serverSyncTree_,f,v,c)}else{const v=oi(s);d=bE(a.serverSyncTree_,f,v,c)}else if(o){const v=g1(s,_=>oi(_));d=vE(a.serverSyncTree_,f,v)}else{const v=oi(s);d=F1(a.serverSyncTree_,f,v)}let p=f;d.length>0&&(p=K1(a,f)),ks(a.eventQueue_,p,d)}function jv(a,e){Om(a,"connected",e),e===!1&&ZE(a)}function QE(a,e){la(e,(s,o)=>{Om(a,s,o)})}function Om(a,e,s){const o=new He("/.info/"+e),c=oi(s);a.infoData_.updateSnapshot(o,c);const f=F1(a.infoSyncTree_,o,c);ks(a.eventQueue_,o,f)}function Y3(a){return a.nextWriteId_++}function IE(a,e,s,o,c){xm(a,"set",{path:e.toString(),value:s,priority:o});const f=Dm(a),d=oi(s,o),p=vm(a.serverSyncTree_,e),v=w3(d,p,f),_=Y3(a),b=M3(a.serverSyncTree_,e,v,_,!0);Mm(a.eventQueue_,b),a.server_.put(e.toString(),d.val(!0),(C,A)=>{const E=C==="ok";E||aa("set at "+e+" failed: "+C);const O=$o(a.serverSyncTree_,_,!E);ks(a.eventQueue_,e,O),tC(a,c,C,A)});const T=K3(a,e);K1(a,T),ks(a.eventQueue_,T,[])}function ZE(a){xm(a,"onDisconnectEvents");const e=Dm(a),s=E1();M2(a.onDisconnect_,Ee(),(c,f)=>{const d=OE(c,f,a.serverSyncTree_,e);g3(s,c,d)});let o=[];M2(s,Ee(),(c,f)=>{o=o.concat(F1(a.serverSyncTree_,c,f));const d=K3(a,c);K1(a,d)}),a.onDisconnect_=E1(),ks(a.eventQueue_,Ee(),o)}function JE(a,e,s){let o;le(e._path)===".info"?o=qv(a.infoSyncTree_,e,s):o=qv(a.serverSyncTree_,e,s),q3(a.eventQueue_,e._path,o)}function WE(a,e,s){let o;le(e._path)===".info"?o=z2(a.infoSyncTree_,e,s):o=z2(a.serverSyncTree_,e,s),q3(a.eventQueue_,e._path,o)}function $E(a){a.persistentConnection_&&a.persistentConnection_.interrupt(FE)}function xm(a,...e){let s="";a.persistentConnection_&&(s=a.persistentConnection_.id+":"),Si(s,...e)}function tC(a,e,s,o){e&&Oc(()=>{if(s==="ok")e(null);else{const c=(s||"error").toUpperCase();let f=c;o&&(f+=": "+o);const d=new Error(f);d.code=c,e(d)}})}function j3(a,e,s){return vm(a.serverSyncTree_,e,s)||Ft.EMPTY_NODE}function wm(a,e=a.transactionQueueTree_){if(e||P1(a,e),xc(e)){const s=k3(a,e);Nt(s.length>0,"Sending zero length transaction queue"),s.every(c=>c.status===0)&&eC(a,Cd(e),s)}else z3(e)&&X1(e,s=>{wm(a,s)})}function eC(a,e,s){const o=s.map(_=>_.currentWriteId),c=j3(a,e,o);let f=c;const d=c.hash();for(let _=0;_<s.length;_++){const b=s[_];Nt(b.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),b.status=1,b.retryCount++;const T=na(e,b.path);f=f.updateChild(T,b.currentOutputSnapshotRaw)}const p=f.val(!0),v=e;a.server_.put(v.toString(),p,_=>{xm(a,"transaction put response",{path:v.toString(),status:_});let b=[];if(_==="ok"){const T=[];for(let C=0;C<s.length;C++)s[C].status=2,b=b.concat($o(a.serverSyncTree_,s[C].currentWriteId)),s[C].onComplete&&T.push(()=>s[C].onComplete(null,!0,s[C].currentOutputSnapshotResolved)),s[C].unwatcher();P1(a,Rm(a.transactionQueueTree_,e)),wm(a,a.transactionQueueTree_),ks(a.eventQueue_,e,b);for(let C=0;C<T.length;C++)Oc(T[C])}else{if(_==="datastale")for(let T=0;T<s.length;T++)s[T].status===3?s[T].status=4:s[T].status=0;else{aa("transaction at "+v.toString()+" failed: "+_);for(let T=0;T<s.length;T++)s[T].status=4,s[T].abortReason=_}K1(a,e)}},d)}function K1(a,e){const s=F3(a,e),o=Cd(s),c=k3(a,s);return nC(a,c,o),o}function nC(a,e,s){if(e.length===0)return;const o=[];let c=[];const d=e.filter(p=>p.status===0).map(p=>p.currentWriteId);for(let p=0;p<e.length;p++){const v=e[p],_=na(s,v.path);let b=!1,T;if(Nt(_!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),v.status===4)b=!0,T=v.abortReason,c=c.concat($o(a.serverSyncTree_,v.currentWriteId,!0));else if(v.status===0)if(v.retryCount>=kE)b=!0,T="maxretry",c=c.concat($o(a.serverSyncTree_,v.currentWriteId,!0));else{const C=j3(a,v.path,d);v.currentInputSnapshot=C;const A=e[p].update(C.val());if(A!==void 0){Nm("transaction failed: Data returned ",A,v.path);let E=oi(A);typeof A=="object"&&A!=null&&Xs(A,".priority")||(E=E.updatePriority(C.getPriority()));const w=v.currentWriteId,H=Dm(a),N=w3(E,C,H);v.currentOutputSnapshotRaw=E,v.currentOutputSnapshotResolved=N,v.currentWriteId=Y3(a),d.splice(d.indexOf(w),1),c=c.concat(M3(a.serverSyncTree_,v.path,N,v.currentWriteId,v.applyLocally)),c=c.concat($o(a.serverSyncTree_,w,!0))}else b=!0,T="nodata",c=c.concat($o(a.serverSyncTree_,v.currentWriteId,!0))}ks(a.eventQueue_,s,c),c=[],b&&(e[p].status=2,function(C){setTimeout(C,Math.floor(0))}(e[p].unwatcher),e[p].onComplete&&(T==="nodata"?o.push(()=>e[p].onComplete(null,!1,e[p].currentInputSnapshot)):o.push(()=>e[p].onComplete(new Error(T),!1,null))))}P1(a,a.transactionQueueTree_);for(let p=0;p<o.length;p++)Oc(o[p]);wm(a,a.transactionQueueTree_)}function F3(a,e){let s,o=a.transactionQueueTree_;for(s=le(e);s!==null&&xc(o)===void 0;)o=Rm(o,s),e=Fe(e),s=le(e);return o}function k3(a,e){const s=[];return X3(a,e,s),s.sort((o,c)=>o.order-c.order),s}function X3(a,e,s){const o=xc(e);if(o)for(let c=0;c<o.length;c++)s.push(o[c]);X1(e,c=>{X3(a,c,s)})}function P1(a,e){const s=xc(e);if(s){let o=0;for(let c=0;c<s.length;c++)s[c].status!==2&&(s[o]=s[c],o++);s.length=o,U3(e,s.length>0?s:void 0)}X1(e,o=>{P1(a,o)})}function K3(a,e){const s=Cd(F3(a,e)),o=Rm(a.transactionQueueTree_,e);return wE(o,c=>{f2(a,c)}),f2(a,o),G3(o,c=>{f2(a,c)}),s}function f2(a,e){const s=xc(e);if(s){const o=[];let c=[],f=-1;for(let d=0;d<s.length;d++)s[d].status===3||(s[d].status===1?(Nt(f===d-1,"All SENT items should be at beginning of queue."),f=d,s[d].status=3,s[d].abortReason="set"):(Nt(s[d].status===0,"Unexpected transaction status in abort"),s[d].unwatcher(),c=c.concat($o(a.serverSyncTree_,s[d].currentWriteId,!0)),s[d].onComplete&&o.push(s[d].onComplete.bind(null,new Error("set"),!1,null))));f===-1?U3(e,void 0):s.length=f+1,ks(a.eventQueue_,Cd(e),c);for(let d=0;d<o.length;d++)Oc(o[d])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iC(a){let e="";const s=a.split("/");for(let o=0;o<s.length;o++)if(s[o].length>0){let c=s[o];try{c=decodeURIComponent(c.replace(/\+/g," "))}catch{}e+="/"+c}return e}function aC(a){const e={};a.charAt(0)==="?"&&(a=a.substring(1));for(const s of a.split("&")){if(s.length===0)continue;const o=s.split("=");o.length===2?e[decodeURIComponent(o[0])]=decodeURIComponent(o[1]):aa(`Invalid query segment '${s}' in query '${a}'`)}return e}const Fv=function(a,e){const s=lC(a),o=s.namespace;s.domain==="firebase.com"&&Fs(s.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!o||o==="undefined")&&s.domain!=="localhost"&&Fs("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),s.secure||p7();const c=s.scheme==="ws"||s.scheme==="wss";return{repoInfo:new Iy(s.host,s.secure,o,c,e,"",o!==s.subdomain),path:new He(s.pathString)}},lC=function(a){let e="",s="",o="",c="",f="",d=!0,p="https",v=443;if(typeof a=="string"){let _=a.indexOf("//");_>=0&&(p=a.substring(0,_-1),a=a.substring(_+2));let b=a.indexOf("/");b===-1&&(b=a.length);let T=a.indexOf("?");T===-1&&(T=a.length),e=a.substring(0,Math.min(b,T)),b<T&&(c=iC(a.substring(b,T)));const C=aC(a.substring(Math.min(a.length,T)));_=e.indexOf(":"),_>=0?(d=p==="https"||p==="wss",v=parseInt(e.substring(_+1),10)):_=e.length;const A=e.slice(0,_);if(A.toLowerCase()==="localhost")s="localhost";else if(A.split(".").length<=2)s=A;else{const E=e.indexOf(".");o=e.substring(0,E).toLowerCase(),s=e.substring(E+1),f=o}"ns"in C&&(f=C.ns)}return{host:e,port:v,domain:s,subdomain:o,secure:d,scheme:p,pathString:c,namespace:f}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC{constructor(e,s,o,c){this.eventType=e,this.eventRegistration=s,this.snapshot=o,this.prevName=c}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Qn(this.snapshot.exportVal())}}class rC{constructor(e,s,o){this.eventRegistration=e,this.error=s,this.path=o}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC{constructor(e,s){this.snapshotCallback=e,this.cancelCallback=s}onValue(e,s){this.snapshotCallback.call(null,e,s)}onCancel(e){return Nt(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Um{constructor(e,s,o,c){this._repo=e,this._path=s,this._queryParams=o,this._orderByCalled=c}get key(){return ue(this._path)?null:a3(this._path)}get ref(){return new Zr(this._repo,this._path)}get _queryIdentifier(){const e=Nv(this._queryParams),s=nm(e);return s==="{}"?"default":s}get _queryObject(){return Nv(this._queryParams)}isEqual(e){if(e=vd(e),!(e instanceof Um))return!1;const s=this._repo===e._repo,o=sm(this._path,e._path),c=this._queryIdentifier===e._queryIdentifier;return s&&o&&c}toJSON(){return this.toString()}toString(){return this._repo.toString()+$7(this._path)}}class Zr extends Um{constructor(e,s){super(e,s,new cm,!1)}get parent(){const e=s3(this._path);return e===null?null:new Zr(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class O1{constructor(e,s,o){this._node=e,this.ref=s,this._index=o}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const s=new He(e),o=H2(this.ref,e);return new O1(this._node.getChild(s),o,gn)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(o,c)=>e(new O1(c,H2(this.ref,o),gn)))}hasChild(e){const s=new He(e);return!this._node.getChild(s).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function d2(a,e){return a=vd(a),a._checkNotDeleted("ref"),e!==void 0?H2(a._root,e):a._root}function H2(a,e){return a=vd(a),le(a._path)===null?LE("child","path",e):L3("child","path",e),new Zr(a._repo,Ln(a._path,e))}function kv(a,e){a=vd(a),qE("set",a._path),BE("set",e,a._path);const s=new L1;return IE(a._repo,a._path,e,null,s.wrapCallback(()=>{})),s.promise}class zm{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,s){const o=s._queryParams.getIndex();return new sC("value",this,new O1(e.snapshotNode,new Zr(s._repo,s._path),o))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,s){return this.callbackContext.hasCancelCallback?new rC(this,e,s):null}matches(e){return e instanceof zm?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function uC(a,e,s,o,c){const f=new oC(s,void 0),d=new zm(f);return JE(a._repo,a,d),()=>WE(a._repo,a,d)}function cC(a,e,s,o){return uC(a,"value",e)}uE(Zr);mE(Zr);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hC="FIREBASE_DATABASE_EMULATOR_HOST",B2={};let fC=!1;function dC(a,e,s,o){a.repoInfo_=new Iy(e,!1,a.repoInfo_.namespace,a.repoInfo_.webSocketOnly,a.repoInfo_.nodeAdmin,a.repoInfo_.persistenceKey,a.repoInfo_.includeNamespaceInQueryParams,!0,s),o&&(a.authTokenProvider_=o)}function gC(a,e,s,o,c){let f=o||a.options.databaseURL;f===void 0&&(a.options.projectId||Fs("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Si("Using default host for project ",a.options.projectId),f=`${a.options.projectId}-default-rtdb.firebaseio.com`);let d=Fv(f,c),p=d.repoInfo,v;typeof process<"u"&&uv&&(v=uv[hC]),v?(f=`http://${v}?ns=${p.namespace}`,d=Fv(f,c),p=d.repoInfo):d.repoInfo.secure;const _=new N7(a.name,a.options,e);VE("Invalid Firebase Database URL",d),ue(d.path)||Fs("Database URL must point to the root of a Firebase Database (not including a child path).");const b=pC(p,a,_,new R7(a,s));return new _C(b,a)}function mC(a,e){const s=B2[e];(!s||s[a.key]!==a)&&Fs(`Database ${e}(${a.repoInfo_}) has already been deleted.`),$E(a),delete s[a.key]}function pC(a,e,s,o){let c=B2[e.name];c||(c={},B2[e.name]=c);let f=c[a.toURLString()];return f&&Fs("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),f=new XE(a,fC,s,o),c[a.toURLString()]=f,f}class _C{constructor(e,s){this._repoInternal=e,this.app=s,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(KE(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Zr(this._repo,Ee())),this._rootInternal}_delete(){return this._rootInternal!==null&&(mC(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Fs("Cannot call "+e+" on a deleted database.")}}function vC(a=J9(),e){const s=K9(a,"database").getImmediate({identifier:e});if(!s._instanceStarted){const o=GS("database");o&&yC(s,...o)}return s}function yC(a,e,s,o={}){a=vd(a),a._checkNotDeleted("useEmulator");const c=`${e}:${s}`,f=a._repoInternal;if(a._instanceStarted){if(c===a._repoInternal.repoInfo_.host&&m1(o,f.repoInfo_.emulatorOptions))return;Fs("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let d;if(f.repoInfo_.nodeAdmin)o.mockUserToken&&Fs('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),d=new c1(c1.OWNER);else if(o.mockUserToken){const p=typeof o.mockUserToken=="string"?o.mockUserToken:HS(o.mockUserToken,a.app.options.projectId);d=new c1(p)}dC(f,c,o,d)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SC(a){c7(Z9),_1(new rd("database",(e,{instanceIdentifier:s})=>{const o=e.getProvider("app").getImmediate(),c=e.getProvider("auth-internal"),f=e.getProvider("app-check-internal");return gC(o,c,f,s)},"PUBLIC").setMultipleInstances(!0)),vc(cv,hv,a),vc(cv,hv,"esm2017")}Vs.prototype.simpleListen=function(a,e){this.sendRequest("q",{p:a},e)};Vs.prototype.echo=function(a,e){this.sendRequest("echo",{d:a},e)};SC();const bC={apiKey:"AIzaSyAwoKG4b5oetqNnrZEHOfcvsESRtBoHL6U;",authDomain:"mimimi-49e3b.firebaseapp.com;",projectId:"mimimi-49e3b;",storageBucket:"mimimi-49e3b.firebasestorage.app;",messagingSenderId:"479685563050;",appId:"1:479685563050:web:f173645a0ad706885276d3;",measurementId:"G-23DZK84N0B;"},EC=xy(bC),g2=vC(EC),CC=()=>{const[a,e]=pt.useState([]),[s,o]=pt.useState([]),[c,f]=pt.useState("#ff0000"),d=C=>{const A=C.target.getStage().getPointerPosition();o([A.x,A.y])},p=C=>{if(s.length===0)return;const A=C.target.getStage().getPointerPosition();o(E=>[...E,A.x,A.y])},v=()=>{_({points:s,color:c}),o([])};pt.useEffect(()=>{const C=d2(g2,"drawings");cC(C,E=>{const O=E.val();O&&e(O)});const A=()=>{const E=d2(g2,"drawings");kv(E,a)};return window.addEventListener("beforeunload",A),()=>window.removeEventListener("beforeunload",A)},[a]);const _=C=>{const A=d2(g2,"lines");kv(A,[...a,C])},b=window.innerWidth*.7,T=window.innerHeight*.6;return Te.jsxs("div",{className:"drawing-canvas",children:[Te.jsx("input",{type:"color",value:c,onChange:C=>f(C.target.value)}),Te.jsx("div",{className:"canvas",children:Te.jsx(TS,{width:b,height:T,onMouseDown:d,onMouseMove:p,onMouseUp:v,children:Te.jsxs(ES,{children:[Te.jsx(CS,{width:b,height:T,fill:"#FFFFE0",className:"stage"}),a.map((C,A)=>Te.jsx(J_,{points:C.points,stroke:C.color,strokeWidth:3,tension:.7,lineCap:"round"},A)),s.length>0&&Te.jsx(J_,{points:s,stroke:c,strokeWidth:3,lineCap:"round"})]})})})]})};function TC(){const[a,e]=pt.useState(!1),[s,o]=pt.useState(!0);return pt.useEffect(()=>{const c=setTimeout(()=>{e(!0),setTimeout(()=>o(!1),500)},4e3);return()=>{clearTimeout(c)}},[]),Te.jsxs(Te.Fragment,{children:[s&&Te.jsx(f6,{className:a?"fade-out":""}),Te.jsxs(w5,{children:[Te.jsx(s1,{path:"/",element:s?Te.jsx(O5,{to:"/intro",replace:!0}):Te.jsx(Gp,{})}),Te.jsx(s1,{path:"/intro",element:Te.jsx(Gp,{})}),Te.jsx(s1,{path:"/drawing-canvas",element:Te.jsx(CC,{})})]})]})}Y4.createRoot(document.getElementById("root")).render(Te.jsx(pt.StrictMode,{children:Te.jsx(e6,{children:Te.jsx(TC,{})})}));
